/*! For license information please see main.aaa50c5d.js.LICENSE.txt */
(()=>{"use strict";var e={0:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoginModal=void 0;(function(e){e&&e.__esModule})(n(176)),n(226);var r=n(812);t.LoginModal=function(e){var t=e.isOpen,n=e.onClose,i=e.onLoginSubmit,a=e.onMfaSubmit,o=e.mfaHint,s=e.loginError,l=e.mfaError,c=e.isLoading,u=e.isMfa;if(!t)return null;return(0,r.jsx)("div",{className:"modal-overlay ".concat(t?"active":""),children:(0,r.jsxs)("div",{className:"modal-card relative",style:{maxWidth:"420px"},children:[(0,r.jsxs)("div",{id:"loginStep",className:"modal-step ".concat(u?"":"active"),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Witaj z powrotem"}),(0,r.jsx)("button",{onClick:n,className:"modal-close-btn",children:"\xd7"})]}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=t.get("email"),r=t.get("password");i(n,r)},children:[(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("p",{className:"mb-6",children:"Zaloguj si\u0119, aby uzyska\u0107 dost\u0119p do platformy."}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email-input",className:"form-label",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email-input",name:"email",className:"modal-input",placeholder:"jan.kowalski@firma.com",required:!0})]}),(0,r.jsxs)("div",{children:[" ",(0,r.jsx)("label",{htmlFor:"password-input",className:"form-label",children:"Has\u0142o"}),(0,r.jsx)("input",{type:"password",id:"password-input",name:"password",className:"modal-input",required:!0})]}),(0,r.jsx)("div",{className:"text-red-500 text-sm text-center h-5",children:s})]}),(0,r.jsx)("div",{className:"modal-footer",children:(0,r.jsx)("button",{type:"submit",className:"modal-btn modal-btn-primary w-full",disabled:c&&!u,children:c&&!u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-modal"}),(0,r.jsx)("span",{children:"Logowanie..."})]}):(0,r.jsx)("span",{children:"Zaloguj si\u0119"})})})]})]}),(0,r.jsxs)("div",{id:"mfaStep",className:"modal-step ".concat(u?"active":""),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Weryfikacja dwuetapowa"}),(0,r.jsx)("button",{onClick:n,className:"modal-close-btn",children:"\xd7"})]}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("mfaCode");a(t)},children:[(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("p",{className:"mb-6",children:["Dla Twojego bezpiecze\u0144stwa, wpisz kod wys\u0142any na Tw\xf3j numer telefonu ",(0,r.jsx)("strong",{className:"text-text-primary",children:o}),"."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"mfaCode-input",className:"form-label",children:"Kod weryfikacyjny (6 cyfr)"}),(0,r.jsx)("input",{type:"text",id:"mfaCode-input",name:"mfaCode",inputMode:"numeric",pattern:"\\d{6}",maxLength:"6",className:"modal-input text-center text-xl tracking-[0.5em]",required:!0})]}),(0,r.jsx)("div",{className:"text-red-500 text-sm text-center h-5",children:l})]}),(0,r.jsx)("div",{className:"modal-footer",children:(0,r.jsx)("button",{type:"submit",className:"modal-btn modal-btn-primary w-full",disabled:c&&u,children:c&&u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-modal"}),(0,r.jsx)("span",{children:"Weryfikacja..."})]}):(0,r.jsx)("span",{children:"Weryfikuj"})})})]})]})]})})}},83:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+I(l,0):a,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+I(s=e[c],c);l+=A(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},112:(e,t,n)=>{function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>p,B6:()=>L,G3:()=>he,Gh:()=>B,HC:()=>ee,HS:()=>H,HW:()=>ue,Oi:()=>c,Pq:()=>G,RO:()=>M,Rr:()=>m,Sk:()=>Z,TM:()=>l,V2:()=>J,VV:()=>te,aE:()=>me,o1:()=>U,pX:()=>ne,pb:()=>j,rc:()=>i,ro:()=>E,sC:()=>o,tH:()=>Q,tW:()=>D,ue:()=>b,v6:()=>$,yD:()=>V,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const a="popstate";function o(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:a=!1}=e;t=n.map((e,t)=>d(e,"string"===typeof e?null:e.state,0===t?"default":void 0));let o=c(null==r?t.length-1:r),s=i.Pop,l=null;function c(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[o]}function d(e,n,r){void 0===n&&(n=null);let i=f(t?u().pathname:"/",e,n,r);return h("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function g(e){return"string"===typeof e?e:p(e)}return{get index(){return o},get action(){return s},get location(){return u()},createHref:g,createURL:e=>new URL(g(e),"http://localhost"),encodeLocation(e){let t="string"===typeof e?m(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){s=i.Push;let r=d(e,n);o+=1,t.splice(o,t.length,r),a&&l&&l({action:s,location:r,delta:1})},replace(e,n){s=i.Replace;let r=d(e,n);t[o]=r,a&&l&&l({action:s,location:r,delta:0})},go(e){s=i.Pop;let n=c(o+e),r=t[n];o=n,l&&l({action:s,location:r,delta:e})},listen:e=>(l=e,()=>{l=null})}}function s(e){return void 0===e&&(e={}),g(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,e)}function l(e){return void 0===e&&(e={}),g(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))},function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(u){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,o){void 0===o&&(o={});let{window:s=document.defaultView,v5Compat:l=!1}=o,u=s.history,h=i.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){h=i.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(r({},u.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(a,y),m=e,()=>{s.removeEventListener(a,y),m=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=i.Push;let r=f(b.location,e,t);n&&n(r,e),g=v()+1;let a=d(r,g),o=b.createHref(r);try{u.pushState(a,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(o)}l&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,t){h=i.Replace;let r=f(b.location,e,t);n&&n(r,e),g=v();let a=d(r,g),o=b.createHref(r);u.replaceState(a,"",o),l&&m&&m({action:h,location:b.location,delta:0})},go:e=>u.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map((e,a)=>{let o=[...n,String(a)],s="string"===typeof e.id?e.id:o.join("-");if(c(!0!==e.index||!e.children,"Cannot specify children on an index route"),c(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=r({},e,t(e),{id:s});return i[s]=n,n}{let n=r({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=w(e.children,t,o,i)),n}})}function b(e,t,n){return void 0===n&&(n="/"),_(e,t,n,!1)}function _(e,t,n,r){let i=j(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let a=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=M(i);o=O(a[s],e,r)}return o}function E(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=H([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),S(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=k(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const T=/^:[\w-]+$/,C=3,x=2,I=1,A=10,N=-2,R=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=N),t&&(r+=x),n.filter(e=>!R(e)).reduce((e,t)=>e+(T.test(t)?C:""===t?I:A),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:H([a,u.pathname]),pathnameBase:q(H([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=H([a,u.pathnameBase]))}return o}function D(e,t){void 0===t&&(t={});let n=e;n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(h(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=e=>null==e?"":"string"===typeof e?e:String(e);return r+n.split(/\/+/).map((e,n,r)=>{if(n===r.length-1&&"*"===e){return i(t["*"])}const a=e.match(/^:([\w-]+)(\??)$/);if(a){const[,e,n]=a;let r=t[e];return c("?"===n||null!=r,'Missing ":'+e+'" param'),i(r)}return e.replace(/\?$/g,"")}).filter(e=>!!e).join("/")}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:o,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function U(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:K(r),hash:W(i)}}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=z(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function B(e,t,n,i){let a;void 0===i&&(i=!1),"string"===typeof e?a=m(e):(a=r({},e),c(!a.pathname||!a.pathname.includes("?"),F("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),F("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),F("#","search","hash",a)));let o,s=""===e||""===a.pathname,l=s?"/":a.pathname;if(null==l)o=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=U(a,o),h=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const H=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",G=function(e,t){void 0===t&&(t={});let n="number"===typeof t?{status:t}:t,i=new Headers(n.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),r({},n,{headers:i}))};class Q extends Error{}class X{constructor(e,t){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],c(e&&"object"===typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise((e,t)=>n=t),this.controller=new AbortController;let r=()=>n(new Q("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then(t=>this.onSettle(n,e,void 0,t),t=>this.onSettle(n,e,t));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof Q)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),void 0===n&&void 0===r){let n=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)}return void 0===r?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r)}emit(e,t){this.subscribers.forEach(n=>n(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise(t=>{this.subscribe(r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)})})}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return c(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:Y(r)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Y(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}const $=function(e,t){return void 0===t&&(t={}),new X(e,"number"===typeof t?{status:t}:t)},J=function(e,t){void 0===t&&(t=302);let n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);let i=new Headers(n.headers);return i.set("Location",e),new Response(null,r({},n,{headers:i}))},Z=(e,t)=>{let n=J(e,t);return n.headers.set("X-Remix-Reload-Document","true"),n},ee=(e,t)=>{let n=J(e,t);return n.headers.set("X-Remix-Replace","true"),n};class te{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const re=["post","put","patch","delete"],ie=new Set(re),ae=["get",...re],oe=new Set(ae),se=new Set([301,302,303,307,308]),le=new Set([307,308]),ce={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},he={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},de=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),pe="remix-router-transitions";function me(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,a=!n;let o;if(c(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=fe;let s,l,d,p={},m=w(e.routes,o,void 0,p),g=e.basename||"/",y=e.dataStrategy||Te,S=e.patchRoutesOnNavigation,k=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),T=null,C=new Set,x=null,I=null,A=null,N=null!=e.hydrationData,R=b(m,e.history.location,g),P=!1,O=null;if(null==R&&!S){let t=Fe(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ue(m);R=n,O={[r.id]:t}}if(R&&!e.hydrationData){ht(R,m,e.history.location.pathname).active&&(R=null)}if(R)if(R.some(e=>e.route.lazy))l=!1;else if(R.some(e=>e.route.loader))if(k.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=R.findIndex(e=>void 0!==n[e.route.id]);l=R.slice(0,e+1).every(e=>!be(e.route,t,n))}else l=R.every(e=>!be(e.route,t,n))}else l=null!=e.hydrationData;else l=!0;else if(l=!1,R=[],k.v7_partialHydration){let t=ht(null,m,e.history.location.pathname);t.active&&t.matches&&(P=!0,R=t.matches)}let D,L,M={historyAction:e.history.action,location:e.history.location,matches:R,initialized:l,navigation:ce,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},U=i.Pop,F=!1,z=!1,V=new Map,B=null,H=!1,q=!1,K=[],W=new Set,G=new Map,Q=0,X=-1,Y=new Map,$=new Set,J=new Map,Z=new Map,ee=new Set,te=new Map,re=new Map;function ie(e,t){void 0===t&&(t={}),M=r({},M,e);let n=[],i=[];k.v7_fetcherPersist&&M.fetchers.forEach((e,t)=>{"idle"===e.state&&(ee.has(t)?i.push(t):n.push(t))}),ee.forEach(e=>{M.fetchers.has(e)||G.has(e)||i.push(e)}),[...C].forEach(e=>e(M,{deletedFetchers:i,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),k.v7_fetcherPersist?(n.forEach(e=>M.fetchers.delete(e)),i.forEach(e=>Oe(e))):i.forEach(e=>ee.delete(e))}function ae(t,n,a){var o,l;let c,{flushSync:u}=void 0===a?{}:a,h=null!=M.actionData&&null!=M.navigation.formMethod&&Xe(M.navigation.formMethod)&&"loading"===M.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);c=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?M.actionData:null;let d=n.loaderData?Le(M.loaderData,n.loaderData,n.matches||[],n.errors):M.loaderData,f=M.blockers;f.size>0&&(f=new Map(f),f.forEach((e,t)=>f.set(t,he)));let p,g=!0===F||null!=M.navigation.formMethod&&Xe(M.navigation.formMethod)&&!0!==(null==(l=t.state)?void 0:l._isRedirect);if(s&&(m=s,s=void 0),H||U===i.Pop||(U===i.Push?e.history.push(t,t.state):U===i.Replace&&e.history.replace(t,t.state)),U===i.Pop){let e=V.get(M.location.pathname);e&&e.has(t.pathname)?p={currentLocation:M.location,nextLocation:t}:V.has(t.pathname)&&(p={currentLocation:t,nextLocation:M.location})}else if(z){let e=V.get(M.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),V.set(M.location.pathname,e)),p={currentLocation:M.location,nextLocation:t}}ie(r({},n,{actionData:c,loaderData:d,historyAction:U,location:t,initialized:!0,navigation:ce,revalidation:"idle",restoreScrollPosition:ut(t,n.matches||M.matches),preventScrollReset:g,blockers:f}),{viewTransitionOpts:p,flushSync:!0===u}),U=i.Pop,F=!1,z=!1,H=!1,q=!1,K=[]}async function oe(t,n,a){D&&D.abort(),D=null,U=t,H=!0===(a&&a.startUninterruptedRevalidation),function(e,t){if(x&&A){let n=ct(e,t);x[n]=A()}}(M.location,M.matches),F=!0===(a&&a.preventScrollReset),z=!0===(a&&a.enableViewTransition);let o=s||m,l=a&&a.overrideNavigation,c=null!=a&&a.initialHydration&&M.matches&&M.matches.length>0&&!P?M.matches:b(o,n,g),u=!0===(a&&a.flushSync);if(c&&M.initialized&&!q&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(M.location,n)&&!(a&&a.submission&&Xe(a.submission.formMethod)))return void ae(n,{matches:c},{flushSync:u});let h=ht(c,o,n.pathname);if(h.active&&h.matches&&(c=h.matches),!c){let{error:e,notFoundMatches:t,route:r}=st(n.pathname);return void ae(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:u})}D=new AbortController;let d,f=Ne(e.history,n,D.signal,a&&a.submission);if(a&&a.pendingError)d=[je(c).route.id,{type:v.error,error:a.pendingError}];else if(a&&a.submission&&Xe(a.submission.formMethod)){let t=await async function(e,t,n,r,a,o){void 0===o&&(o={});Ee();let s,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(ie({navigation:l},{flushSync:!0===o.flushSync}),a){let n=await dt(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=je(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:v.error,error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=st(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:v.error,error:n}]}}r=n.matches}let c=et(r,t);if(c.route.action||c.route.lazy){if(s=(await ye("action",M,e,[c],r,null))[c.route.id],e.signal.aborted)return{shortCircuited:!0}}else s={type:v.error,error:Fe(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Ke(s)){let t;if(o&&null!=o.replace)t=o.replace;else{t=Ae(s.response.headers.get("Location"),new URL(e.url),g)===M.location.pathname+M.location.search}return await me(e,s,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(He(s))throw Fe(400,{type:"defer-action"});if(qe(s)){let e=je(r,c.route.id);return!0!==(o&&o.replace)&&(U=i.Push),{matches:r,pendingActionResult:[e.route.id,s]}}return{matches:r,pendingActionResult:[c.route.id,s]}}(f,n,a.submission,c,h.active,{replace:a.replace,flushSync:u});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(qe(r)&&ne(r.error)&&404===r.error.status)return D=null,void ae(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}c=t.matches||c,d=t.pendingActionResult,l=nt(n,a.submission),u=!1,h.active=!1,f=Ne(e.history,f.url,f.signal)}let{shortCircuited:p,matches:y,loaderData:w,errors:_}=await async function(t,n,i,a,o,l,c,u,h,d,f){let p=o||nt(n,l),v=l||c||tt(p),y=!H&&(!k.v7_partialHydration||!h);if(a){if(y){let e=se(f);ie(r({navigation:p},void 0!==e?{actionData:e}:{}),{flushSync:d})}let e=await dt(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=je(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=st(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}i=e.matches}let w=s||m,[b,_]=we(e.history,M,i,v,n,k.v7_partialHydration&&!0===h,k.v7_skipActionErrorRevalidation,q,K,W,ee,J,$,w,g,f);if(lt(e=>!(i&&i.some(t=>t.route.id===e))||b&&b.some(t=>t.route.id===e)),X=++Q,0===b.length&&0===_.length){let e=Ge();return ae(n,r({matches:i,loaderData:{},errors:f&&qe(f[1])?{[f[0]]:f[1].error}:null},Me(f),e?{fetchers:new Map(M.fetchers)}:{}),{flushSync:d}),{shortCircuited:!0}}if(y){let e={};if(!a){e.navigation=p;let t=se(f);void 0!==t&&(e.actionData=t)}_.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=M.fetchers.get(e.key),n=rt(void 0,t?t.data:void 0);M.fetchers.set(e.key,n)}),new Map(M.fetchers)}(_)),ie(e,{flushSync:d})}_.forEach(e=>{Ve(e.key),e.controller&&G.set(e.key,e.controller)});let E=()=>_.forEach(e=>Ve(e.key));D&&D.signal.addEventListener("abort",E);let{loaderResults:S,fetcherResults:T}=await _e(M,i,b,_,t);if(t.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",E);_.forEach(e=>G.delete(e.key));let C=ze(S);if(C)return await me(t,C.result,!0,{replace:u}),{shortCircuited:!0};if(C=ze(T),C)return $.add(C.key),await me(t,C.result,!0,{replace:u}),{shortCircuited:!0};let{loaderData:x,errors:I}=De(M,i,S,f,_,T,te);te.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&te.delete(t)})}),k.v7_partialHydration&&h&&M.errors&&(I=r({},M.errors,I));let A=Ge(),N=Qe(X),R=A||N||_.length>0;return r({matches:i,loaderData:x,errors:I},R?{fetchers:new Map(M.fetchers)}:{})}(f,n,c,h.active,l,a&&a.submission,a&&a.fetcherSubmission,a&&a.replace,a&&!0===a.initialHydration,u,d);p||(D=null,ae(n,r({matches:y||c},Me(d),{loaderData:w,errors:_})))}function se(e){return e&&!qe(e[1])?{[e[0]]:e[1].data}:M.actionData?0===Object.keys(M.actionData).length?null:M.actionData:void 0}async function me(a,o,s,l){let{submission:u,fetcherSubmission:h,preventScrollReset:d,replace:p}=void 0===l?{}:l;o.response.headers.has("X-Remix-Revalidate")&&(q=!0);let m=o.response.headers.get("Location");c(m,"Expected a Location header on the redirect Response"),m=Ae(m,new URL(a.url),g);let v=f(M.location,m,{_isRedirect:!0});if(n){let n=!1;if(o.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(de.test(m)){const r=e.history.createURL(m);n=r.origin!==t.location.origin||null==j(r.pathname,g)}if(n)return void(p?t.location.replace(m):t.location.assign(m))}D=null;let y=!0===p||o.response.headers.has("X-Remix-Replace")?i.Replace:i.Push,{formMethod:w,formAction:b,formEncType:_}=M.navigation;!u&&!h&&w&&b&&_&&(u=tt(M.navigation));let E=u||h;if(le.has(o.response.status)&&E&&Xe(E.formMethod))await oe(y,v,{submission:r({},E,{formAction:m}),preventScrollReset:d||F,enableViewTransition:s?z:void 0});else{let e=nt(v,u);await oe(y,v,{overrideNavigation:e,fetcherSubmission:h,preventScrollReset:d||F,enableViewTransition:s?z:void 0})}}async function ye(e,t,n,r,i,a){let s,l={};try{s=await Ce(y,e,t,n,r,i,a,p,o)}catch(u){return r.forEach(t=>{l[t.route.id]={type:v.error,error:u}}),l}for(let[o,c]of Object.entries(s))if(Be(c)){let e=c.result;l[o]={type:v.redirect,response:Ie(e,n,o,i,g,k.v7_relativeSplatPath)}}else l[o]=await xe(c);return l}async function _e(t,n,r,i,a){let o=t.matches,s=ye("loader",t,a,r,n,null),l=Promise.all(i.map(async n=>{if(n.matches&&n.match&&n.controller){let r=(await ye("loader",t,Ne(e.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:r}}return Promise.resolve({[n.key]:{type:v.error,error:Fe(404,{pathname:n.path})}})})),c=await s,u=(await l).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([Ye(n,c,a.signal,o,t.loaderData),$e(n,u,i)]),{loaderResults:c,fetcherResults:u}}function Ee(){q=!0,K.push(...lt()),J.forEach((e,t)=>{G.has(t)&&W.add(t),Ve(t)})}function ke(e,t,n){void 0===n&&(n={}),M.fetchers.set(e,t),ie({fetchers:new Map(M.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Re(e,t,n,r){void 0===r&&(r={});let i=je(M.matches,t);Oe(e),ie({errors:{[i.route.id]:n},fetchers:new Map(M.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Pe(e){return Z.set(e,(Z.get(e)||0)+1),ee.has(e)&&ee.delete(e),M.fetchers.get(e)||ue}function Oe(e){let t=M.fetchers.get(e);!G.has(e)||t&&"loading"===t.state&&Y.has(e)||Ve(e),J.delete(e),Y.delete(e),$.delete(e),k.v7_fetcherPersist&&ee.delete(e),W.delete(e),M.fetchers.delete(e)}function Ve(e){let t=G.get(e);t&&(t.abort(),G.delete(e))}function We(e){for(let t of e){let e=it(Pe(t).data);M.fetchers.set(t,e)}}function Ge(){let e=[],t=!1;for(let n of $){let r=M.fetchers.get(n);c(r,"Expected fetcher: "+n),"loading"===r.state&&($.delete(n),e.push(n),t=!0)}return We(e),t}function Qe(e){let t=[];for(let[n,r]of Y)if(r<e){let e=M.fetchers.get(n);c(e,"Expected fetcher: "+n),"loading"===e.state&&(Ve(n),Y.delete(n),t.push(n))}return We(t),t.length>0}function Ze(e){M.blockers.delete(e),re.delete(e)}function at(e,t){let n=M.blockers.get(e)||he;c("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(M.blockers);r.set(e,t),ie({blockers:r})}function ot(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===re.size)return;re.size>1&&h(!1,"A router only supports one blocker at a time");let i=Array.from(re.entries()),[a,o]=i[i.length-1],s=M.blockers.get(a);return s&&"proceeding"===s.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?a:void 0}function st(e){let t=Fe(404,{pathname:e}),n=s||m,{matches:r,route:i}=Ue(n);return lt(),{notFoundMatches:r,route:i,error:t}}function lt(e){let t=[];return te.forEach((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),te.delete(r))}),t}function ct(e,t){if(I){let n=I(e,t.map(e=>E(e,M.loaderData)));return n||e.key}return e.key}function ut(e,t){if(x){let n=ct(e,t),r=x[n];if("number"===typeof r)return r}return null}function ht(e,t,n){if(S){if(!e){return{active:!0,matches:_(t,n,g,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:_(t,n,g,!0)}}}return{active:!1,matches:null}}async function dt(e,t,n,r){if(!S)return{type:"success",matches:e};let i=e;for(;;){let e=null==s,a=s||m,l=p;try{await S({signal:n,path:t,matches:i,fetcherKey:r,patch:(e,t)=>{n.aborted||Se(e,t,a,l,o)}})}catch(u){return{type:"error",error:u,partialMatches:i}}finally{e&&!n.aborted&&(m=[...m])}if(n.aborted)return{type:"aborted"};let c=b(a,t,g);if(c)return{type:"success",matches:c};let h=_(a,t,g,!0);if(!h||i.length===h.length&&i.every((e,t)=>e.route.id===h[t].route.id))return{type:"success",matches:null};i=h}}return d={get basename(){return g},get future(){return k},get state(){return M},get routes(){return m},get window(){return t},initialize:function(){if(T=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(L)return L(),void(L=void 0);h(0===re.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=ot({currentLocation:M.location,nextLocation:r,historyAction:n});if(a&&null!=i){let t=new Promise(e=>{L=e});return e.history.go(-1*i),void at(a,{state:"blocked",location:r,proceed(){at(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then(()=>e.history.go(i))},reset(){let e=new Map(M.blockers);e.set(a,he),ie({blockers:e})}})}return oe(n,r)}),n){!function(e,t){try{let n=e.sessionStorage.getItem(pe);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(u){}}(t,V);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(pe,JSON.stringify(r))}catch(n){h(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,V);t.addEventListener("pagehide",e),B=()=>t.removeEventListener("pagehide",e)}return M.initialized||oe(i.Pop,M.location,{initialHydration:!0}),d},subscribe:function(e){return C.add(e),()=>C.delete(e)},enableScrollRestoration:function(e,t,n){if(x=e,A=t,I=n||null,!N&&M.navigation===ce){N=!0;let e=ut(M.location,M.matches);null!=e&&ie({restoreScrollPosition:e})}return()=>{x=null,A=null,I=null}},navigate:async function t(n,a){if("number"===typeof n)return void e.history.go(n);let o=ge(M.location,M.matches,g,k.v7_prependBasename,n,k.v7_relativeSplatPath,null==a?void 0:a.fromRouteId,null==a?void 0:a.relative),{path:s,submission:l,error:c}=ve(k.v7_normalizeFormMethod,!1,o,a),u=M.location,h=f(M.location,s,a&&a.state);h=r({},h,e.history.encodeLocation(h));let d=a&&null!=a.replace?a.replace:void 0,p=i.Push;!0===d?p=i.Replace:!1===d||null!=l&&Xe(l.formMethod)&&l.formAction===M.location.pathname+M.location.search&&(p=i.Replace);let m=a&&"preventScrollReset"in a?!0===a.preventScrollReset:void 0,v=!0===(a&&a.flushSync),y=ot({currentLocation:u,nextLocation:h,historyAction:p});if(!y)return await oe(p,h,{submission:l,pendingError:c,preventScrollReset:m,replace:a&&a.replace,enableViewTransition:a&&a.viewTransition,flushSync:v});at(y,{state:"blocked",location:h,proceed(){at(y,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,a)},reset(){let e=new Map(M.blockers);e.set(y,he),ie({blockers:e})}})},fetch:function(t,n,r,i){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ve(t);let o=!0===(i&&i.flushSync),l=s||m,u=ge(M.location,M.matches,g,k.v7_prependBasename,r,k.v7_relativeSplatPath,n,null==i?void 0:i.relative),h=b(l,u,g),d=ht(h,l,u);if(d.active&&d.matches&&(h=d.matches),!h)return void Re(t,n,Fe(404,{pathname:u}),{flushSync:o});let{path:f,submission:p,error:v}=ve(k.v7_normalizeFormMethod,!0,u,i);if(v)return void Re(t,n,v,{flushSync:o});let y=et(h,f),w=!0===(i&&i.preventScrollReset);p&&Xe(p.formMethod)?async function(t,n,r,i,a,o,l,u,h){function d(e){if(!e.route.action&&!e.route.lazy){let e=Fe(405,{method:h.formMethod,pathname:r,routeId:n});return Re(t,n,e,{flushSync:l}),!0}return!1}if(Ee(),J.delete(t),!o&&d(i))return;let f=M.fetchers.get(t);ke(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,f),{flushSync:l});let p=new AbortController,v=Ne(e.history,r,p.signal,h);if(o){let e=await dt(a,new URL(v.url).pathname,v.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Re(t,n,e.error,{flushSync:l});if(!e.matches)return void Re(t,n,Fe(404,{pathname:r}),{flushSync:l});if(d(i=et(a=e.matches,r)))return}G.set(t,p);let y=Q,w=await ye("action",M,v,[i],a,t),_=w[i.route.id];if(v.signal.aborted)return void(G.get(t)===p&&G.delete(t));if(k.v7_fetcherPersist&&ee.has(t)){if(Ke(_)||qe(_))return void ke(t,it(void 0))}else{if(Ke(_))return G.delete(t),X>y?void ke(t,it(void 0)):($.add(t),ke(t,rt(h)),me(v,_,!1,{fetcherSubmission:h,preventScrollReset:u}));if(qe(_))return void Re(t,n,_.error)}if(He(_))throw Fe(400,{type:"defer-action"});let E=M.navigation.location||M.location,S=Ne(e.history,E,p.signal),T=s||m,C="idle"!==M.navigation.state?b(T,M.navigation.location,g):M.matches;c(C,"Didn't find any matches after fetcher action");let x=++Q;Y.set(t,x);let I=rt(h,_.data);M.fetchers.set(t,I);let[A,N]=we(e.history,M,C,h,E,!1,k.v7_skipActionErrorRevalidation,q,K,W,ee,J,$,T,g,[i.route.id,_]);N.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=M.fetchers.get(t),r=rt(void 0,n?n.data:void 0);M.fetchers.set(t,r),Ve(t),e.controller&&G.set(t,e.controller)}),ie({fetchers:new Map(M.fetchers)});let R=()=>N.forEach(e=>Ve(e.key));p.signal.addEventListener("abort",R);let{loaderResults:P,fetcherResults:O}=await _e(M,C,A,N,S);if(p.signal.aborted)return;p.signal.removeEventListener("abort",R),Y.delete(t),G.delete(t),N.forEach(e=>G.delete(e.key));let L=ze(P);if(L)return me(S,L.result,!1,{preventScrollReset:u});if(L=ze(O),L)return $.add(L.key),me(S,L.result,!1,{preventScrollReset:u});let{loaderData:j,errors:F}=De(M,C,P,void 0,N,O,te);if(M.fetchers.has(t)){let e=it(_.data);M.fetchers.set(t,e)}Qe(x),"loading"===M.navigation.state&&x>X?(c(U,"Expected pending action"),D&&D.abort(),ae(M.navigation.location,{matches:C,loaderData:j,errors:F,fetchers:new Map(M.fetchers)})):(ie({errors:F,loaderData:Le(M.loaderData,j,C,F),fetchers:new Map(M.fetchers)}),q=!1)}(t,n,f,y,h,d.active,o,w,p):(J.set(t,{routeId:n,path:f}),async function(t,n,r,i,a,o,s,l,u){let h=M.fetchers.get(t);ke(t,rt(u,h?h.data:void 0),{flushSync:s});let d=new AbortController,f=Ne(e.history,r,d.signal);if(o){let e=await dt(a,new URL(f.url).pathname,f.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Re(t,n,e.error,{flushSync:s});if(!e.matches)return void Re(t,n,Fe(404,{pathname:r}),{flushSync:s});i=et(a=e.matches,r)}G.set(t,d);let p=Q,m=await ye("loader",M,f,[i],a,t),g=m[i.route.id];He(g)&&(g=await Je(g,f.signal,!0)||g);G.get(t)===d&&G.delete(t);if(f.signal.aborted)return;if(ee.has(t))return void ke(t,it(void 0));if(Ke(g))return X>p?void ke(t,it(void 0)):($.add(t),void await me(f,g,!1,{preventScrollReset:l}));if(qe(g))return void Re(t,n,g.error);c(!He(g),"Unhandled fetcher deferred data"),ke(t,it(g.data))}(t,n,f,y,h,d.active,o,w,p))},revalidate:function(){Ee(),ie({revalidation:"loading"}),"submitting"!==M.navigation.state&&("idle"!==M.navigation.state?oe(U||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:!0===z}):oe(M.historyAction,M.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Pe,deleteFetcher:function(e){let t=(Z.get(e)||0)-1;t<=0?(Z.delete(e),ee.add(e),k.v7_fetcherPersist||Oe(e)):Z.set(e,t),ie({fetchers:new Map(M.fetchers)})},dispose:function(){T&&T(),B&&B(),C.clear(),D&&D.abort(),M.fetchers.forEach((e,t)=>Oe(t)),M.blockers.forEach((e,t)=>Ze(t))},getBlocker:function(e,t){let n=M.blockers.get(e)||he;return re.get(e)!==t&&re.set(e,t),n},deleteBlocker:Ze,patchRoutes:function(e,t){let n=null==s;Se(e,t,s||m,p,o),n&&(m=[...m],ie({}))},_internalFetchControllers:G,_internalActiveDeferreds:te,_internalSetRoutes:function(e){p={},s=w(e,o,void 0,p)}},d}Symbol("deferred");function ge(e,t,n,r,i,a,o,s){let l,c;if(o){l=[];for(let e of t)if(l.push(e),e.route.id===o){c=e;break}}else l=t,c=t[t.length-1];let u=B(i||".",V(l,a),j(e.pathname,n)||e.pathname,"path"===s);if(null==i&&(u.search=e.search,u.hash=e.hash),(null==i||""===i||"."===i)&&c){let e=Ze(u.search);if(c.route.index&&!e)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&e){let e=new URLSearchParams(u.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();u.search=n?"?"+n:""}}return r&&"/"!==n&&(u.pathname="/"===u.pathname?n:H([n,u.pathname])),p(u)}function ve(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Qe(r.formMethod))return{path:n,error:Fe(405,{method:r.formMethod})};let i,a,o=()=>({path:n,error:Fe(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),h=Ve(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Xe(l))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:h,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Xe(l))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:h,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(u){return o()}}}if(c("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Re(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Re(r.body),a=r.body;else if(r.body instanceof URLSearchParams)i=r.body,a=Pe(i);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{i=new URLSearchParams(r.body),a=Pe(i)}catch(u){return o()}let d={formMethod:l,formAction:h,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Xe(d.formMethod))return{path:n,submission:d};let f=m(n);return t&&f.search&&Ze(f.search)&&i.append("index",""),f.search="?"+i,{path:p(f),submission:d}}function ye(e,t,n){void 0===n&&(n=!1);let r=e.findIndex(e=>e.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function we(e,t,n,i,a,o,s,l,c,u,h,d,f,p,m,g){let v=g?qe(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),w=e.createURL(a),_=n;o&&t.errors?_=ye(n,Object.keys(t.errors)[0],!0):g&&qe(g[1])&&(_=ye(n,g[0]));let E=g?g[1].statusCode:void 0,S=s&&E&&E>=400,k=_.filter((e,n)=>{let{route:a}=e;if(a.lazy)return!0;if(null==a.loader)return!1;if(o)return be(a,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||c.some(t=>t===e.route.id))return!0;let s=t.matches[n],u=e;return Ee(e,r({currentUrl:y,currentParams:s.params,nextUrl:w,nextParams:u.params},i,{actionResult:v,actionStatus:E,defaultShouldRevalidate:!S&&(l||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||_e(s,u))}))}),T=[];return d.forEach((e,a)=>{if(o||!n.some(t=>t.route.id===e.routeId)||h.has(a))return;let s=b(p,e.path,m);if(!s)return void T.push({key:a,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(a),d=et(s,e.path),g=!1;f.has(a)?g=!1:u.has(a)?(u.delete(a),g=!0):g=c&&"idle"!==c.state&&void 0===c.data?l:Ee(d,r({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},i,{actionResult:v,actionStatus:E,defaultShouldRevalidate:!S&&l})),g&&T.push({key:a,routeId:e.routeId,path:e.path,matches:s,match:d,controller:new AbortController})}),[k,T]}function be(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function _e(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ee(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Se(e,t,n,r,i){var a;let o;if(e){let t=r[e];c(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),o=t.children}else o=n;let s=w(t.filter(e=>!o.some(t=>ke(e,t))),i,[e||"_","patch",String((null==(a=o)?void 0:a.length)||"0")],r);o.push(...s)}function ke(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var r;return null==(r=t.children)?void 0:r.some(t=>ke(e,t))}))}async function Te(e){let{matches:t}=e,n=t.filter(e=>e.shouldLoad),r=await Promise.all(n.map(e=>e.resolve()));return r.reduce((e,t,r)=>Object.assign(e,{[n[r].route.id]:t}),{})}async function Ce(e,t,n,i,a,o,s,l,d,f){let p=o.map(e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let a=n[e.id];c(a,"No route found in manifest");let o={};for(let r in i){let e=void 0!==a[r]&&"hasErrorBoundary"!==r;h(!e,'Route "'+a.id+'" has a static property "'+r+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+r+'" will be ignored.'),e||y.has(r)||(o[r]=i[r])}Object.assign(a,o),Object.assign(a,r({},t(a),{lazy:void 0}))}(e.route,d,l):void 0),m=o.map((e,n)=>{let o=p[n],s=a.some(t=>t.route.id===e.route.id);return r({},e,{shouldLoad:s,resolve:async n=>(n&&"GET"===i.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?async function(e,t,n,r,i,a){let o,s,l=r=>{let o,l=new Promise((e,t)=>o=t);s=()=>o(),t.signal.addEventListener("abort",s);let c=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(e=>c(e)):c())}}catch(u){return{type:"error",result:u}}})();return Promise.race([h,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch(t=>{e=t}),r]);if(void 0!==e)throw e;o=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Fe(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:v.data,result:void 0}}o=await l(i)}else{if(!i){let e=new URL(t.url);throw Fe(404,{pathname:e.pathname+e.search})}o=await l(i)}c(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(u){return{type:v.error,result:u}}finally{s&&t.signal.removeEventListener("abort",s)}return o}(t,i,e,o,n,f):Promise.resolve({type:v.data,result:void 0}))})}),g=await e({matches:m,request:i,params:o[0].params,fetcherKey:s,context:f});try{await Promise.all(p)}catch(u){}return g}async function xe(e){let{result:t,type:n}=e;if(Ge(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(u){return{type:v.error,error:u}}return n===v.error?{type:v.error,error:new te(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:v.data,data:e,statusCode:t.status,headers:t.headers}}var r,i,a,o,s,l,c,h;return n===v.error?We(t)?t.data instanceof Error?{type:v.error,error:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(o=t.init)&&o.headers?new Headers(t.init.headers):void 0}:{type:v.error,error:new te((null==(r=t.init)?void 0:r.status)||500,void 0,t.data),statusCode:ne(t)?t.status:void 0,headers:null!=(i=t.init)&&i.headers?new Headers(t.init.headers):void 0}:{type:v.error,error:t,statusCode:ne(t)?t.status:void 0}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:v.deferred,deferredData:t,statusCode:null==(s=t.init)?void 0:s.status,headers:(null==(l=t.init)?void 0:l.headers)&&new Headers(t.init.headers)}:We(t)?{type:v.data,data:t.data,statusCode:null==(c=t.init)?void 0:c.status,headers:null!=(h=t.init)&&h.headers?new Headers(t.init.headers):void 0}:{type:v.data,data:t}}function Ie(e,t,n,r,i,a){let o=e.headers.get("Location");if(c(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!de.test(o)){let s=r.slice(0,r.findIndex(e=>e.route.id===n)+1);o=ge(new URL(t.url),s,i,!0,o,a),e.headers.set("Location",o)}return e}function Ae(e,t,n){if(de.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=null!=j(i.pathname,n);if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function Ne(e,t,n,r){let i=e.createURL(Ve(t)).toString(),a={signal:n};if(r&&Xe(r.formMethod)){let{formMethod:e,formEncType:t}=r;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(r.json)):"text/plain"===t?a.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?a.body=Re(r.formData):a.body=r.formData}return new Request(i,a)}function Re(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Pe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Oe(e,t,n,r,i){let a,o={},s=null,l=!1,u={},h=n&&qe(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let d=n.route.id,f=t[d];if(c(!Ke(f),"Cannot handle redirect results in processLoaderData"),qe(f)){let t=f.error;if(void 0!==h&&(t=h,h=void 0),s=s||{},i)s[d]=t;else{let n=je(e,d);null==s[n.route.id]&&(s[n.route.id]=t)}o[d]=void 0,l||(l=!0,a=ne(f.error)?f.error.status:500),f.headers&&(u[d]=f.headers)}else He(f)?(r.set(d,f.deferredData),o[d]=f.deferredData.data,null==f.statusCode||200===f.statusCode||l||(a=f.statusCode),f.headers&&(u[d]=f.headers)):(o[d]=f.data,f.statusCode&&200!==f.statusCode&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers))}),void 0!==h&&n&&(s={[n[0]]:h},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function De(e,t,n,i,a,o,s){let{loaderData:l,errors:u}=Oe(t,n,i,s,!1);return a.forEach(t=>{let{key:n,match:i,controller:a}=t,s=o[n];if(c(s,"Did not find corresponding fetcher result"),!a||!a.signal.aborted)if(qe(s)){let t=je(e.matches,null==i?void 0:i.route.id);u&&u[t.route.id]||(u=r({},u,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Ke(s))c(!1,"Unhandled fetcher revalidation redirect");else if(He(s))c(!1,"Unhandled fetcher deferred data");else{let t=it(s.data);e.fetchers.set(n,t)}}),{loaderData:l,errors:u}}function Le(e,t,n,i){let a=r({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(a[n]=t[n]):void 0!==e[n]&&r.route.loader&&(a[n]=e[n]),i&&i.hasOwnProperty(n))break}return a}function Me(e){return e?qe(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function je(e,t){let n=t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e];return n.reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function Ue(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fe(e,t){let{pathname:n,routeId:r,method:i,type:a,message:o}=void 0===t?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===a?l="defer() is not supported in actions":"invalid-body"===a&&(l="Unable to encode submission body")):403===e?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",l='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new te(e||500,s,new Error(l),!0)}function ze(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(Ke(r))return{key:e,result:r}}}function Ve(e){return p(r({},"string"===typeof e?m(e):e,{hash:""}))}function Be(e){return Ge(e.result)&&se.has(e.result.status)}function He(e){return e.type===v.deferred}function qe(e){return e.type===v.error}function Ke(e){return(e&&e.type)===v.redirect}function We(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Ge(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Qe(e){return oe.has(e.toLowerCase())}function Xe(e){return ie.has(e.toLowerCase())}async function Ye(e,t,n,r,i){let a=Object.entries(t);for(let o=0;o<a.length;o++){let[s,l]=a[o],c=e.find(e=>(null==e?void 0:e.route.id)===s);if(!c)continue;let u=r.find(e=>e.route.id===c.route.id),h=null!=u&&!_e(u,c)&&void 0!==(i&&i[c.route.id]);He(l)&&h&&await Je(l,n,!1).then(e=>{e&&(t[s]=e)})}}async function $e(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:o}=n[r],s=t[i],l=e.find(e=>(null==e?void 0:e.route.id)===a);l&&(He(s)&&(c(o,"Expected an AbortController for revalidating fetcher deferred result"),await Je(s,o.signal,!0).then(e=>{e&&(t[i]=e)})))}}async function Je(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:v.data,data:e.deferredData.unwrappedData}}catch(u){return{type:v.error,error:u}}return{type:v.data,data:e.deferredData.data}}}function Ze(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function et(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&Ze(n||""))return e[e.length-1];let r=z(e);return r[r.length-1]}function tt(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function nt(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rt(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function it(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}},152:(e,t,n)=>{n.r(t),n.d(t,{AuthProvider:()=>l,useAuth:()=>s});var r=n(176),i=n(788),a=n(810);const o=(0,r.createContext)(null),s=()=>(0,r.useContext)(o),l=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=(0,i.hg)(a.j2,async e=>{if(e)try{const t=await e.getIdTokenResult(!0);s(e),c(t.claims)}catch(t){console.error("Error fetching user claims:",t),await(0,i.CI)(a.j2),s(null),c(null)}else s(null),c(null);h(!1),v(!1),f(null),m(null)});return()=>e()},[]);const y=(0,r.useCallback)(async(e,t)=>{v(!1),f(null),m(null);try{return await(0,i.x9)(a.j2,e,t),{success:!0}}catch(n){return"auth/multi-factor-required"===n.code?(v(!0),f(n.resolver),m(n.resolver.hints[0].phoneNumber),{success:!1,mfa:!0,error:null}):(console.error("Login error:",n.message),{success:!1,mfa:!1,error:n.message})}},[]),w=(0,r.useCallback)(async e=>{if(!d)return{success:!1,error:"MFA resolver not available."};try{const t=i.Oe.credential(d.session,e);return await d.resolveSignIn(t),{success:!0}}catch(t){return console.error("MFA resolution error:",t),{success:!1,error:"Nieprawid\u0142owy kod weryfikacyjny."}}},[d]),b={user:n,claims:l,loading:u,login:y,logout:(0,r.useCallback)(async()=>{await(0,i.CI)(a.j2)},[]),mfaRequired:g,mfaHint:p,resolveMfa:w};return r.createElement(o.Provider,{value:b},t)}},176:(e,t,n)=>{e.exports=n(83)},204:(e,t,n)=>{var r,i;n.r(t),n.d(t,{AbortedDeferredError:()=>l.tH,Await:()=>s.jD,BrowserRouter:()=>j,Form:()=>q,HashRouter:()=>U,Link:()=>B,MemoryRouter:()=>s.fS,NavLink:()=>H,Navigate:()=>s.C5,NavigationType:()=>l.rc,Outlet:()=>s.sv,Route:()=>s.qh,Router:()=>s.Ix,RouterProvider:()=>D,Routes:()=>s.BV,ScrollRestoration:()=>K,UNSAFE_DataRouterContext:()=>s.sp,UNSAFE_DataRouterStateContext:()=>s.Rq,UNSAFE_ErrorResponseImpl:()=>l.VV,UNSAFE_FetchersContext:()=>I,UNSAFE_LocationContext:()=>s.yN,UNSAFE_NavigationContext:()=>s.jb,UNSAFE_RouteContext:()=>s.UX,UNSAFE_ViewTransitionContext:()=>x,UNSAFE_useRouteId:()=>s.$3,UNSAFE_useScrollRestoration:()=>oe,createBrowserRouter:()=>S,createHashRouter:()=>k,createMemoryRouter:()=>s.bg,createPath:()=>l.AO,createRoutesFromChildren:()=>s.AV,createRoutesFromElements:()=>s.Eu,createSearchParams:()=>m,defer:()=>l.v6,generatePath:()=>l.tW,isRouteErrorResponse:()=>l.pX,json:()=>l.Pq,matchPath:()=>l.B6,matchRoutes:()=>l.ue,parsePath:()=>l.Rr,redirect:()=>l.V2,redirectDocument:()=>l.Sk,renderMatches:()=>s.KT,replace:()=>l.HC,resolvePath:()=>l.o1,unstable_HistoryRouter:()=>F,unstable_usePrompt:()=>le,useActionData:()=>s.mP,useAsyncError:()=>s.oI,useAsyncValue:()=>s.J8,useBeforeUnload:()=>se,useBlocker:()=>s.KP,useFetcher:()=>ne,useFetchers:()=>re,useFormAction:()=>te,useHref:()=>s.$P,useInRouterContext:()=>s.Ri,useLinkClickHandler:()=>Y,useLoaderData:()=>s.LG,useLocation:()=>s.zy,useMatch:()=>s.RQ,useMatches:()=>s.FE,useNavigate:()=>s.Zp,useNavigation:()=>s.cq,useNavigationType:()=>s.wQ,useOutlet:()=>s.P1,useOutletContext:()=>s.KC,useParams:()=>s.g,useResolvedPath:()=>s.x$,useRevalidator:()=>s.vL,useRouteError:()=>s.r5,useRouteLoaderData:()=>s.Ew,useRoutes:()=>s.Ye,useSearchParams:()=>$,useSubmit:()=>ee,useViewTransitionState:()=>ce});var a=n(176),o=n(989),s=n(571),l=n(112);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const d="get",f="application/x-www-form-urlencoded";function p(e){return null!=e&&"string"===typeof e.tagName}function m(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}let g=null;const v=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function y(e){return null==e||v.has(e)?e:null}function w(e,t){let n,r,i,a,o;if(p(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?(0,l.pb)(o,t):null,n=e.getAttribute("method")||d,i=y(e.getAttribute("enctype"))||f,a=new FormData(e)}else if(function(e){return p(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return p(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?(0,l.pb)(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||d,i=y(e.getAttribute("formenctype"))||y(o.getAttribute("enctype"))||f,a=new FormData(o,e),!function(){if(null===g)try{new FormData(document.createElement("form"),0),g=!1}catch(u){g=!0}return g}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?t+".":"";a.append(e+"x","0"),a.append(e+"y","0")}else t&&a.append(t,r)}}else{if(p(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=d,r=null,i=f,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}const b=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(u){}function S(e,t){return(0,l.aE)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.zR)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||T(),routes:e,mapRouteProperties:s.wE,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function k(e,t){return(0,l.aE)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.TM)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||T(),routes:e,mapRouteProperties:s.wE,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize()}function T(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=c({},t,{errors:C(t.errors)})),t}function C(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new l.VV(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(u){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const x=a.createContext({isTransitioning:!1});const I=a.createContext(new Map);const A=(r||(r=n.t(a,2))).startTransition,N=(i||(i=n.t(o,2))).flushSync,R=(r||(r=n.t(a,2))).useId;function P(e){N?N(e):e()}class O{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function D(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=a.useState(n.state),[l,c]=a.useState(),[u,h]=a.useState({isTransitioning:!1}),[d,f]=a.useState(),[p,m]=a.useState(),[g,v]=a.useState(),y=a.useRef(new Map),{v7_startTransition:w}=r||{},b=a.useCallback(e=>{w?function(e){A?A(e):e()}(e):e()},[w]),_=a.useCallback((e,t)=>{let{deletedFetchers:r,flushSync:i,viewTransitionOpts:a}=t;e.fetchers.forEach((e,t)=>{void 0!==e.data&&y.current.set(t,e.data)}),r.forEach(e=>y.current.delete(e));let s=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(a&&!s){if(i){P(()=>{p&&(d&&d.resolve(),p.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=n.window.document.startViewTransition(()=>{P(()=>o(e))});return t.finished.finally(()=>{P(()=>{f(void 0),m(void 0),c(void 0),h({isTransitioning:!1})})}),void P(()=>m(t))}p?(d&&d.resolve(),p.skipTransition(),v({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(c(e),h({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?P(()=>o(e)):b(()=>o(e))},[n.window,p,d,y,b]);a.useLayoutEffect(()=>n.subscribe(_),[n,_]),a.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new O)},[u]),a.useEffect(()=>{if(d&&l&&n.window){let e=l,t=d.promise,r=n.window.document.startViewTransition(async()=>{b(()=>o(e)),await t});r.finished.finally(()=>{f(void 0),m(void 0),c(void 0),h({isTransitioning:!1})}),m(r)}},[b,l,d,n.window]),a.useEffect(()=>{d&&l&&i.location.key===l.location.key&&d.resolve()},[d,p,i.location,l]),a.useEffect(()=>{!u.isTransitioning&&g&&(c(g.state),h({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[u.isTransitioning,g]),a.useEffect(()=>{},[]);let E=a.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}),[n]),S=n.basename||"/",k=a.useMemo(()=>({router:n,navigator:E,static:!1,basename:S}),[n,E,S]),T=a.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return a.useEffect(()=>(0,s.V8)(r,n.future),[r,n.future]),a.createElement(a.Fragment,null,a.createElement(s.sp.Provider,{value:k},a.createElement(s.Rq.Provider,{value:i},a.createElement(I.Provider,{value:y.current},a.createElement(x.Provider,{value:u},a.createElement(s.Ix,{basename:S,location:i.location,navigationType:i.historyAction,navigator:E,future:T},i.initialized||n.future.v7_partialHydration?a.createElement(L,{routes:n.routes,future:n.future,state:i}):t))))),null)}const L=a.memo(M);function M(e){let{routes:t,future:n,state:r}=e;return(0,s.ph)(t,void 0,r,n)}function j(e){let{basename:t,children:n,future:r,window:i}=e,o=a.useRef();null==o.current&&(o.current=(0,l.zR)({window:i,v5Compat:!0}));let c=o.current,[u,h]=a.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},f=a.useCallback(e=>{d&&A?A(()=>h(e)):h(e)},[h,d]);return a.useLayoutEffect(()=>c.listen(f),[c,f]),a.useEffect(()=>(0,s.V8)(r),[r]),a.createElement(s.Ix,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}function U(e){let{basename:t,children:n,future:r,window:i}=e,o=a.useRef();null==o.current&&(o.current=(0,l.TM)({window:i,v5Compat:!0}));let c=o.current,[u,h]=a.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},f=a.useCallback(e=>{d&&A?A(()=>h(e)):h(e)},[h,d]);return a.useLayoutEffect(()=>c.listen(f),[c,f]),a.useEffect(()=>(0,s.V8)(r),[r]),a.createElement(s.Ix,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}function F(e){let{basename:t,children:n,future:r,history:i}=e,[o,l]=a.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=a.useCallback(e=>{c&&A?A(()=>l(e)):l(e)},[l,c]);return a.useLayoutEffect(()=>i.listen(u),[i,u]),a.useEffect(()=>(0,s.V8)(r),[r]),a.createElement(s.Ix,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const z="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,V=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=a.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v}=e,y=h(e,b),{basename:w}=a.useContext(s.jb),_=!1;if("string"===typeof m&&V.test(m)&&(n=m,z))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,l.pb)(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(u){}let E=(0,s.$P)(m,{relative:i}),S=Y(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:i,viewTransition:v});return a.createElement("a",c({},y,{href:n||E,onClick:_||o?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:t,target:p}))});const H=a.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:f,children:p}=e,m=h(e,_),g=(0,s.x$)(d,{relative:m.relative}),v=(0,s.zy)(),y=a.useContext(s.Rq),{navigator:w,basename:b}=a.useContext(s.jb),E=null!=y&&ce(g)&&!0===f,S=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,k=v.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(k=k.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&b&&(T=(0,l.pb)(T,b)||T);const C="/"!==S&&S.endsWith("/")?S.length-1:S.length;let x,I=k===S||!o&&k.startsWith(S)&&"/"===k.charAt(C),A=null!=T&&(T===S||!o&&T.startsWith(S)&&"/"===T.charAt(S.length)),N={isActive:I,isPending:A,isTransitioning:E},R=I?n:void 0;x="function"===typeof i?i(N):[i,I?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof u?u(N):u;return a.createElement(B,c({},m,{"aria-current":R,className:x,ref:t,style:P,to:d,viewTransition:f}),"function"===typeof p?p(N):p)});const q=a.forwardRef((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:s,method:l=d,action:u,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g}=e,v=h(e,E),y=ee(),w=te(u,{relative:p}),b="get"===l.toLowerCase()?"get":"post";return a.createElement("form",c({ref:t,method:b,action:w,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,i=(null==t?void 0:t.getAttribute("formmethod"))||l;y(t||e.currentTarget,{fetcherKey:n,method:i,navigate:r,replace:o,state:s,relative:p,preventScrollReset:m,viewTransition:g})}},v))});function K(e){let{getKey:t,storageKey:n}=e;return oe({getKey:t,storageKey:n}),null}var W,G;function Q(e){let t=a.useContext(s.sp);return t||(0,l.Oi)(!1),t}function X(e){let t=a.useContext(s.Rq);return t||(0,l.Oi)(!1),t}function Y(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,viewTransition:u}=void 0===t?{}:t,h=(0,s.Zp)(),d=(0,s.zy)(),f=(0,s.x$)(e,{relative:c});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(d)===(0,l.AO)(f);h(e,{replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:u})}},[d,h,f,r,i,n,e,o,c,u])}function $(e){let t=a.useRef(m(e)),n=a.useRef(!1),r=(0,s.zy)(),i=a.useMemo(()=>function(e,t){let n=m(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),o=(0,s.Zp)(),l=a.useCallback((e,t)=>{const r=m("function"===typeof e?e(i):e);n.current=!0,o("?"+r,t)},[o,i]);return[i,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(W||(W={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(G||(G={}));let J=0,Z=()=>"__"+String(++J)+"__";function ee(){let{router:e}=Q(W.UseSubmit),{basename:t}=a.useContext(s.jb),n=(0,s.$3)();return a.useCallback(function(r,i){void 0===i&&(i={}),function(){if("undefined"===typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:a,method:o,encType:s,formData:l,body:c}=w(r,t);if(!1===i.navigate){let t=i.fetcherKey||Z();e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function te(e,t){let{relative:n}=void 0===t?{}:t,{basename:r}=a.useContext(s.jb),i=a.useContext(s.UX);i||(0,l.Oi)(!1);let[o]=i.matches.slice(-1),u=c({},(0,s.x$)(e||".",{relative:n})),h=(0,s.zy)();if(null==e){u.search=h.search;let e=new URLSearchParams(u.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();u.search=n?"?"+n:""}}return e&&"."!==e||!o.route.index||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(u.pathname="/"===u.pathname?r:(0,l.HS)([r,u.pathname])),(0,l.AO)(u)}function ne(e){var t;let{key:n}=void 0===e?{}:e,{router:r}=Q(W.UseFetcher),i=X(G.UseFetcher),o=a.useContext(I),u=a.useContext(s.UX),h=null==(t=u.matches[u.matches.length-1])?void 0:t.route.id;o||(0,l.Oi)(!1),u||(0,l.Oi)(!1),null==h&&(0,l.Oi)(!1);let d=R?R():"",[f,p]=a.useState(n||d);n&&n!==f?p(n):f||p(Z()),a.useEffect(()=>(r.getFetcher(f),()=>{r.deleteFetcher(f)}),[r,f]);let m=a.useCallback((e,t)=>{h||(0,l.Oi)(!1),r.fetch(f,h,e,t)},[f,h,r]),g=ee(),v=a.useCallback((e,t)=>{g(e,c({},t,{navigate:!1,fetcherKey:f}))},[f,g]),y=a.useMemo(()=>a.forwardRef((e,t)=>a.createElement(q,c({},e,{navigate:!1,fetcherKey:f,ref:t}))),[f]),w=i.fetchers.get(f)||l.HW,b=o.get(f);return a.useMemo(()=>c({Form:y,submit:v,load:m},w,{data:b}),[y,v,m,w,b])}function re(){let e=X(G.UseFetchers);return Array.from(e.fetchers.entries()).map(e=>{let[t,n]=e;return c({},n,{key:t})})}const ie="react-router-scroll-positions";let ae={};function oe(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,{router:r}=Q(W.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:o}=X(G.UseScrollRestoration),{basename:h}=a.useContext(s.jb),d=(0,s.zy)(),f=(0,s.FE)(),p=(0,s.cq)();a.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),function(e,t){let{capture:n}=t||{};a.useEffect(()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}},[e,n])}(a.useCallback(()=>{if("idle"===p.state){let e=(t?t(d,f):null)||d.key;ae[e]=window.scrollY}try{sessionStorage.setItem(n||ie,JSON.stringify(ae))}catch(e){}window.history.scrollRestoration="auto"},[n,t,p.state,d,f])),"undefined"!==typeof document&&(a.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(n||ie);e&&(ae=JSON.parse(e))}catch(u){}},[n]),a.useLayoutEffect(()=>{let e=t&&"/"!==h?(e,n)=>t(c({},e,{pathname:(0,l.pb)(e.pathname,h)||e.pathname}),n):t,n=null==r?void 0:r.enableScrollRestoration(ae,()=>window.scrollY,e);return()=>n&&n()},[r,h,t]),a.useLayoutEffect(()=>{if(!1!==i)if("number"!==typeof i){if(d.hash){let e=document.getElementById(decodeURIComponent(d.hash.slice(1)));if(e)return void e.scrollIntoView()}!0!==o&&window.scrollTo(0,0)}else window.scrollTo(0,i)},[d,i,o]))}function se(e,t){let{capture:n}=t||{};a.useEffect(()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}},[e,n])}function le(e){let{when:t,message:n}=e,r=(0,s.KP)(t);a.useEffect(()=>{if("blocked"===r.state){window.confirm(n)?setTimeout(r.proceed,0):r.reset()}},[r,n]),a.useEffect(()=>{"blocked"!==r.state||t||r.reset()},[r,t])}function ce(e,t){void 0===t&&(t={});let n=a.useContext(x);null==n&&(0,l.Oi)(!1);let{basename:r}=Q(W.useViewTransitionState),i=(0,s.x$)(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=(0,l.pb)(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=(0,l.pb)(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=(0,l.B6)(i.pathname,c)||null!=(0,l.B6)(i.pathname,o)}},226:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserIcon=t.SkillsTrainingIcon=t.SignOutIcon=t.SignInIcon=t.PartnersIcon=t.LeanAISuperAgentIcon=t.LeanAIAgentIcon=t.DigitalTwinXIcon=t.DigitalTwinSuperIcon=t.DigitalTwinAIIcon=t.ContactIcon=t.BehavioralTrainingIcon=t.AdminIcon=t.AboutUsIcon=void 0;!function(e){e&&e.__esModule}(n(176));var r=n(812);t.DigitalTwinXIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})})},t.DigitalTwinAIIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.472-2.472a3.375 3.375 0 00-4.773-4.773L6.75 10.5M11.42 15.17L6.75 10.5m4.67 4.67L6.75 10.5"})})},t.DigitalTwinSuperIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 012.829-5.195l2.846-.813A4.5 4.5 0 0115.904 9.813l2.846.813a4.5 4.5 0 015.195 2.829l.813 2.846A4.5 4.5 0 0118.75 15l-2.846.813a4.5 4.5 0 01-5.195 2.829z"})})},t.LeanAIAgentIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.682 16.072M21.002 7.222L11.802 14.122M11.802 14.122L4.5 21.002M11.802 14.122L21.3 16.5 13.682 16.072M4.5 21.002L7.222 3.002l9.08 9.08-2.472 2.472"})})},t.LeanAISuperAgentIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-4.5a1.125 1.125 0 01-1.06-.619l-2.475-4.576"})})},t.BehavioralTrainingIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.289 2.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.289 2.72a3 3 0 002.72 4.682 9.095 9.095 0 003.741-.478m-9.82 0a9.093 9.093 0 003.741-.477m-1.46-3.263a3 3 0 012.72 4.682 9.095 9.095 0 01-3.741-.478m1.46 3.263l.264-1.152m-1.46-3.263a3 3 0 00-2.72 4.682 9.095 9.095 0 003.741-.478m-1.46 3.263l-.264-1.152m6.182-5.002a9.094 9.094 0 01-3.741.479 3 3 0 01-4.682-2.72m7.289-2.72a9.094 9.094 0 00-3.741.479 3 3 0 00-4.682-2.72m7.289-2.72a3 3 0 01-2.72-4.682 9.095 9.095 0 013.741.478m-1.46-3.263l-.264 1.152m1.46-3.263a3 3 0 012.72-4.682 9.095 9.095 0 01-3.741.478m-1.46-3.263l.264 1.152m-6.182 5.002a9.094 9.094 0 003.741-.479 3 3 0 004.682-2.72m-7.289-2.72a3 3 0 00-2.72-4.682 9.095 9.095 0 00-3.741.478m9.82 0a9.093 9.093 0 01-3.741.477m1.46-3.263a3 3 0 002.72-4.682 9.095 9.095 0 00-3.741.478m1.46-3.263l-.264 1.152"})})},t.SkillsTrainingIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})},t.PartnersIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 002.25-2.25V6a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6v2.25a2.25 2.25 0 002.25 2.25zm13.5 0h-2.25a2.25 2.25 0 00-2.25 2.25v2.25a2.25 2.25 0 002.25 2.25H19.5a2.25 2.25 0 002.25-2.25v-2.25a2.25 2.25 0 00-2.25-2.25z"})})},t.AboutUsIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})})},t.ContactIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})},t.SignInIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.0",stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m-3 0l3-3m0 0l-3 3m3-3H9"})})},t.SignOutIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l-3-3m0 0l-3-3m3-3H9"})})},t.UserIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"})})},t.AdminIcon=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})})}},291:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,C=-1,x=5,I=-1;function A(){return!(t.unstable_now()-I<x)}function N(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){v(N,0)};function O(e){T=e,k||(k=!0,S())}function D(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,D(_,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},365:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>se,xZ:()=>le,om:()=>oe,Sx:()=>pe,Wp:()=>fe,KO:()=>me});var r=n(746),i=n(984),a=n(688),o=n(882);let s,l;const c=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap;let m={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(w(this),n),y(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(w(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(w(this),t,...r);return d.set(a,t.sort?t.sort():[t]),y(a)}}function v(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(h.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});h.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,m):e);var t}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(y(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(f.has(e))return f.get(e);const t=v(e);return t!==e&&(f.set(e,t),p.set(t,e)),t}const w=e=>p.get(e);const b=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],E=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(E.get(t))return E.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return E.set(t,a),a}m=(e=>(0,o.A)((0,o.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(m);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const T="@firebase/app",C="0.13.1",x=new i.Vy("@firebase/app"),I="@firebase/app-compat",A="@firebase/analytics-compat",N="@firebase/analytics",R="@firebase/app-check-compat",P="@firebase/app-check",O="@firebase/auth",D="@firebase/auth-compat",L="@firebase/database",M="@firebase/data-connect",j="@firebase/database-compat",U="@firebase/functions",F="@firebase/functions-compat",z="@firebase/installations",V="@firebase/installations-compat",B="@firebase/messaging",H="@firebase/messaging-compat",q="@firebase/performance",K="@firebase/performance-compat",W="@firebase/remote-config",G="@firebase/remote-config-compat",Q="@firebase/storage",X="@firebase/storage-compat",Y="@firebase/firestore",$="@firebase/ai",J="@firebase/firestore-compat",Z="firebase",ee="[DEFAULT]",te={[T]:"fire-core",[I]:"fire-core-compat",[N]:"fire-analytics",[A]:"fire-analytics-compat",[P]:"fire-app-check",[R]:"fire-app-check-compat",[O]:"fire-auth",[D]:"fire-auth-compat",[L]:"fire-rtdb",[M]:"fire-data-connect",[j]:"fire-rtdb-compat",[U]:"fire-fn",[F]:"fire-fn-compat",[z]:"fire-iid",[V]:"fire-iid-compat",[B]:"fire-fcm",[H]:"fire-fcm-compat",[q]:"fire-perf",[K]:"fire-perf-compat",[W]:"fire-rc",[G]:"fire-rc-compat",[Q]:"fire-gcs",[X]:"fire-gcs-compat",[Y]:"fire-fst",[J]:"fire-fst-compat",[$]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},ne=new Map,re=new Map,ie=new Map;function ae(e,t){try{e.container.addComponent(t)}catch(u){x.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),u)}}function oe(e){const t=e.name;if(ie.has(t))return x.debug("There were multiple attempts to register component ".concat(t,".")),!1;ie.set(t,e);for(const n of ne.values())ae(n,e);for(const n of re.values())ae(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function le(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ue=new a.FA("app","Firebase",ce);class he{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ue.create("app-deleted",{appName:this._name})}}const de="11.9.0";function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:ee,automaticDataCollectionEnabled:!0},t),o=i.name;if("string"!==typeof o||!o)throw ue.create("bad-app-name",{appName:String(o)});if(n||(n=(0,a.T9)()),!n)throw ue.create("no-options");const s=ne.get(o);if(s){if((0,a.bD)(n,s.options)&&(0,a.bD)(i,s.config))return s;throw ue.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of ie.values())l.addComponent(r);const c=new he(n,i,l);return ne.set(o,c),c}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;const t=ne.get(e);if(!t&&e===ee&&(0,a.T9)())return fe();if(!t)throw ue.create("no-app",{appName:e});return t}function me(e,t,n){var i;let a=null!==(i=te[e])&&void 0!==i?i:e;n&&(a+="-".concat(n));const o=a.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void x.warn(e.join(" "))}oe(new r.uA("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const ge="firebase-heartbeat-store";let ve=null;function ye(){return ve||(ve=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=y(o);return r&&o.addEventListener("upgradeneeded",e=>{r(y(o.result),e.oldVersion,e.newVersion,y(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(u){console.warn(u)}}}).catch(e=>{throw ue.create("idb-open",{originalErrorMessage:e.message})})),ve}async function we(e,t){try{const n=(await ye()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,be(e)),await n.done}catch(u){if(u instanceof a.g)x.warn(u.message);else{const t=ue.create("idb-set",{originalErrorMessage:null===u||void 0===u?void 0:u.message});x.warn(t.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class _e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ee();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(u){x.warn(u)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ee(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,a.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(u){return x.warn(u),""}}}function Ee(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(ge),n=await t.objectStore(ge).get(be(e));return await t.done,n}catch(u){if(u instanceof a.g)x.warn(u.message);else{const t=ue.create("idb-get",{originalErrorMessage:null===u||void 0===u?void 0:u.message});x.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return we(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return we(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Te;Te="",oe(new r.uA("platform-logger",e=>new k(e),"PRIVATE")),oe(new r.uA("heartbeat",e=>new _e(e),"PRIVATE")),me(T,C,Te),me(T,C,"esm2017"),me("fire-js","")},376:(e,t,n)=>{Object.defineProperty(t,"zC",{enumerable:!0,get:function(){return i.LoginModal}}),Object.defineProperty(t,"c8",{enumerable:!0,get:function(){return r.SharedNavBar}}),n(991);var r=n(625),i=n(0),a=n(481)},442:(e,t,n)=>{e.exports=n(291)},454:(e,t,n)=>{var r=n(989);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProtectedRoute=void 0;!function(e){e&&e.__esModule}(n(176));var r=n(204),i=n(152),a=n(812);t.ProtectedRoute=function(e){var t=e.children,n=e.product,o=(0,i.useAuth)(),s=o.user,l=o.claims,c=o.loading,u=(0,r.useLocation)();return c?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)("p",{className:"text-white",children:"Loading..."})}):s&&l&&l.products&&l.products[n]?t:(0,a.jsx)(r.Navigate,{to:"/",state:{from:u},replace:!0})}},538:(e,t,n)=>{n.d(t,{Uz:()=>x,Qg:()=>I});var r=n(365),i=n(688),a=n(746);const o="type.googleapis.com/google.protobuf.Int64Value",s="type.googleapis.com/google.protobuf.UInt64Value";function l(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function c(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>c(e));if("function"===typeof e||"object"===typeof e)return l(e,e=>c(e));throw new Error("Data cannot be encoded in JSON: "+e)}function h(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case o:case s:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>h(e)):"function"===typeof e||"object"===typeof e?l(e,e=>h(e)):e}const d="functions",f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class p extends i.g{constructor(e,t,n){super("".concat(d,"/").concat(e),t||""),this.details=n,Object.setPrototypeOf(this,p.prototype)}}function m(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!f[t])return new p("internal","internal");r=f[t],i=t}const a=e.message;"string"===typeof a&&(i=a),n=e.details,void 0!==n&&(n=h(n))}}catch(u){}return"ok"===r?null:new p(r,i,n)}class g{constructor(e,t,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,(0,r.xZ)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(e=>this.auth=e,()=>{}),this.messaging||n.get().then(e=>this.messaging=e,()=>{}),this.appCheck||null===i||void 0===i||i.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(u){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(u){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const v="us-central1",y=/^data: (.*?)(?:\n|$)/;class w{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new g(e,t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=v}catch(u){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function b(e,t,n){const r=r=>function(e,t,n,r){const i=e._url(t);return S(e,i,n,r)}(e,t,r,n||{});return r.stream=(n,r)=>function(e,t,n,r){const i=e._url(t);return k(e,i,n,r||{})}(e,t,n,r),r}async function _(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(u){return{status:0,json:null}}let a=null;try{a=await i.json()}catch(u){}return{status:i.status,json:a}}async function E(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),null!==r.appCheckToken&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}async function S(e,t,n,r){const i={data:n=c(n)},a=await E(e,r),o=function(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new p("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),s=await Promise.race([_(t,i,a,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!s)throw new p("cancelled","Firebase Functions instance was deleted.");const l=m(s.status,s.json);if(l)throw l;if(!s.json)throw new p("internal","Response is not valid JSON object.");let u=s.json.data;if("undefined"===typeof u&&(u=s.json.result),"undefined"===typeof u)throw new p("internal","Response is missing data field.");return{data:h(u)}}async function k(e,t,n,r){var i;const a={data:n=c(n)},o=await E(e,r);let s,l,d;o["Content-Type"]="application/json",o.Accept="text/event-stream";try{s=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(a),headers:o,signal:null===r||void 0===r?void 0:r.signal})}catch(u){if(u instanceof Error&&"AbortError"===u.name){const e=new p("cancelled","Request was cancelled.");return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const t=m(0,null);return{data:Promise.reject(t),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(t)})}}}const f=new Promise((e,t)=>{l=e,d=t});null===(i=null===r||void 0===r?void 0:r.signal)||void 0===i||i.addEventListener("abort",()=>{const e=new p("cancelled","Request was cancelled.");d(e)});const g=function(e,t,n,r){const i=(e,r)=>{const i=e.match(y);if(!i)return;const a=i[1];try{const e=JSON.parse(a);if("result"in e)return void t(h(e.result));if("message"in e)return void r.enqueue(h(e.message));if("error"in e){const t=m(0,e);return r.error(t),void n(t)}}catch(o){if(o instanceof p)return r.error(o),void n(o)}},a=new TextDecoder;return new ReadableStream({start(t){let o="";return s();async function s(){if(null===r||void 0===r?void 0:r.aborted){const e=new p("cancelled","Request was cancelled");return t.error(e),n(e),Promise.resolve()}try{const{value:l,done:c}=await e.read();if(c)return o.trim()&&i(o.trim(),t),void t.close();if(null===r||void 0===r?void 0:r.aborted){const r=new p("cancelled","Request was cancelled");return t.error(r),n(r),void await e.cancel()}o+=a.decode(l,{stream:!0});const u=o.split("\n");o=u.pop()||"";for(const e of u)e.trim()&&i(e.trim(),t);return s()}catch(l){const e=l instanceof p?l:m(0,null);t.error(e),n(e)}}},cancel:()=>e.cancel()})}(s.body.getReader(),l,d,null===r||void 0===r?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const e=g.getReader();return{async next(){const{value:t,done:n}=await e.read();return{value:t,done:n}},return:async()=>(await e.cancel(),{done:!0,value:void 0})}}},data:f}}const T="@firebase/functions",C="0.12.8";function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;const n=(0,r.j6)((0,i.Ku)(e),d).getImmediate({identifier:t}),a=(0,i.yU)("functions");return a&&function(e,t,n){!function(e,t,n){const r=(0,i.zJ)(t);e.emulatorOrigin="http".concat(r?"s":"","://").concat(t,":").concat(n),r&&((0,i.gE)(e.emulatorOrigin),(0,i.P1)("Functions",!0))}((0,i.Ku)(e),t,n)}(n,...a),n}function I(e,t,n){return b((0,i.Ku)(e),t,n)}var A;(0,r.om)(new a.uA(d,(e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new w(r,i,a,o,n)},"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(T,C,A),(0,r.KO)(T,C,"esm2017")},571:(e,t,n)=>{var r;n.d(t,{$3:()=>U,$P:()=>p,AV:()=>he,BV:()=>ae,C5:()=>te,Eu:()=>he,Ew:()=>H,FE:()=>V,Ix:()=>ie,J8:()=>W,KC:()=>E,KP:()=>X,KT:()=>de,LG:()=>B,P1:()=>S,RQ:()=>y,Ri:()=>m,Rq:()=>l,UX:()=>d,V8:()=>J,Ye:()=>C,Zp:()=>b,bg:()=>pe,cq:()=>F,fS:()=>ee,g:()=>k,jD:()=>oe,jb:()=>u,mP:()=>q,oI:()=>G,ph:()=>x,qh:()=>re,r5:()=>K,sp:()=>s,sv:()=>ne,vL:()=>z,wE:()=>fe,wQ:()=>v,x$:()=>T,yN:()=>h,zy:()=>g});var i=n(176),a=n(112);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const s=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const u=i.createContext(null);const h=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const f=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;m()||(0,a.Oi)(!1);let{basename:r,navigator:o}=i.useContext(u),{hash:s,pathname:l,search:c}=T(e,{relative:n}),h=l;return"/"!==r&&(h="/"===l?r:(0,a.HS)([r,l])),o.createHref({pathname:h,search:c,hash:s})}function m(){return null!=i.useContext(h)}function g(){return m()||(0,a.Oi)(!1),i.useContext(h).location}function v(){return i.useContext(h).navigationType}function y(e){m()||(0,a.Oi)(!1);let{pathname:t}=g();return i.useMemo(()=>(0,a.B6)(e,(0,a.RO)(t)),[t,e])}function w(e){i.useContext(u).static||i.useLayoutEffect(e)}function b(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=L(O.UseNavigateStable),t=j(D.UseNavigateStable),n=i.useRef(!1);return w(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,o({fromRouteId:t},i)))},[e,t])}():function(){m()||(0,a.Oi)(!1);let e=i.useContext(s),{basename:t,future:n,navigator:r}=i.useContext(u),{matches:o}=i.useContext(d),{pathname:l}=g(),c=JSON.stringify((0,a.yD)(o,n.v7_relativeSplatPath)),h=i.useRef(!1);return w(()=>{h.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let o=(0,a.Gh)(n,JSON.parse(c),l,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:(0,a.HS)([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,c,l,e])}()}const _=i.createContext(null);function E(){return i.useContext(_)}function S(e){let t=i.useContext(d).outlet;return t?i.createElement(_.Provider,{value:e},t):t}function k(){let{matches:e}=i.useContext(d),t=e[e.length-1];return t?t.params:{}}function T(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(u),{matches:o}=i.useContext(d),{pathname:s}=g(),l=JSON.stringify((0,a.yD)(o,r.v7_relativeSplatPath));return i.useMemo(()=>(0,a.Gh)(e,JSON.parse(l),s,"path"===n),[e,l,s,n])}function C(e,t){return x(e,t)}function x(e,t,n,r){m()||(0,a.Oi)(!1);let{navigator:s}=i.useContext(u),{matches:l}=i.useContext(d),c=l[l.length-1],f=c?c.params:{},p=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let v,y=g();if(t){var w;let e="string"===typeof t?(0,a.Rr)(t):t;"/"===p||(null==(w=e.pathname)?void 0:w.startsWith(p))||(0,a.Oi)(!1),v=e}else v=y;let b=v.pathname||"/",_=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=(0,a.ue)(e,{pathname:_});let S=P(E&&E.map(e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,a.HS)([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:(0,a.HS)([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&S?i.createElement(h.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:a.rc.Pop}},S):S}function I(){let e=K(),t=(0,a.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const A=i.createElement(I,null);class N extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(s);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},r)}function P(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||(0,a.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight((e,r,a)=>{let o,s=!1,d=null,f=null;var p;n&&(o=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||A,u&&(h<0&&0===a?(p="route-fallback",!1||Y[p]||(Y[p]=!0),s=!0,f=null):h===a&&(s=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=o?d:s?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(R,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(N,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var O=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O||{}),D=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D||{});function L(e){let t=i.useContext(s);return t||(0,a.Oi)(!1),t}function M(e){let t=i.useContext(l);return t||(0,a.Oi)(!1),t}function j(e){let t=function(){let e=i.useContext(d);return e||(0,a.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,a.Oi)(!1),n.route.id}function U(){return j(D.UseRouteId)}function F(){return M(D.UseNavigation).navigation}function z(){let e=L(O.UseRevalidator),t=M(D.UseRevalidator);return i.useMemo(()=>({revalidate:e.router.revalidate,state:t.revalidation}),[e.router.revalidate,t.revalidation])}function V(){let{matches:e,loaderData:t}=M(D.UseMatches);return i.useMemo(()=>e.map(e=>(0,a.ro)(e,t)),[e,t])}function B(){let e=M(D.UseLoaderData),t=j(D.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")}function H(e){return M(D.UseRouteLoaderData).loaderData[e]}function q(){let e=M(D.UseActionData),t=j(D.UseLoaderData);return e.actionData?e.actionData[t]:void 0}function K(){var e;let t=i.useContext(f),n=M(D.UseRouteError),r=j(D.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}function W(){let e=i.useContext(c);return null==e?void 0:e._data}function G(){let e=i.useContext(c);return null==e?void 0:e._error}let Q=0;function X(e){let{router:t,basename:n}=L(O.UseBlocker),r=M(D.UseBlocker),[s,l]=i.useState(""),c=i.useCallback(t=>{if("function"!==typeof e)return!!e;if("/"===n)return e(t);let{currentLocation:r,nextLocation:i,historyAction:s}=t;return e({currentLocation:o({},r,{pathname:(0,a.pb)(r.pathname,n)||r.pathname}),nextLocation:o({},i,{pathname:(0,a.pb)(i.pathname,n)||i.pathname}),historyAction:s})},[n,e]);return i.useEffect(()=>{let e=String(++Q);return l(e),()=>t.deleteBlocker(e)},[t]),i.useEffect(()=>{""!==s&&t.getBlocker(s,c)},[t,s,c]),s&&r.blockers.has(s)?r.blockers.get(s):a.G3}const Y={};const $=(e,t,n)=>{};function J(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&$("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||$("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&$("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&$("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&$("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&$("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}const Z=(r||(r=n.t(i,2))).startTransition;function ee(e){let{basename:t,children:n,initialEntries:r,initialIndex:o,future:s}=e,l=i.useRef();null==l.current&&(l.current=(0,a.sC)({initialEntries:r,initialIndex:o,v5Compat:!0}));let c=l.current,[u,h]=i.useState({action:c.action,location:c.location}),{v7_startTransition:d}=s||{},f=i.useCallback(e=>{d&&Z?Z(()=>h(e)):h(e)},[h,d]);return i.useLayoutEffect(()=>c.listen(f),[c,f]),i.useEffect(()=>J(s),[s]),i.createElement(ie,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:s})}function te(e){let{to:t,replace:n,state:r,relative:o}=e;m()||(0,a.Oi)(!1);let{future:s,static:l}=i.useContext(u),{matches:c}=i.useContext(d),{pathname:h}=g(),f=b(),p=(0,a.Gh)(t,(0,a.yD)(c,s.v7_relativeSplatPath),h,"path"===o),v=JSON.stringify(p);return i.useEffect(()=>f(JSON.parse(v),{replace:n,state:r,relative:o}),[f,v,o,n,r]),null}function ne(e){return S(e.context)}function re(e){(0,a.Oi)(!1)}function ie(e){let{basename:t="/",children:n=null,location:r,navigationType:s=a.rc.Pop,navigator:l,static:c=!1,future:d}=e;m()&&(0,a.Oi)(!1);let f=t.replace(/^\/*/,"/"),p=i.useMemo(()=>({basename:f,navigator:l,static:c,future:o({v7_relativeSplatPath:!1},d)}),[f,d,l,c]);"string"===typeof r&&(r=(0,a.Rr)(r));let{pathname:g="/",search:v="",hash:y="",state:w=null,key:b="default"}=r,_=i.useMemo(()=>{let e=(0,a.pb)(g,f);return null==e?null:{location:{pathname:e,search:v,hash:y,state:w,key:b},navigationType:s}},[f,g,v,y,w,b,s]);return null==_?null:i.createElement(u.Provider,{value:p},i.createElement(h.Provider,{children:n,value:_}))}function ae(e){let{children:t,location:n}=e;return C(he(t),n)}function oe(e){let{children:t,errorElement:n,resolve:r}=e;return i.createElement(ce,{resolve:r,errorElement:n},i.createElement(ue,null,t))}var se=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(se||{});const le=new Promise(()=>{});class ce extends i.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,o=se.pending;if(n instanceof Promise)if(this.state.error){o=se.error;let e=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,o="_error"in r?se.error:"_data"in r?se.success:se.pending):(o=se.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then(e=>Object.defineProperty(n,"_data",{get:()=>e}),e=>Object.defineProperty(n,"_error",{get:()=>e})));else o=se.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(o===se.error&&r._error instanceof a.tH)throw le;if(o===se.error&&!t)throw r._error;if(o===se.error)return i.createElement(c.Provider,{value:r,children:t});if(o===se.success)return i.createElement(c.Provider,{value:r,children:e});throw r}}function ue(e){let{children:t}=e,n=W(),r="function"===typeof t?t(n):t;return i.createElement(i.Fragment,null,r)}function he(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,he(e.props.children,o));e.type!==re&&(0,a.Oi)(!1),e.props.index&&e.props.children&&(0,a.Oi)(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=he(e.props.children,o)),n.push(s)}),n}function de(e){return P(e)}function fe(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function pe(e,t){return(0,a.aE)({basename:null==t?void 0:t.basename,future:o({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,a.sC)({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:e,mapRouteProperties:fe,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation}).initialize()}},593:(e,t,n)=>{n.d(t,{rJ:()=>tl,H9:()=>nl,aU:()=>ll,aQ:()=>cc,My:()=>Xl,P:()=>ql,O5:()=>dc,BN:()=>sc,mZ:()=>lc,_M:()=>Wl});var r,i,a=n(365),o=n(746),s=n(984),l=n(688),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},p={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function a(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function s(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new a([0|e],0>e?-1:0)}):new a([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=s(0),u=s(1),h=s(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function w(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(c,c);if(f(e))return t=w(m(e),t),new y(m(t.g),m(t.h));if(f(t))return t=w(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=_(n,1),a=_(r,1);for(r=_(r,2),n=_(n,2);!d(r);){var o=a.add(r);0>=o.l(e)&&(i=i.add(n),a=o),r=_(r,1),n=_(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=l(n)).j(t);f(o)||0<o.l(e);)o=(a=l(n-=r)).j(t);d(a)&&(a=u),i=i.add(a),e=g(e,o)}return new y(i,e)}function b(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function _(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new a(i,e.h)}(e=a.prototype).m=function(){if(f(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=w(n,t).g,a=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:d(e)?0:1},e.abs=function(){return f(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.i(i))+(65535&e.i(i)),s=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return c;if(f(this))return f(e)?m(this).j(m(e)):m(m(this).j(e));if(f(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.i(r)>>>16,s=65535&this.i(r),u=e.i(i)>>>16,p=65535&e.i(i);n[2*r+2*i]+=s*p,v(n,2*r+2*i),n[2*r+2*i+1]+=o*p,v(n,2*r+2*i+1),n[2*r+2*i+1]+=s*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=o*u,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new a(n,0)},e.A=function(e){return w(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=p.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=l(Math.pow(n,o)),i=i.j(o).add(l(s))):i=(i=i.j(r)).add(l(s))}return i},r=p.Integer=a}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var m,v,y,w,E,S,k,T,C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},x={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof C&&C];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function p(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function I(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function N(e){return/^[\s\xa0]*$/.test(e)}function R(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function P(e){return P[" "](e),e}P[" "]=function(){};var O=-1!=R().indexOf("Gecko")&&!(-1!=R().toLowerCase().indexOf("webkit")&&-1==R().indexOf("Edge"))&&!(-1!=R().indexOf("Trident")||-1!=R().indexOf("MSIE"))&&-1==R().indexOf("Edge");function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function L(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function F(e){i.setTimeout(()=>{throw e},0)}function z(){var e=K;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var V=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new B,e=>e.reset());class B{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let H,q=!1,K=new class{constructor(){this.h=this.g=null}add(e,t){const n=V.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},W=()=>{const e=i.Promise.resolve(void 0);H=()=>{e.then(G)}};var G=()=>{for(var e;e=z();){try{e.h.call(e.g)}catch(g){F(g)}var t=V;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}q=!1};function Q(){this.s=this.s,this.C=this.C}function X(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},X.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(g){}return e}();function $(e,t){if(X.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(O){e:{try{P(t.nodeName);var i=!0;break e}catch(_){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:J[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$.aa.h.call(this)}}p($,X);var J={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),ee=0;function te(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ee,this.da=this.fa=!1}function ne(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function re(e){this.src=e,this.g={},this.h=0}function ie(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ne(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ae(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}re.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ae(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new te(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var oe="closure_lm_"+(1e6*Math.random()|0),se={};function le(e,t,n,r,i){if(r&&r.once)return ue(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)le(e,t[a],n,r,i);return null}return n=ve(n),e&&e[Z]?e.K(t,n,o(r)?!!r.capture:!!r,i):ce(e,t,n,!1,r,i)}function ce(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=me(e);if(l||(e[oe]=l=new re(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=pe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Y||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ue(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ue(e,t[a],n,r,i);return null}return n=ve(n),e&&e[Z]?e.L(t,n,o(r)?!!r.capture:!!r,i):ce(e,t,n,!0,r,i)}function he(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)he(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=ve(n),e&&e[Z]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ae(a=e.g[t],n,r,i))&&(ne(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ae(t,n,r,i)),(n=-1<e?t[e]:null)&&de(n))}function de(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Z])ie(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=me(t))?(ie(n,e),0==n.h&&(n.src=null,t[oe]=null)):ne(e)}}}function fe(e){return e in se?se[e]:se[e]="on"+e}function pe(e,t){if(e.da)e=!0;else{t=new $(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&de(e),e=n.call(r,t)}return e}function me(e){return(e=e[oe])instanceof re?e:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(e){return"function"===typeof e?e:(e[ge]||(e[ge]=function(t){return e.handleEvent(t)}),e[ge])}function ye(){Q.call(this),this.i=new re(this),this.M=this,this.F=null}function we(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new X(t,e);else if(t instanceof X)t.target=t.target||e;else{var i=t;j(t=new X(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=be(o,r,!0,t)&&i}if(i=be(o=t.g=e,r,!0,t)&&i,i=be(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=be(o=t.g=n[a],r,!1,t)&&i}function be(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&ie(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function _e(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function Ee(e){e.g=_e(()=>{e.g=null,e.i&&(e.i=!1,Ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}p(ye,Q),ye.prototype[Z]=!0,ye.prototype.removeEventListener=function(e,t,n,r){he(this,e,t,n,r)},ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ne(n[r]);delete t.g[e],t.h--}}this.F=null},ye.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ye.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class Se extends Q{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ke(e){Q.call(this),this.h=e,this.g={}}p(ke,Q);var Te=[];function Ce(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&de(e)},e),e.g={}}ke.prototype.N=function(){ke.aa.N.call(this),Ce(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,Ie=i.JSON.parse,Ae=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ne(){}function Re(e){return e.h||(e.h=e.i())}function Pe(){}Ne.prototype.h=null;var Oe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){X.call(this,"d")}function Le(){X.call(this,"c")}p(De,X),p(Le,X);var Me={},je=null;function Ue(){return je=je||new ye}function Fe(e){X.call(this,Me.La,e)}function ze(e){const t=Ue();we(t,new Fe(t))}function Ve(e,t){X.call(this,Me.STAT_EVENT,e),this.stat=t}function Be(e){const t=Ue();we(t,new Ve(t,e))}function He(e,t){X.call(this,Me.Ma,e),this.size=t}function qe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ke(){this.g=!0}function We(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xe(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Me.La="serverreachability",p(Fe,X),Me.STAT_EVENT="statevent",p(Ve,X),Me.Ma="timingevent",p(He,X),Ke.prototype.xa=function(){this.g=!1},Ke.prototype.info=function(){};var Ge,Qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ye(){}function $e(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}p(Ye,Ne),Ye.prototype.g=function(){return new XMLHttpRequest},Ye.prototype.i=function(){return{}},Ge=new Ye;var Ze={},et={};function tt(e,t,n){e.L=1,e.v=xt(Et(t)),e.m=n,e.P=!0,nt(e,null)}function nt(e,t){e.F=Date.now(),at(e),e.A=Et(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),zt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Je,e.g=In(e.j,n?t:null,!e.m),0<e.O&&(e.M=new Se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(Te[0]=i.toString()),i=Te);for(var a=0;a<i.length;a++){var o=le(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?L(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ze(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function rt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function it(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?et:(n=Number(t.substring(n,r)),isNaN(n)?Ze:(r+=1)+n>t.length?et:(t=t.slice(r,r+n),e.C=r+n,t))}function at(e){e.S=Date.now()+e.I,ot(e,e.I)}function ot(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qe(c(e.ba,e),t)}function st(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function lt(e){0==e.j.G||e.J||Sn(e.j,e)}function ct(e){st(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function ut(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||mt(n.h,e)))if(!e.K&&mt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(d){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;En(n),dn(n)}wn(n),Be(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=qe(c(n.Za,n),6e3));if(1>=pt(n.h)&&n.ca){try{n.ca()}catch(d){}n.ca=void 0}}else Tn(n,11)}else if((e.K||n.g==e)&&En(n),!N(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(gt(a,a.h),a.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=xn(r,r.J?r.ia:null,r.W),o.K){vt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(st(s),at(s)),r.g=o}else yn(r);0<n.i.length&&pn(n)}else"stop"!=c[0]&&"close"!=c[0]||Tn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Tn(n,7):hn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ze()}catch(d){}}$e.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==sn(e)?t.j():this.Y(e)},$e.prototype.Y=function(e){try{if(e==this.g)e:{const d=sn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||ln(this.g)))){this.J||4!=d||7==t||ze(),st(this);var n=this.g.Z();this.X=n;t:if(rt(this)){var r=ln(this.g);e="";var a=r.length,o=4==sn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ct(this),lt(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Be(12),ct(this),lt(this);break e}We(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ut(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=it(this,s),e==et){4==d&&(this.s=4,Be(14),n=!1),We(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ze){this.s=4,Be(15),We(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}We(this.i,this.l,e,null),ut(this,e)}if(rt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Be(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),bn(h),h.M=!0,Be(11))}}else We(this.i,this.l,s,"[Invalid Chunked Response]"),ct(this),lt(this)}else We(this.i,this.l,s,null),ut(this,s);4==d&&ct(this),this.o&&!this.J&&(4==d?Sn(this.j,this):(this.o=!1,at(this)))}else(function(e){const t={};e=(e.g&&2<=sn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(N(e[r]))continue;var n=U(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),ct(this),lt(this)}}}catch(d){}},$e.prototype.cancel=function(){this.J=!0,ct(this)},$e.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ze(),Be(17)),ct(this),this.s=2,lt(this)):ot(this,this.S-e)};var ht=class{constructor(e,t){this.g=e,this.map=t}};function dt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ft(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pt(e){return e.h?1:e.g?e.g.size:0}function mt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gt(e,t){e.g?e.g.add(t):e.h=t}function vt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return I(e.i)}function wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}dt.prototype.cancel=function(){if(this.i=yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _t(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof _t){this.h=e.h,St(this,e.j),this.o=e.o,this.g=e.g,kt(this,e.s),this.l=e.l;var t=e.i,n=new Mt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tt(this,n),this.m=e.m}else e&&(t=String(e).match(bt))?(this.h=!1,St(this,t[1]||"",!0),this.o=It(t[2]||""),this.g=It(t[3]||"",!0),kt(this,t[4]),this.l=It(t[5]||"",!0),Tt(this,t[6]||"",!0),this.m=It(t[7]||"")):(this.h=!1,this.i=new Mt(null,this.h))}function Et(e){return new _t(e)}function St(e,t,n){e.j=n?It(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function Tt(e,t,n){t instanceof Mt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ut(this,t),zt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=At(t,Dt)),e.i=new Mt(t,e.h))}function Ct(e,t,n){e.i.set(t,n)}function xt(e){return Ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function It(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function At(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Nt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_t.prototype.toString=function(){var e=[],t=this.j;t&&e.push(At(t,Rt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(At(t,Rt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(At(n,"/"==n.charAt(0)?Ot:Pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",At(n,Lt)),e.join("")};var Rt=/[#\/\?@]/g,Pt=/[#\?:]/g,Ot=/[#\?]/g,Dt=/[#\?@]/g,Lt=/#/g;function Mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ut(e,t){jt(e),t=Vt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ft(e,t){return jt(e),t=Vt(e,t),e.g.has(t)}function zt(e,t,n){Ut(e,t),0<n.length&&(e.i=null,e.g.set(Vt(e,t),I(n)),e.h+=n.length)}function Vt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Bt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(_){}}function Ht(){this.g=new Ae}function qt(e,t,n){const r=n||"";try{wt(e,function(e,n){let i=e;o(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(u){throw t.push(r+"type="+encodeURIComponent("_badmap")),u}}function Kt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Wt(e,t){ye.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Gt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Xt(e)}function Xt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Yt(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function $t(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ct(e,t,n))}function Jt(e){ye.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Mt.prototype).add=function(e,t){jt(this),this.i=null,e=Vt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){jt(this);let t=[];if("string"===typeof e)Ft(this,e)&&(t=t.concat(this.g.get(Vt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return jt(this),this.i=null,Ft(this,e=Vt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},p(Kt,Ne),Kt.prototype.g=function(){return new Wt(this.l,this.j)},Kt.prototype.i=function(e){return function(){return e}}({}),p(Wt,ye),(e=Wt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Xt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xt(this)),this.g&&(this.readyState=3,Xt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qt(this):Xt(this),3==this.readyState&&Gt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Qt(this))},e.Qa=function(e){this.g&&(this.response=e,Qt(this))},e.ga=function(){this.g&&Qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),p(Jt,ye);var Zt=/^https?$/i,en=["POST","PUT"];function tn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,nn(e),an(e)}function nn(e){e.A||(e.A=!0,we(e,"complete"),we(e,"error"))}function rn(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=sn(e)||2!=e.Z()))if(e.u&&4==sn(e))_e(e.Ea,0,e);else if(we(e,"readystatechange"),4==sn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(bt)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Zt.test(o?o.toLowerCase():"")}n=a}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var s=2<sn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",nn(e)}}finally{an(e)}}}function an(e,t){if(e.g){on(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||we(e,"ready");try{n.onreadystatechange=r}catch(u){}}}function on(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function sn(e){return e.g?e.g.readyState:0}function ln(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function cn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function un(e){this.Aa=0,this.i=[],this.j=new Ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cn("baseRetryDelayMs",5e3,e),this.cb=cn("retryDelaySeedMs",1e4,e),this.Wa=cn("forwardChannelMaxRetries",2,e),this.wa=cn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new dt(e&&e.concurrentRequestLimit),this.Da=new Ht,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hn(e){if(fn(e),3==e.G){var t=e.U++,n=Et(e.I);if(Ct(n,"SID",e.K),Ct(n,"RID",t),Ct(n,"TYPE","terminate"),gn(e,n),(t=new $e(e,e.j,t)).L=2,t.v=xt(Et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(b){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=In(t.j,null),t.g.ea(t.v)),t.F=Date.now(),at(t)}Cn(e)}function dn(e){e.g&&(bn(e),e.g.cancel(),e.g=null)}function fn(e){dn(e),e.u&&(i.clearTimeout(e.u),e.u=null),En(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function pn(e){if(!ft(e.h)&&!e.s){e.s=!0;var t=e.Ga;H||W(),q||(H(),q=!0),K.add(t,e),e.B=0}}function mn(e,t){var n;n=t?t.l:e.U++;const r=Et(e.I);Ct(r,"SID",e.K),Ct(r,"RID",n),Ct(r,"AID",e.T),gn(e,r),e.m&&e.o&&$t(r,e.m,e.o),n=new $e(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=vn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),gt(e.h,n),tt(n,r,t)}function gn(e,t){e.H&&D(e.H,function(e,n){Ct(t,n,e)}),e.l&&wt({},function(e,n){Ct(t,n,e)})}function vn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{qt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function yn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;H||W(),q||(H(),q=!0),K.add(t,e),e.v=0}}function wn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=qe(c(e.Fa,e),kn(e,e.v)),e.v++,!0)}function bn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function _n(e){e.g=new $e(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=Et(e.qa);Ct(t,"RID","rpc"),Ct(t,"SID",e.K),Ct(t,"AID",e.T),Ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Ct(t,"TO",e.ja),Ct(t,"TYPE","xmlhttp"),gn(e,t),e.m&&e.o&&$t(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(Et(t)),n.m=null,n.P=!0,nt(n,e)}function En(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function Sn(e,t){var n=null;if(e.g==t){En(e),bn(e),e.g=null;var r=2}else{if(!mt(e.h,t))return;n=t.D,vt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;we(r=Ue(),new He(r,n)),pn(e)}else yn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(pt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=qe(c(e.Ga,e,t),kn(e,e.B)),e.B++,!0))}(e,t)||2==r&&wn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Tn(e,5);break;case 4:Tn(e,10);break;case 3:Tn(e,6);break;default:Tn(e,2)}}function kn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Tn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new _t(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||St(r,"https"),xt(r),t?function(e,t){const n=new Ke;if(i.Image){const r=new Image;r.onload=h(Bt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=h(Bt,n,"TestLoadImage: error",!1,t,r),r.onabort=h(Bt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=h(Bt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),Bt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Bt(0,0,!0,t):Bt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Bt(0,0,!1,t)})}(r.toString(),n)}else Be(2);e.G=0,e.l&&e.l.sa(t),Cn(e),fn(e)}function Cn(e){if(e.G=0,e.ka=[],e.l){const t=yt(e.h);0==t.length&&0==e.i.length||(A(e.ka,t),A(e.ka,e.i),e.h.i.length=0,I(e.i),e.i.length=0),e.l.ra()}}function xn(e,t,n){var r=n instanceof _t?Et(n):new _t(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new _t(null);r&&St(o,r),t&&(o.g=t),a&&kt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&Ct(r,n,t),Ct(r,"VER",e.la),gn(e,r),r}function In(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Jt(new Kt({eb:n})):new Jt(e.pa)).Ha(e.J),t}function An(){}function Nn(){}function Rn(e,t){ye.call(this),this.g=new un(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!N(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Dn(this)}function Pn(e){De.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function On(){Le.call(this),this.status=1}function Dn(e){this.g=e}(e=Jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ge.g(),this.v=this.o?Re(this.o):Re(Ge),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(_){return void tn(this,_)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(en,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{on(this),this.u=!0,this.g.send(e),this.u=!1}catch(_){tn(this,_)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),an(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?rn(this):this.bb())},e.bb=function(){rn(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch(f){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ie(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=un.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=xn(this,null,this.W),pn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new $e(this,this.j,e);let a=this.o;if(this.S&&(a?(a=L(a),j(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=vn(this,i,t),Ct(n=Et(this.I),"RID",e),Ct(n,"CVER",22),this.D&&Ct(n,"X-HTTP-Session-Id",this.D),gn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Yt(a)))+"&"+t:this.m&&$t(n,this.m,a)),gt(this.h,i),this.Ua&&Ct(n,"TYPE","init"),this.P?(Ct(n,"$req",t),Ct(n,"SID","null"),i.T=!0,tt(i,n,null)):tt(i,n,t),this.G=2}}else 3==this.G&&(e?mn(this,e):0==this.i.length||ft(this.h)||mn(this))},e.Fa=function(){if(this.u=null,_n(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=qe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),dn(this),_n(this))},e.Za=function(){null!=this.C&&(this.C=null,dn(this),wn(this),Be(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=An.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Nn.prototype.g=function(e,t){return new Rn(e,t)},p(Rn,ye),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){hn(this.g)},Rn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new ht(t.Ya++,e)),3==t.G&&pn(t)},Rn.prototype.N=function(){this.g.l=null,delete this.j,hn(this.g),delete this.g,Rn.aa.N.call(this)},p(Pn,De),p(On,Le),p(Dn,An),Dn.prototype.ua=function(){we(this.g,"a")},Dn.prototype.ta=function(e){we(this.g,new Pn(e))},Dn.prototype.sa=function(e){we(this.g,new On)},Dn.prototype.ra=function(){we(this.g,"b")},Nn.prototype.createWebChannel=Nn.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,T=x.createWebChannelTransport=function(){return new Nn},k=x.getStatEventTarget=function(){return Ue()},S=x.Event=Me,E=x.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,w=x.ErrorCode=Qe,Xe.COMPLETE="complete",y=x.EventType=Xe,Pe.EventType=Oe,Oe.OPEN="a",Oe.CLOSE="b",Oe.ERROR="c",Oe.MESSAGE="d",ye.prototype.listen=ye.prototype.K,v=x.WebChannel=Pe,x.FetchXmlHttpFactory=Kt,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,m=x.XhrIo=Jt}).apply("undefined"!==typeof C?C:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const I="@firebase/firestore",A="4.7.17";class N{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}N.UNAUTHENTICATED=new N(null),N.GOOGLE_CREDENTIALS=new N("google-credentials-uid"),N.FIRST_PARTY=new N("first-party-uid"),N.MOCK_USER=new N("mock-user");let R="11.9.0";const P=new s.Vy("@firebase/firestore");function O(){return P.logLevel}function D(e){if(P.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);P.debug("Firestore (".concat(R,"): ").concat(e),...i)}}function L(e){if(P.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);P.error("Firestore (".concat(R,"): ").concat(e),...i)}}function M(e){if(P.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);P.warn("Firestore (".concat(R,"): ").concat(e),...i)}}function j(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(h){return e}}function U(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,F(e,r,n)}function F(e,t,n){let r="FIRESTORE (".concat(R,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw L(r),new Error(r)}function z(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||F(t,i,r)}function V(e,t){return e}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class q{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class K{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class W{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(N.UNAUTHENTICATED))}shutdown(){}}class G{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q{constructor(e){this.t=e,this.currentUser=N.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){z(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new q;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new q,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new q)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(z("string"==typeof t.accessToken,31837,{l:t}),new K(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return z(null===e||"string"==typeof e,2055,{h:e}),new N(e)}}class X{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=N.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new X(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(N.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,a.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){z(void 0===this.o,3512);const n=e=>{null!=e.error&&D("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,D("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(z("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new $(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Z(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function ee(){return new TextEncoder}class te{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Z(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ne(e,t){return e<t?-1:e>t?1:0}function re(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return ne(r,i);{const a=ee(),o=ae(a.encode(ie(e,n)),a.encode(ie(t,n)));return 0!==o?o:ne(r,i)}}n+=r>65535?2:1}return ne(e.length,t.length)}function ie(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ae(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ne(e[n],t[n]);return ne(e.length,t.length)}function oe(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const se=-62135596800,le=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*le);return new ce(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<se)throw new H(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/le}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-se;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ce(0,0))}static max(){return new ue(new ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const he="__name__";class de{constructor(e,t,n){void 0===t?t=0:t>e.length&&U(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&U(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===de.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof de?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=de.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ne(e.length,t.length)}static compareSegments(e,t){const n=de.isNumericId(e),r=de.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?de.extractNumericId(e).compare(de.extractNumericId(t)):re(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class fe extends de{construct(e,t,n){return new fe(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new H(B.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new fe(e)}static emptyPath(){return new fe([])}}const pe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class me extends de{construct(e,t,n){return new me(e,t,n)}static isValidIdentifier(e){return pe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),me.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===he}static keyField(){return new me([he])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new H(B.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new H(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new H(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new H(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new me(t)}static emptyPath(){return new me([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(fe.fromString(e))}static fromName(e){return new ge(fe.fromString(e).popFirst(5))}static empty(){return new ge(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new fe(e.slice()))}}const ve=-1;class ye{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ye.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(1e9===r?new ce(n+1,0):new ce(n,r));return new _e(i,ge.empty(),t)}function be(e){return new _e(e.readTime,e.key,ve)}class _e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _e(ue.min(),ge.empty(),ve)}static max(){return new _e(ue.max(),ge.empty(),ve)}}function Ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ge.comparator(e.documentKey,t.documentKey),0!==n?n:ne(e.largestBatchId,t.largestBatchId))}const Se="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ke{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Te(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==Se)throw e;D("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(e){return Ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,n)=>{t(e)})}static reject(e){return new Ce((t,n)=>{n(e)})}static waitFor(e){return new Ce((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const n of e)t=t.next(e=>e?Ce.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ce((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Ce((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function xe(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ie(e){return"IndexedDbTransactionError"===e.name}class Ae{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ae.le=-1;const Ne=-1;function Re(e){return null==e}function Pe(e){return 0===e&&1/e==-1/0}function Oe(e){return"number"==typeof e&&Number.isInteger(e)&&!Pe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const De="\x01";function Le(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=je(t)),t=Me(e.get(n),t);return je(t)}function Me(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case De:n+="\x01\x11";break;default:n+=t}}return n}function je(e){return e+De+"\x01"}const Ue="remoteDocuments",Fe="owner",ze="mutationQueues",Ve="mutations";const Be="documentMutations",He="remoteDocumentsV14",qe="remoteDocumentGlobal",Ke="targets",We="targetDocuments",Ge="targetGlobal",Qe="collectionParents",Xe="clientMetadata",Ye="bundles",$e="namedQueries",Je="indexConfiguration",Ze="indexState",et="indexEntries",tt="documentOverlays",nt="globals",rt=[ze,Ve,Be,Ue,Ke,Fe,Ge,We,Xe,qe,Qe,Ye,$e],it=[ze,Ve,Be,He,Ke,Fe,Ge,We,Xe,qe,Qe,Ye,$e,tt],at=it,ot=[...at,Je,Ze,et];function st(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ct(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ht(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ht(this.root,e,this.comparator,!1)}getReverseIterator(){return new ht(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ht(this.root,e,this.comparator,!0)}}class ht{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dt.RED,this.left=null!=r?r:dt.EMPTY,this.right=null!=i?i:dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new dt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1,dt.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pt(this.data.getIterator())}getIteratorFrom(e){return new pt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ft))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class pt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mt{constructor(e){this.fields=e,e.sort(me.comparator)}static empty(){return new mt([])}unionWith(e){let t=new ft(me.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oe(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class gt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gt("Invalid base64 string: "+e):e}}(e);return new vt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(z(!!e,39018),"string"==typeof e){let t=0;const n=yt.exec(e);if(z(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _t(e){return"string"==typeof e?vt.fromBase64String(e):vt.fromUint8Array(e)}const Et="server_timestamp",St="__type__",kt="__previous_value__",Tt="__local_write_time__";function Ct(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[St])||void 0===n?void 0:n.stringValue)===Et}function xt(e){const t=e.mapValue.fields[kt];return Ct(t)?xt(t):t}function It(e){const t=wt(e.mapValue.fields[Tt].timestampValue);return new ce(t.seconds,t.nanos)}class At{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Nt="(default)";class Rt{constructor(e,t){this.projectId=e,this.database=t||Nt}static empty(){return new Rt("","")}get isDefaultDatabase(){return this.database===Nt}isEqual(e){return e instanceof Rt&&e.projectId===this.projectId&&e.database===this.database}}const Pt="__type__",Ot="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Ot}}}},Lt="__vector__",Mt="value";function jt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:en(e)?9007199254740991:Jt(e)?10:11:U(28295,{value:e})}function Ut(e,t){if(e===t)return!0;const n=jt(e);if(n!==jt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return It(e).isEqual(It(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _t(e.bytesValue).isEqual(_t(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bt(e.geoPointValue.latitude)===bt(t.geoPointValue.latitude)&&bt(e.geoPointValue.longitude)===bt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bt(e.integerValue)===bt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bt(e.doubleValue),r=bt(t.doubleValue);return n===r?Pe(n)===Pe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oe(e.arrayValue.values||[],t.arrayValue.values||[],Ut);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(st(n)!==st(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ut(n[i],r[i])))return!1;return!0}(e,t);default:return U(52216,{left:e})}}function Ft(e,t){return void 0!==(e.values||[]).find(e=>Ut(e,t))}function zt(e,t){if(e===t)return 0;const n=jt(e),r=jt(t);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bt(e.integerValue||e.doubleValue),r=bt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vt(e.timestampValue,t.timestampValue);case 4:return Vt(It(e),It(t));case 5:return re(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_t(e),r=_t(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ne(n[i],r[i]);if(0!==e)return e}return ne(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ne(bt(e.latitude),bt(t.latitude));return 0!==n?n:ne(bt(e.longitude),bt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Bt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[Mt])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Mt])||void 0===r?void 0:r.arrayValue,u=ne((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Bt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=re(r[o],a[o]);if(0!==e)return e;const t=zt(n[r[o]],i[a[o]]);if(0!==t)return t}return ne(r.length,a.length)}(e.mapValue,t.mapValue);default:throw U(23264,{Pe:n})}}function Vt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ne(e,t);const n=wt(e),r=wt(t),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function Bt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=zt(n[i],r[i]);if(e)return e}return ne(n.length,r.length)}function Ht(e){return qt(e)}function qt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _t(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ge.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qt(e.fields[i]));return n+"}"}(e.mapValue):U(61005,{value:e})}function Kt(e){switch(jt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xt(e);return t?16+Kt(t):16;case 5:return 2*e.stringValue.length;case 6:return _t(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Kt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return lt(e.fields,(e,n)=>{t+=e.length+Kt(n)}),t}(e.mapValue);default:throw U(13486,{value:e})}}function Wt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Xt(e){return!!e&&"nullValue"in e}function Yt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $t(e){return!!e&&"mapValue"in e}function Jt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Pt])||void 0===n?void 0:n.stringValue)===Lt}function Zt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Zt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function en(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$t(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zt(t)}setAll(e){let t=me.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zt(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$t(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$t(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lt(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new tn(Zt(this.value))}}function nn(e){const t=[];return lt(e.fields,(e,n)=>{const r=new me([e]);if($t(n)){const e=nn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new mt(t)}class rn{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new rn(e,0,ue.min(),ue.min(),ue.min(),tn.empty(),0)}static newFoundDocument(e,t,n,r){return new rn(e,1,t,ue.min(),n,r,0)}static newNoDocument(e,t){return new rn(e,2,t,ue.min(),ue.min(),tn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,ue.min(),ue.min(),tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class an{constructor(e,t){this.position=e,this.inclusive=t}}function on(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):zt(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ut(e.position[n],t.position[n]))return!1;return!0}class ln{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function cn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class un{}class hn extends un{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new Sn(e,n):"in"===t?new kn(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new Cn(e,n):new hn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bn(e,n):new _n(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(zt(t,this.value)):null!==t&&jt(this.value)===jt(t)&&this.matchesComparison(zt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends un{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new dn(e,t)}matches(e){return fn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fn(e){return"and"===e.op}function pn(e){return mn(e)&&fn(e)}function mn(e){for(const t of e.filters)if(t instanceof dn)return!1;return!0}function gn(e){if(e instanceof hn)return e.field.canonicalString()+e.op.toString()+Ht(e.value);if(pn(e))return e.filters.map(e=>gn(e)).join(",");{const t=e.filters.map(e=>gn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function vn(e,t){return e instanceof hn?function(e,t){return t instanceof hn&&e.op===t.op&&e.field.isEqual(t.field)&&Ut(e.value,t.value)}(e,t):e instanceof dn?function(e,t){return t instanceof dn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&vn(n,t.filters[r]),!0)}(e,t):void U(19439)}function yn(e){return e instanceof hn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ht(e.value))}(e):e instanceof dn?function(e){return e.op.toString()+" {"+e.getFilters().map(yn).join(" ,")+"}"}(e):"Filter"}class wn extends hn{constructor(e,t,n){super(e,t,n),this.key=ge.fromName(n.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bn extends hn{constructor(e,t){super(e,"in",t),this.keys=En("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _n extends hn{constructor(e,t){super(e,"not-in",t),this.keys=En("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function En(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ge.fromName(e.referenceValue))}class Sn extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&Ft(t.arrayValue,this.value)}}class kn extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ft(this.value.arrayValue,t)}}class Tn extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ft(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ft(this.value.arrayValue,t)}}class Cn extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ft(this.value.arrayValue,e))}}class xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Ie=null}}function In(e){return new xn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function An(e){const t=V(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>gn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ht(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ht(e)).join(",")),t.Ie=e}return t.Ie}function Nn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sn(e.startAt,t.startAt)&&sn(e.endAt,t.endAt)}function Rn(e){return ge.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Pn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function On(e,t,n,r,i,a,o,s){return new Pn(e,t,n,r,i,a,o,s)}function Dn(e){return new Pn(e)}function Ln(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mn(e){return null!==e.collectionGroup}function jn(e){const t=V(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ft(me.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new ln(r,n))}),e.has(me.keyField().canonicalString())||t.Ee.push(new ln(me.keyField(),n))}return t.Ee}function Un(e){const t=V(e);return t.de||(t.de=Fn(t,jn(e))),t.de}function Fn(e,t){if("F"===e.limitType)return In(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ln(e.field,t)});const n=e.endAt?new an(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new an(e.startAt.position,e.startAt.inclusive):null;return In(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function zn(e,t){const n=e.filters.concat([t]);return new Pn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vn(e,t,n){return new Pn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bn(e,t){return Nn(Un(e),Un(t))&&e.limitType===t.limitType}function Hn(e){return"".concat(An(Un(e)),"|lt:").concat(e.limitType)}function qn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>yn(e)).join(", "),"]")),Re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ht(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ht(e)).join(",")),"Target(".concat(t,")")}(Un(e)),"; limitType=").concat(e.limitType,")")}function Kn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ge.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of jn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jn(e),t))&&!(e.endAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jn(e),t))}(e,t)}function Wn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gn(e){return(t,n)=>{let r=!1;for(const i of jn(e)){const e=Qn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?ge.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zt(r,i):U(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:e.dir})}}class Xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lt(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ct(this.inner)}size(){return this.innerSize}}const Yn=new ut(ge.comparator);function $n(){return Yn}const Jn=new ut(ge.comparator);function Zn(){let e=Jn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function er(e){let t=Jn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function tr(){return rr()}function nr(){return rr()}function rr(){return new Xn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ir=new ut(ge.comparator),ar=new ft(ge.comparator);function or(){let e=ar;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const sr=new ft(ne);function lr(){return sr}function cr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pe(t)?"-0":t}}function ur(e){return{integerValue:""+e}}function hr(e,t){return Oe(t)?ur(t):cr(e,t)}class dr{constructor(){this._=void 0}}function fr(e,t,n){return e instanceof gr?function(e,t){const n={fields:{[St]:{stringValue:Et},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=xt(t)),t&&(n.fields[kt]=t),{mapValue:n}}(n,t):e instanceof vr?yr(e,t):e instanceof wr?br(e,t):function(e,t){const n=mr(e,t),r=Er(n)+Er(e.Re);return Gt(n)&&Gt(e.Re)?ur(r):cr(e.serializer,r)}(e,t)}function pr(e,t,n){return e instanceof vr?yr(e,t):e instanceof wr?br(e,t):n}function mr(e,t){return e instanceof _r?function(e){return Gt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class gr extends dr{}class vr extends dr{constructor(e){super(),this.elements=e}}function yr(e,t){const n=Sr(t);for(const r of e.elements)n.some(e=>Ut(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends dr{constructor(e){super(),this.elements=e}}function br(e,t){let n=Sr(t);for(const r of e.elements)n=n.filter(e=>!Ut(e,r));return{arrayValue:{values:n}}}class _r extends dr{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Er(e){return bt(e.integerValue||e.doubleValue)}function Sr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class kr{constructor(e,t){this.field=e,this.transform=t}}class Tr{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ir{}function Ar(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fr(e.key,Cr.none()):new Dr(e.key,e.data,Cr.none());{const n=e.data,r=tn.empty();let i=new ft(me.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lr(e.key,r,new mt(i.toArray()),Cr.none())}}function Nr(e,t,n){e instanceof Dr?function(e,t,n){const r=e.value.clone(),i=jr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lr?function(e,t,n){if(!xr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rr(e,t,n,r){return e instanceof Dr?function(e,t,n,r){if(!xr(e.precondition,t))return n;const i=e.value.clone(),a=Ur(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lr?function(e,t,n,r){if(!xr(e.precondition,t))return n;const i=Ur(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mr(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return xr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mr(r.transform,e||null);null!=i&&(null===n&&(n=tn.empty()),n.set(r.field,i))}return n||null}function Or(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oe(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vr&&t instanceof vr||e instanceof wr&&t instanceof wr?oe(e.elements,t.elements,Ut):e instanceof _r&&t instanceof _r?Ut(e.Re,t.Re):e instanceof gr&&t instanceof gr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dr extends Ir{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lr extends Ir{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function jr(e,t,n){const r=new Map;z(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,pr(o,s,n[i]))}return r}function Ur(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,fr(e,a,t))}return r}class Fr extends Ir{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zr extends Ir{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=nr();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Ar(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(ue.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&oe(this.mutations,e.mutations,(e,t)=>Or(e,t))&&oe(this.baseMutations,e.baseMutations,(e,t)=>Or(e,t))}}class Br{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){z(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=ir;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Br(e,t,n,r)}}class Hr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class qr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kr,Wr;function Gr(e){switch(e){case B.OK:return U(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return U(15467,{code:e})}}function Qr(e){if(void 0===e)return L("GRPC error has no .code"),B.UNKNOWN;switch(e){case Kr.OK:return B.OK;case Kr.CANCELLED:return B.CANCELLED;case Kr.UNKNOWN:return B.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return B.INTERNAL;case Kr.UNAVAILABLE:return B.UNAVAILABLE;case Kr.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Kr.NOT_FOUND:return B.NOT_FOUND;case Kr.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Kr.ABORTED:return B.ABORTED;case Kr.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Kr.DATA_LOSS:return B.DATA_LOSS;default:return U(39323,{code:e})}}(Wr=Kr||(Kr={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";let Xr=null;const Yr=new r([4294967295,4294967295],0);function $r(e){const t=ee().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function Jr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new r([n,i],0),new r([a,o],0)]}class Zr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ei("Invalid padding: ".concat(t));if(n<0)throw new ei("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ei("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ei("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=r.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Yr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=$r(e),[n,r]=Jr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Zr(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.pe)return;const t=$r(e),[n,r]=Jr(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ei extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ti{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ni.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ti(ue.min(),r,new ut(ne),$n(),or())}}class ni{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ni(n,t,or(),or(),or())}}class ri{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class ii{constructor(e,t){this.targetId=e,this.Ce=t}}class ai{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class oi{constructor(){this.Fe=0,this.Me=ci(),this.xe=vt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=or(),t=or(),n=or();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:U(38017,{changeType:i})}}),new ni(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ci()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,z(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class si{constructor(e){this.ze=e,this.je=new Map,this.He=$n(),this.Je=li(),this.Ye=li(),this.Ze=new ut(ne)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:U(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Rn(i))if(0===n){const e=new ge(i.path);this.tt(t,e,rn.newNoDocument(e,ue.min()))}else z(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Xr||Xr.ht(function(e,t,n,r,i){var a,o,s,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=_t(n).toUint8Array()}catch(e){if(e instanceof gt)return M("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Zr(a,r,i)}catch(e){return M(e instanceof ei?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&Rn(i.target)){const t=new ge(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,rn.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=or();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new ti(e,t,this.Ze,this.He,n);return this.He=$n(),this.Je=li(),this.Ye=li(),this.Ze=new ut(ne),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new oi,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ft(ne),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ft(ne),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||D("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new oi),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function li(){return new ut(ge.comparator)}function ci(){return new ut(ge.comparator)}const ui={asc:"ASCENDING",desc:"DESCENDING"},hi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},di={and:"AND",or:"OR"};class fi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pi(e,t){return e.useProto3Json||Re(t)?t:{value:t}}function mi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vi(e,t){return mi(e,t.toTimestamp())}function yi(e){return z(!!e,49232),ue.fromTimestamp(function(e){const t=wt(e);return new ce(t.seconds,t.nanos)}(e))}function wi(e,t){return bi(e,t).canonicalString()}function bi(e,t){const n=function(e){return new fe(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _i(e){const t=fe.fromString(e);return z(Vi(t),10190,{key:t.toString()}),t}function Ei(e,t){return wi(e.databaseId,t.path)}function Si(e,t){const n=_i(t);if(n.get(1)!==e.databaseId.projectId)throw new H(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ge(xi(n))}function ki(e,t){return wi(e.databaseId,t)}function Ti(e){const t=_i(e);return 4===t.length?fe.emptyPath():xi(t)}function Ci(e){return new fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xi(e){return z(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ii(e,t,n){return{name:Ei(e,t),fields:n.value.mapValue.fields}}function Ai(e,t){let n;if(t instanceof Dr)n={update:Ii(e,t.key,t.value)};else if(t instanceof Fr)n={delete:Ei(e,t.key)};else if(t instanceof Lr)n={update:Ii(e,t.key,t.data),updateMask:zi(t.fieldMask)};else{if(!(t instanceof zr))return U(16599,{ft:t.type});n={verify:Ei(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof gr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _r)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw U(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:U(27497)}(e,t.precondition)),n}function Ni(e,t){return{documents:[ki(e,t.path)]}}function Ri(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ki(e,i);const a=function(e){if(0!==e.length)return Fi(dn.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ji(e.field),direction:Di(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=pi(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Pi(e){let t=Ti(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){z(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Oi(e);return t instanceof dn&&pn(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new ln(Ui(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Re(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new an(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new an(n,t)}(n.endAt)),On(t,i,o,a,s,"F",l,c)}function Oi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ui(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ui(e.unaryFilter.field);return hn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ui(e.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ui(e.unaryFilter.field);return hn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}}(e):void 0!==e.fieldFilter?function(e){return hn.create(Ui(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return dn.create(e.compositeFilter.filters.map(e=>Oi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return U(1026)}}(e.compositeFilter.op))}(e):U(30097,{filter:e})}function Di(e){return ui[e]}function Li(e){return hi[e]}function Mi(e){return di[e]}function ji(e){return{fieldPath:e.canonicalString()}}function Ui(e){return me.fromServerFormat(e.fieldPath)}function Fi(e){return e instanceof hn?function(e){if("=="===e.op){if(Yt(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NAN"}};if(Xt(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yt(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NAN"}};if(Xt(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(e.field),op:Li(e.op),value:e.value}}}(e):e instanceof dn?function(e){const t=e.getFilters().map(e=>Fi(e));return 1===t.length?t[0]:{compositeFilter:{op:Mi(e.op),filters:t}}}(e):U(54877,{filter:e})}function zi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ue.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ue.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vt.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hi{constructor(e){this.wt=e}}function qi(e){const t=Pi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vn(t,t.limit,"L"):t}class Ki{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(bt(e.integerValue));else if("doubleValue"in e){const n=bt(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Pe(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=wt(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(_t(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?en(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Jt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):U(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const a=Mt,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(bt(o)),this.Nt(a,t),this.Ct(i[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ge.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Ki.Wt=new Ki;class Wi{constructor(){this.Cn=new Gi}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(_e.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(_e.min())}updateCollectionGroup(e,t,n){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Gi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ft(fe.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ft(fe.comparator)).toArray()}}new Uint8Array(0);const Qi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xi=41943040;class Yi{static withCacheSize(e){return new Yi(e,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(Xi,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);class $i{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new $i(0)}static lr(){return new $i(-1)}}const Ji="LruGarbageCollector",Zi=1048576;function ea(e,t){let[n,r]=e,[i,a]=t;const o=ne(n,i);return 0===o?ne(r,a):o}class ta{constructor(e){this.Er=e,this.buffer=new ft(ea),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ea(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class na{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){D(Ji,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ie(e)?D(Ji,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.mr(3e5)})}}class ra{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Ae.le);const n=new ta(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Qi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Qi):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),O()<=s.$b.DEBUG&&D("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ia(e,t){return new ra(e,t)}class aa{constructor(){this.changes=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oa{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sa{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rr(n.mutation,e,mt.empty(),ce.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,or()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or();const r=tr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Zn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=tr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,or()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=$n();const a=rr(),o=rr();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Lr)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Rr(o.mutation,t,o.mutation.getFieldMask(),ce.now())):a.set(t.key,mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new oa(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=rr();let r=new ut((e,t)=>e-t),i=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||mt.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||or()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=nr();l.forEach(e=>{if(!i.has(e)){const r=Ar(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ce.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ge.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ce.resolve(tr());let o=ve,s=i;return a.next(t=>Ce.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ce.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,or())).next(e=>({batchId:o,changes:er(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(e=>{let t=Zn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Zn();return this.indexManager.getCollectionParents(e,i).next(o=>Ce.forEach(o,o=>{const s=function(e,t){return new Pn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rn.newInvalidDocument(r)))});let n=Zn();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Rr(a.mutation,r,mt.empty(),ce.now()),Kn(t,r)&&(n=n.insert(e,r))}),n})}}class la{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:yi(e.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:qi(e.bundledQuery),readTime:yi(e.readTime)}}(t)),Ce.resolve()}}class ca{constructor(){this.overlays=new ut(ge.comparator),this.Qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=tr();return Ce.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),Ce.resolve()}getOverlaysForCollection(e,t,n){const r=tr(),i=t.length+1,a=new ge(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ut((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=tr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=tr(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Ce.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hr(t,n));let i=this.Qr.get(t);void 0===i&&(i=or(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class ua{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}class ha{constructor(){this.$r=new ft(da.Ur),this.Kr=new ft(da.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new da(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new da(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new ge(new fe([])),n=new da(t,e),r=new da(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ge(new fe([])),n=new da(t,e),r=new da(t,e+1);let i=or();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new da(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class da{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ge.comparator(e.key,t.key)||ne(e.Zr,t.Zr)}static Wr(e,t){return ne(e.Zr,t.Zr)||ge.comparator(e.key,t.key)}}class fa{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ft(da.Ur)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Vr(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Xr=this.Xr.add(new da(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ce.resolve(a)}lookupMutationBatch(e,t){return Ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?Ne:this.nr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new da(t,0),r=new da(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ft(ne);return t.forEach(e=>{const t=new da(e,0),r=new da(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),Ce.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ge.isDocumentKey(i)||(i=i.child(""));const a=new da(new ge(i),0);let o=new ft(ne);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)},a),Ce.resolve(this.ni(o))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){z(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return Ce.forEach(t.mutations,r=>{const i=new da(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new da(t,0),r=this.Xr.firstAfterOrEqual(n);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pa{constructor(e){this.ii=e,this.docs=new ut(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ce.resolve(n?n.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let n=$n();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rn.newInvalidDocument(e))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$n();const a=t.path,o=new ge(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ee(be(o),n)<=0||(r.has(o.key)||Kn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){U(9500)}si(e,t){return Ce.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ma(this)}getSize(e){return Ce.resolve(this.size)}}class ma extends aa{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),Ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class ga{constructor(e){this.persistence=e,this.oi=new Xn(e=>An(e),Nn),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this._i=0,this.ai=new ha,this.targetCount=0,this.ui=$i.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),Ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new $i(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Tr(t),Ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Ce.waitFor(i).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return Ce.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),Ce.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return Ce.resolve(n)}containsKey(e,t){return Ce.resolve(this.ai.containsKey(t))}}class va{constructor(e,t){this.ci={},this.overlays={},this.li=new Ae(0),this.hi=!1,this.hi=!0,this.Pi=new ua,this.referenceDelegate=e(this),this.Ti=new ga(this),this.indexManager=new Wi,this.remoteDocumentCache=function(e){return new pa(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new Hi(t),this.Ei=new la(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ca,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new fa(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){D("MemoryPersistence","Starting transaction:",e);const r=new ya(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return Ce.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class ya extends ke{constructor(e){super(),this.currentSequenceNumber=e}}class wa{constructor(e){this.persistence=e,this.Vi=new ha,this.mi=null}static fi(e){return new wa(e)}get gi(){if(this.mi)return this.mi;throw U(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),Ce.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.gi,n=>{const r=ge.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,ue.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Ce.or([()=>Ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class ba{constructor(e,t){this.persistence=e,this.yi=new Xn(e=>Le(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ia(this,t)}static fi(e,t){return new ba(e,t)}di(){}Ai(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return Ce.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?Ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ue.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kt(e.data.value)),t}Dr(e,t,n){return Ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return Ce.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _a{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=or(),r=or();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _a(e,t.fromCache,n,r)}}class Ea{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sa{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,l.nr)()?8:xe((0,l.ZQ)())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ea;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(O()<=s.$b.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",qn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ce.resolve()):(O()<=s.$b.DEBUG&&D("QueryEngine","Query:",qn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(O()<=s.$b.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",qn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):Ce.resolve())}ws(e,t){if(Ln(t))return Ce.resolve(null);let n=Un(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Vn(t,null,"F"),n=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=or(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.vs(t,r);return this.Cs(t,a,i,n.readTime)?this.ws(e,Vn(t,null,"F")):this.Fs(e,a,t,n)}))})))}bs(e,t,n,r){return Ln(t)||r.isEqual(ue.min())?Ce.resolve(null):this.ys.getDocuments(e,n).next(i=>{const a=this.vs(t,i);return this.Cs(t,a,n,r)?Ce.resolve(null):(O()<=s.$b.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qn(t)),this.Fs(e,a,t,we(r,ve)).next(e=>e))})}vs(e,t){let n=new ft(Gn(e));return t.forEach((t,r)=>{Kn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return O()<=s.$b.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",qn(t)),this.ys.getDocumentsMatchingQuery(e,t,_e.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ka="LocalStore",Ta=3e8;class Ca{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new ut(ne),this.Os=new Xn(e=>An(e),Nn),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sa(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function xa(e,t,n,r){return new Ca(e,t,n,r)}async function Ia(e,t){const n=V(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=or();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:a}))})})}function Aa(e){const t=V(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function Na(e,t,n){let r=or(),i=or();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=$n();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ue.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):D(ka,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{qs:r,Qs:i}})}function Ra(e,t){const n=V(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ne),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Pa(e,t){const n=V(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,Ce.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function Oa(e,t,n){const r=V(e),i=r.xs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ie(e))throw e;D(ka,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function Da(e,t,n){const r=V(e);let i=ue.min(),a=or();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=V(e),i=r.Os.get(n);return void 0!==i?Ce.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,Un(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:ue.min(),n?a:or())).next(e=>(La(r,Wn(t),e),{documents:e,$s:a})))}function La(e,t,n){let r=e.Ns.get(t)||ue.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class Ma{constructor(){this.activeTargetIds=lr()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ja{constructor(){this.xo=new Ma,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ma,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ua{No(e){}shutdown(){}}const Fa="ConnectivityMonitor";class za{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){D(Fa,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){D(Fa,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Va=null;function Ba(){return null===Va?Va=268435456+Math.round(2147483648*Math.random()):Va++,"0x"+Va.toString(16)}const Ha="RestConnection",qa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ka{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===Nt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const a=Ba(),o=this.jo(e,t.toUriEncodedString());D(Ha,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,i);const{host:c}=new URL(o),u=(0,l.zJ)(c);return this.Jo(e,o,s,n,u).then(t=>(D(Ha,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw M(Ha,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Yo(e,t,n,r,i,a){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+R,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=qa[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Wa{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Ga="WebChannelConnection";class Qa extends Ka{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Ba();return new Promise((i,o)=>{const s=new m;s.setWithCredentials(!0),s.listenOnce(y.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case w.NO_ERROR:const t=s.getResponseJson();D(Ga,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case w.TIMEOUT:D(Ga,"RPC '".concat(e,"' ").concat(a," timed out")),o(new H(B.DEADLINE_EXCEEDED,"Request time out"));break;case w.HTTP_ERROR:const n=s.getStatus();if(D(Ga,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(t)>=0?t:B.UNKNOWN}(t.status);o(new H(e,t.message))}else o(new H(B.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new H(B.UNAVAILABLE,"Connection failed."));break;default:U(9055,{h_:e,streamId:a,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{D(Ga,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);D(Ga,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}I_(e,t,n){const r=Ba(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=T(),o=k(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");D(Ga,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.E_(u);let h=!1,d=!1;const f=new Wa({Zo:t=>{d?D(Ga,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(D(Ga,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),D(Ga,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,v.EventType.OPEN,()=>{d||(D(Ga,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())}),p(u,v.EventType.CLOSE,()=>{d||(d=!0,D(Ga,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))}),p(u,v.EventType.ERROR,t=>{d||(d=!0,M(Ga,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new H(B.UNAVAILABLE,"The operation could not be completed")))}),p(u,v.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];z(!!i,16349);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){D(Ga,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Kr[e];if(void 0!==t)return Qr(t)}(t),i=o.message;void 0===n&&(n=B.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.u_(new H(n,i)),u.close()}else D(Ga,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}}),p(o,S.STAT_EVENT,t=>{t.stat===E.PROXY?D(Ga,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===E.NOPROXY&&D(Ga,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.a_()},0),f}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Xa(){return"undefined"!=typeof document?document:null}function Ya(e){return new fi(e,!0)}class $a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&D("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Ja="PersistentStream";class Za{constructor(e,t,n,r,i,a,o,s){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $a(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(L(t.toString()),L("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===B.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new H(B.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return D(Ja,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(D(Ja,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eo extends Za{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:U(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(z(void 0===t||"string"==typeof t,58123),vt.fromBase64String(t||"")):(z(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),vt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?B.UNKNOWN:Qr(e.code);return new H(t,e.message||"")}(o);n=new ai(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Si(e,r.document.name),a=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):ue.min(),s=new tn({mapValue:{fields:r.document.fields}}),l=rn.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ri(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Si(e,r.document),a=r.readTime?yi(r.readTime):ue.min(),o=rn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new ri([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Si(e,r.document),a=r.removedTargetIds||[];n=new ri([],a,i,null)}else{if(!("filter"in t))return U(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new qr(r,i),o=e.targetId;n=new ii(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ue.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ue.min():t.readTime?yi(t.readTime):ue.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Ci(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rn(r)?{documents:Ni(e,r)}:{query:Ri(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=gi(e,t.resumeToken);const r=pi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ue.min())>0){n.readTime=mi(e,t.snapshotVersion.toTimestamp());const r=pi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Ci(this.serializer),t.removeTarget=e,this.Q_(t)}}class to extends Za{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return z(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,z(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){z(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(z(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?yi(e.updateTime):yi(t);return n.isEqual(ue.min())&&(n=yi(t)),new Tr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=yi(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Ci(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ai(this.serializer,e))};this.Q_(t)}}class no{}class ro extends no{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new H(B.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.zo(e,bi(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new H(B.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Yo(e,bi(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new H(B.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class io{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(L(t),this.ua=!1):D("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const ao="RemoteStore";class oo{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{go(this)&&(D(ao,"Restarting streams for network reachability change."),await async function(e){const t=V(e);t.da.add(4),await lo(t),t.Va.set("Unknown"),t.da.delete(4),await so(t)}(this))})}),this.Va=new io(n,r)}}async function so(e){if(go(e))for(const t of e.Aa)await t(!0)}async function lo(e){for(const t of e.Aa)await t(!1)}function co(e,t){const n=V(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),mo(n)?po(n):Lo(n).N_()&&ho(n,t))}function uo(e,t){const n=V(e),r=Lo(n);n.Ea.delete(t),r.N_()&&fo(n,t),0===n.Ea.size&&(r.N_()?r.k_():go(n)&&n.Va.set("Unknown"))}function ho(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Lo(e).Z_(t)}function fo(e,t){e.ma.Ke(t),Lo(e).X_(t)}function po(e){e.ma=new si({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Lo(e).start(),e.Va.ca()}function mo(e){return go(e)&&!Lo(e).O_()&&e.Ea.size>0}function go(e){return 0===V(e).da.size}function vo(e){e.ma=void 0}async function yo(e){e.Va.set("Online")}async function wo(e){e.Ea.forEach((t,n)=>{ho(e,t)})}async function bo(e,t){vo(e),mo(e)?(e.Va.Pa(t),po(e)):e.Va.set("Unknown")}async function _o(e,t,n){if(e.Va.set("Online"),t instanceof ai&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){D(ao,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Eo(e,n)}else if(t instanceof ri?e.ma.Xe(t):t instanceof ii?e.ma.ot(t):e.ma.nt(t),!n.isEqual(ue.min()))try{const t=await Aa(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(vt.EMPTY_BYTE_STRING,r.snapshotVersion)),fo(e,t);const i=new Bi(r.target,t,n,r.sequenceNumber);ho(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){D(ao,"Failed to raise snapshot:",t),await Eo(e,t)}}async function Eo(e,t,n){if(!Ie(t))throw t;e.da.add(1),await lo(e),e.Va.set("Offline"),n||(n=()=>Aa(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{D(ao,"Retrying IndexedDB access"),await n(),e.da.delete(1),await so(e)})}function So(e,t){return t().catch(n=>Eo(e,n,t))}async function ko(e){const t=V(e),n=Mo(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Ne;for(;To(t);)try{const e=await Ra(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Co(t,e)}catch(e){await Eo(t,e)}xo(t)&&Io(t)}function To(e){return go(e)&&e.Ia.length<10}function Co(e,t){e.Ia.push(t);const n=Mo(e);n.N_()&&n.ea&&n.ta(t.mutations)}function xo(e){return go(e)&&!Mo(e).O_()&&e.Ia.length>0}function Io(e){Mo(e).start()}async function Ao(e){Mo(e).ia()}async function No(e){const t=Mo(e);for(const n of e.Ia)t.ta(n.mutations)}async function Ro(e,t,n){const r=e.Ia.shift(),i=Br.from(r,t,n);await So(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ko(e)}async function Po(e,t){t&&Mo(e).ea&&await async function(e,t){if(function(e){return Gr(e)&&e!==B.ABORTED}(t.code)){const n=e.Ia.shift();Mo(e).L_(),await So(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ko(e)}}(e,t),xo(e)&&Io(e)}async function Oo(e,t){const n=V(e);n.asyncQueue.verifyOperationInProgress(),D(ao,"RemoteStore received new credentials");const r=go(n);n.da.add(3),await lo(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await so(n)}async function Do(e,t){const n=V(e);t?(n.da.delete(2),await so(n)):t||(n.da.add(2),await lo(n),n.Va.set("Unknown"))}function Lo(e){return e.fa||(e.fa=function(e,t,n){const r=V(e);return r.oa(),new eo(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:yo.bind(null,e),n_:wo.bind(null,e),i_:bo.bind(null,e),Y_:_o.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),mo(e)?po(e):e.Va.set("Unknown")):(await e.fa.stop(),vo(e))})),e.fa}function Mo(e){return e.ga||(e.ga=function(e,t,n){const r=V(e);return r.oa(),new to(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Ao.bind(null,e),i_:Po.bind(null,e),na:No.bind(null,e),ra:Ro.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await ko(e)):(await e.ga.stop(),e.Ia.length>0&&(D(ao,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class jo{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new jo(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uo(e,t){if(L("AsyncQueue","".concat(t,": ").concat(e)),Ie(e))return new H(B.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ge.comparator(t.key,n.key):(e,t)=>ge.comparator(e.key,t.key),this.keyedMap=Zn(),this.sortedSet=new ut(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class zo{constructor(){this.pa=new ut(ge.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):U(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Vo{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Vo(e,t,Fo.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Bo{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Ho{constructor(){this.queries=qo(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=V(e),r=n.queries;n.queries=qo(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new H(B.ABORTED,"Firestore shutting down"))}}function qo(){return new Xn(e=>Hn(e),Bn)}async function Ko(e,t){const n=V(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Da()&&t.va()&&(r=2):(a=new Bo,r=t.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Uo(e,"Initialization of query '".concat(qn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.Fa(n.onlineState),a.ba&&t.Ma(a.ba)&&Xo(n)}async function Wo(e,t){const n=V(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.va()?0:1:!a.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Go(e,t){const n=V(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&Xo(n)}function Qo(e,t,n){const r=V(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Xo(e){e.Ca.forEach(e=>{e.next()})}var Yo,$o;($o=Yo||(Yo={})).xa="default",$o.Cache="cache";class Jo{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Vo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Yo.Cache}}class Zo{constructor(e){this.key=e}}class es{constructor(e){this.key=e}}class ts{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=or(),this.mutatedKeys=or(),this.Za=Gn(e),this.Xa=new Fo(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new zo,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Kn(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:a,nu:n,Cs:o,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const o=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==a.length||l?{snapshot:new Vo(this.query,e.Xa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new zo,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=or(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new es(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new Zo(n))}),t}au(e){this.Ha=e.$s,this.Ya=or();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Vo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const ns="SyncEngine";class rs{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class is{constructor(e){this.key=e,this.cu=!1}}class as{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Xn(e=>Hn(e),Bn),this.Pu=new Map,this.Tu=new Set,this.Iu=new ut(ge.comparator),this.Eu=new Map,this.du=new ha,this.Au={},this.Ru=new Map,this.Vu=$i.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function os(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=xs(e);let i;const a=r.hu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await ls(r,t,n,!0),i}async function ss(e,t){const n=xs(e);await ls(n,t,!0,!1)}async function ls(e,t,n,r){const i=await Pa(e.localStore,Un(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await cs(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&co(e.remoteStore,i),s}async function cs(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await Da(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return _s(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const a=await Da(e.localStore,t,!0),o=new ts(t,a.$s),s=o.tu(a.documents),l=ni.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);_s(e,n,c.ou);const u=new rs(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function us(e,t,n){const r=V(e),i=r.hu.get(t),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(e=>!Bn(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Oa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uo(r.remoteStore,i.targetId),ws(r,i.targetId)}).catch(Te)):(ws(r,i.targetId),await Oa(r.localStore,i.targetId,!0))}async function hs(e,t){const n=V(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uo(n.remoteStore,r.targetId))}async function ds(e,t){const n=V(e);try{const e=await function(e,t){const n=V(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Ti.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(vt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Ta||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Ti.updateTargetData(e,c))});let s=$n(),l=or();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Na(e,a,t.documentUpdates).next(e=>{s=e.qs,l=e.Qs})),!r.isEqual(ue.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Ce.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(z(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?z(r.cu,14607):e.removedDocuments.size>0&&(z(r.cu,42227),r.cu=!1))}),await ks(n,e,t)}catch(e){await Te(e)}}function fs(e,t,n){const r=V(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=V(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&Xo(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ps(e,t,n){const r=V(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new ut(ge.comparator);e=e.insert(a,rn.newNoDocument(a,ue.min()));const n=or().add(a),i=new ti(ue.min(),new Map,new ut(ne),e,n);await ds(r,i),r.Iu=r.Iu.remove(a),r.Eu.delete(t),Ss(r)}else await Oa(r.localStore,t,!1).then(()=>ws(r,t,n)).catch(Te)}async function ms(e,t){const n=V(e),r=t.batch.batchId;try{const e=await function(e,t){const n=V(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=Ce.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);z(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=or();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ys(n,r,null),vs(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ks(n,e)}catch(e){await Te(e)}}async function gs(e,t,n){const r=V(e);try{const e=await function(e,t){const n=V(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(z(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ys(r,t,n),vs(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ks(r,e)}catch(n){await Te(n)}}function vs(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function ys(e,t,n){const r=V(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||bs(e,t)})}function bs(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(uo(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Ss(e))}function _s(e,t,n){for(const r of n)r instanceof Zo?(e.du.addReference(r.key,t),Es(e,r)):r instanceof es?(D(ns,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||bs(e,r.key)):U(19791,{pu:r})}function Es(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(D(ns,"New document in limbo: "+n),e.Tu.add(r),Ss(e))}function Ss(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new ge(fe.fromString(t)),r=e.Vu.next();e.Eu.set(r,new is(n)),e.Iu=e.Iu.insert(n,r),co(e.remoteStore,new Bi(Un(Dn(n.path)),r,"TargetPurposeLimboResolution",Ae.le))}}async function ks(e,t,n){const r=V(e),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((e,s)=>{o.push(r.fu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=_a.Rs(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(e,t){const n=V(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ce.forEach(t,t=>Ce.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ce.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ie(e))throw e;D(ka,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,a))}async function Ts(e,t){const n=V(e);if(!n.currentUser.isEqual(t)){D(ns,"User change. New user:",t.toKey());const e=await Ia(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new H(B.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ks(n,e.ks)}}function Cs(e,t){const n=V(e),r=n.Eu.get(t);if(r&&r.cu)return or().add(r.key);{let e=or();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function xs(e){const t=V(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ds.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cs.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ps.bind(null,t),t.lu.Y_=Go.bind(null,t.eventManager),t.lu.gu=Qo.bind(null,t.eventManager),t}function Is(e){const t=V(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ms.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gs.bind(null,t),t}class As{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ya(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return xa(this.persistence,new Sa,e.initialUser,this.serializer)}Su(e){return new va(wa.fi,this.serializer)}bu(e){return new ja}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}As.provider={build:()=>new As};class Ns extends As{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){z(this.persistence.referenceDelegate instanceof ba,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new na(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Yi.withCacheSize(this.cacheSizeBytes):Yi.DEFAULT;return new va(e=>ba.fi(e,t),this.serializer)}}class Rs{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fs(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ts.bind(null,this.syncEngine),await Do(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ho}createDatastore(e){const t=Ya(e.databaseInfo.databaseId),n=function(e){return new Qa(e)}(e.databaseInfo);return function(e,t,n,r){return new ro(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new oo(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>fs(this.syncEngine,e,0),za.C()?new za:new Ua)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new as(e,t,n,r,i,a);return o&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=V(e);D(ao,"RemoteStore shutting down."),t.da.add(5),await lo(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Rs.provider={build:()=>new Rs};class Ps{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):L("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Os="FirestoreClient";class Ds{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=N.UNAUTHENTICATED,this.clientId=te.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{D(Os,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(D(Os,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(h){const n=Uo(h,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ls(e,t){e.asyncQueue.verifyOperationInProgress(),D(Os,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ia(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ms(e,t){e.asyncQueue.verifyOperationInProgress();const n=await js(e);D(Os,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Oo(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Oo(t.remoteStore,n)),e._onlineComponents=t}async function js(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){D(Os,"Using user provided OfflineComponentProvider");try{await Ls(e,e._uninitializedComponentsProvider._offline)}catch(h){const n=h;if(!function(e){return"FirebaseError"===e.name?e.code===B.FAILED_PRECONDITION||e.code===B.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;M("Error using user provided cache. Falling back to memory cache: "+n),await Ls(e,new As)}}else D(Os,"Using default OfflineComponentProvider"),await Ls(e,new Ns(void 0));return e._offlineComponents}async function Us(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(D(Os,"Using user provided OnlineComponentProvider"),await Ms(e,e._uninitializedComponentsProvider._online)):(D(Os,"Using default OnlineComponentProvider"),await Ms(e,new Rs))),e._onlineComponents}function Fs(e){return Us(e).then(e=>e.syncEngine)}async function zs(e){const t=await Us(e),n=t.eventManager;return n.onListen=os.bind(null,t.syncEngine),n.onUnlisten=us.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ss.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hs.bind(null,t.syncEngine),n}function Vs(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Bs=new Map;function Hs(e,t,n){if(!n)throw new H(B.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qs(e){if(!ge.isDocumentKey(e))throw new H(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ks(e){if(ge.isDocumentKey(e))throw new H(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ws(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":U(12329,{type:typeof e})}function Gs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ws(e);throw new H(B.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Qs="firestore.googleapis.com",Xs=!0;class Ys{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new H(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qs,this.ssl=Xs}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Xs;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Xi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Zi)throw new H(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new H(B.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vs(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new H(B.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new H(B.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new H(B.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $s{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ys({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ys(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new W;switch(e.type){case"firstParty":return new Y(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new H(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bs.get(e);t&&(D("ComponentProvider","Removing Datastore"),Bs.delete(e),t.terminate())}(this),Promise.resolve()}}class Js{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class Zs{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zs(this.firestore,e,this._key)}}class el extends Js{constructor(e,t,n){super(e,t,Dn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new ge(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function tl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Hs("collection","path",t),e instanceof $s){const n=fe.fromString(t,...r);return Ks(n),new el(e,null,n)}{if(!(e instanceof Zs||e instanceof el))throw new H(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fe.fromString(t,...r));return Ks(n),new el(e.firestore,null,n)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=te.newId()),Hs("doc","path",t),e instanceof $s){const n=fe.fromString(t,...r);return qs(n),new Zs(e,null,new ge(n))}{if(!(e instanceof Zs||e instanceof el))throw new H(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fe.fromString(t,...r));return qs(n),new Zs(e.firestore,e instanceof el?e.converter:null,new ge(n))}}const rl="AsyncQueue";class il{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $a(this,"async_queue_retry"),this.rc=()=>{const e=Xa();e&&D(rl,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Xa();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Xa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new q;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(u){if(!Ie(u))throw u;D(rl,"Operation failed with retryable error: "+u)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,L("INTERNAL UNHANDLED ERROR: ",al(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=jo.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&U(47125,{cc:al(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function al(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function ol(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class sl extends $s{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new il,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new il(e),this._firestoreClient=void 0,await e}}}function ll(e,t){const n="object"==typeof e?e:(0,a.Sx)(),r="string"==typeof e?e:t||Nt,i=(0,a.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Gs(e,$s);const a=(0,l.zJ)(t),o=e._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(n);a&&((0,l.gE)("https://".concat(c)),(0,l.P1)("Firestore",!0)),o.host!==Qs&&o.host!==c&&M("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:r});if(!(0,l.bD)(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=N.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new H(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new N(a)}e._authCredentials=new G(new K(t,n))}}(i,...e)}return i}function cl(e){if(e._terminated)throw new H(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ul(e),e._firestoreClient}function ul(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new At(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Vs(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ds(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(vt.fromBase64String(e))}catch(e){throw new H(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hl(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new H(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new me(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fl{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}class ml{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const gl=/^__.*__$/;class vl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dr(e,this.data,t,this.fieldTransforms)}}class yl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ic:e})}}class bl{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new bl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ml(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(wl(this.Ic)&&gl.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class _l{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ya(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bl({Ic:e,methodName:t,wc:n,path:me.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function El(e){const t=e._freezeSettings(),n=Ya(e._databaseId);return new _l(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sl(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.bc(a.merge||a.mergeFields?2:0,t,n,i);Pl("Data must be an object, but it was:",o,r);const s=Nl(r,o);let l,c;if(a.merge)l=new mt(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Ol(t,r,n);if(!o.contains(i))throw new H(B.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));jl(e,i)||e.push(i)}l=new mt(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new vl(new tn(s),l,c)}class kl extends fl{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kl}}class Tl extends fl{_toFieldTransform(e){return new kr(e.path,new gr)}isEqual(e){return e instanceof Tl}}function Cl(e,t,n,r){const i=e.bc(1,t,n);Pl("Data must be an object, but it was:",i,r);const a=[],o=tn.empty();lt(r,(e,r)=>{const s=Ll(t,e,n);r=(0,l.Ku)(r);const c=i.mc(s);if(r instanceof kl)a.push(s);else{const e=Al(r,c);null!=e&&(a.push(s),o.set(s,e))}});const s=new mt(a);return new yl(o,s,i.fieldTransforms)}function xl(e,t,n,r,i,a){const o=e.bc(1,t,n),s=[Ol(t,r,n)],c=[i];if(a.length%2!=0)throw new H(B.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<a.length;l+=2)s.push(Ol(t,a[l])),c.push(a[l+1]);const u=[],h=tn.empty();for(let f=s.length-1;f>=0;--f)if(!jl(u,s[f])){const e=s[f];let t=c[f];t=(0,l.Ku)(t);const n=o.mc(e);if(t instanceof kl)u.push(e);else{const r=Al(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new mt(u);return new yl(h,d,o.fieldTransforms)}function Il(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Al(n,e.bc(r?4:3,t))}function Al(e,t){if(Rl(e=(0,l.Ku)(e)))return Pl("Unsupported field value:",t,e),Nl(e,t);if(e instanceof fl)return function(e,t){if(!wl(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Al(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ce.fromDate(e);return{timestampValue:mi(t.serializer,n)}}if(e instanceof ce){const n=new ce(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mi(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hl)return{bytesValue:gi(t.serializer,e._byteString)};if(e instanceof Zs){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:wi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ml)return function(e,t){return{mapValue:{fields:{[Pt]:{stringValue:Lt},[Mt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return cr(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Ws(e)))}(e,t)}function Nl(e,t){const n={};return ct(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lt(e,(e,r)=>{const i=Al(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Rl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ce||e instanceof pl||e instanceof hl||e instanceof Zs||e instanceof fl||e instanceof ml)}function Pl(e,t,n){if(!Rl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ws(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Ol(e,t,n){if((t=(0,l.Ku)(t))instanceof dl)return t._internalPath;if("string"==typeof t)return Ll(e,t);throw Ml("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dl=new RegExp("[~\\*/\\[\\]]");function Ll(e,t,n){if(t.search(Dl)>=0)throw Ml("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dl(...t.split("."))._internalPath}catch(r){throw Ml("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ml(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new H(B.INVALID_ARGUMENT,s+e+l)}function jl(e,t){return e.some(e=>e.isEqual(t))}class Ul{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fl extends Ul{data(){return super.data()}}function zl(e,t){return"string"==typeof t?Ll(e,t):t instanceof dl?t._internalPath:t._delegate._internalPath}function Vl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new H(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bl{}class Hl extends Bl{}function ql(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Bl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Gl).length,n=e.filter(e=>e instanceof Kl).length;if(t>1||t>0&&n>0)throw new H(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Kl extends Hl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kl(e,t,n)}_apply(e){const t=this._parse(e);return Jl(e._query,t),new Js(e.firestore,e.converter,zn(e._query,t))}_parse(e){const t=El(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new H(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$l(o,a);const t=[];for(const n of o)t.push(Yl(r,e,n));s={arrayValue:{values:t}}}else s=Yl(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$l(o,a),s=Il(n,t,o,"in"===a||"not-in"===a);return hn.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wl(e,t,n){const r=t,i=zl("where",e);return Kl._create(i,r,n)}class Gl extends Bl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Jl(n,i),n=zn(n,i)}(e._query,t),new Js(e.firestore,e.converter,zn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ql extends Hl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ql(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new H(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new H(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ln(t,n)}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Pn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zl("orderBy",e);return Ql._create(n,t)}function Yl(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new H(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mn(t)&&-1!==n.indexOf("/"))throw new H(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(fe.fromString(n));if(!ge.isDocumentKey(r))throw new H(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wt(e,new ge(r))}if(n instanceof Zs)return Wt(e,n._key);throw new H(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ws(n),"."))}function $l(e,t){if(!Array.isArray(e)||0===e.length)throw new H(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new H(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new H(B.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_t(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lt(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Mt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>bt(e.doubleValue));return new ml(i)}convertGeoPoint(e){return new pl(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(It(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ce(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fe.fromString(e);z(Vi(n),9688,{name:e});const r=new Rt(n.get(1),n.get(3)),i=new ge(n.popFirst(5));return r.isEqual(t)||L("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ec(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends Ul{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class rc extends nc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ic{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new rc(this._firestore,this._userDataWriter,n.key,n,new tc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new H(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new rc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new rc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:ac(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ac(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:e})}}class oc extends Zl{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,t)}}function sc(e,t,n){e=Gs(e,Zs);const r=Gs(e.firestore,sl),i=ec(e.converter,t,n);return uc(r,[Sl(El(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cr.none())])}function lc(e,t,n){e=Gs(e,Zs);const r=Gs(e.firestore,sl),i=El(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),c=3;c<o;c++)s[c-3]=arguments[c];return a="string"==typeof(t=(0,l.Ku)(t))||t instanceof dl?xl(i,"updateDoc",e._key,t,n,s):Cl(i,"updateDoc",e._key,t),uc(r,[a.toMutation(e._key,Cr.exists(!0))])}function cc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=(0,l.Ku)(e);let s={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||ol(n[c])||(s=n[c],c++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ol(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let h,d,f;if(e instanceof Zs)d=Gs(e.firestore,sl),f=Dn(e._key.path),h={next:t=>{n[c]&&n[c](hc(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Gs(e,Js);d=Gs(t.firestore,sl),f=t._query;const r=new oc(d);h={next:e=>{n[c]&&n[c](new ic(d,r,t,e))},error:n[c+1],complete:n[c+2]},Vl(e._query)}return function(e,t,n,r){const i=new Ps(r),a=new Jo(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ko(await zs(e),a)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>Wo(await zs(e),a))}}(cl(d),f,u,h)}function uc(e,t){return function(e,t){const n=new q;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Is(e);try{const e=await function(e,t){const n=V(e),r=ce.now(),i=t.reduce((e,t)=>e.add(t.key),or());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=$n(),l=or();return n.Bs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=Pr(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new Lr(e.key,t,nn(t.value.mapValue),Cr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:er(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new ut(ne)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await ks(r,e.changes),await ko(r.remoteStore)}catch(e){const t=Uo(e,"Failed to persist write");n.reject(t)}}(await Fs(e),t,n)),n.promise}(cl(e),t)}function hc(e,t,n){const r=n.docs.get(t._key),i=new oc(e);return new nc(e,i,t._key,r,new tc(n.hasPendingWrites,n.fromCache),t.converter)}function dc(){return new Tl("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){R=e}(a.MF),(0,a.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new sl(new Q(e.getProvider("auth-internal")),new J(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new H(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rt(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,a.KO)(I,A,e),(0,a.KO)(I,A,"esm2017")}()},625:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SharedNavBar=void 0;var i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,o,s={__proto__:null,default:e};if(null===e||"object"!=r(e)&&"function"!=typeof e)return s;if(a=t?i:n){if(a.has(e))return a.get(e);a.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?a(s,l,o):s[l]=e[l]);return s}(e,t)}(n(176)),a=n(204),o=n(226),s=n(812),l=["href","shellUrl","children"];function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={"digital-twins":{title:"Digital Twins",items:[{icon:(0,s.jsx)(o.DigitalTwinXIcon,{}),title:"Digital Twin X",desc:"Basic process simulation.",href:"/products/digital-twin-x"},{icon:(0,s.jsx)(o.DigitalTwinAIIcon,{}),title:"Digital Twin AI",desc:"Advanced models with AI.",href:"/products/digital-twin-ai"},{icon:(0,s.jsx)(o.DigitalTwinSuperIcon,{}),title:"Digital Twin Super",desc:"Comprehensive digital twins.",href:"/products/digital-twin-super"}]},"agenty-ai":{title:"AI Agents",items:[{icon:(0,s.jsx)(o.LeanAIAgentIcon,{}),title:"Lean AI Agent",desc:"Agent for data analysis and optimization.",href:"/products/agent-lean-ai"},{icon:(0,s.jsx)(o.LeanAISuperAgentIcon,{}),title:"Lean AI Super Agent",desc:"Full automation with an AI agent.",href:"/products/lean-ai-super-agent"}]},szkolenia:{title:"Training",items:[{icon:(0,s.jsx)(o.BehavioralTrainingIcon,{}),title:"Behavioral Training",desc:"Soft skills development.",href:"/products/szkolenia-behawioralne"},{icon:(0,s.jsx)(o.SkillsTrainingIcon,{}),title:"Skills Training",desc:"Practical technical workshops.",href:"/products/szkolenia-umiejetnosci"}]},wiecej:{title:"More",items:[{icon:(0,s.jsx)(o.PartnersIcon,{}),title:"Partners",desc:"Our trusted collaborators.",href:"/partners"},{icon:(0,s.jsx)(o.AboutUsIcon,{}),title:"About",desc:"Get to know our mission and team.",href:"/about"},{icon:(0,s.jsx)(o.ContactIcon,{}),title:"Contact",desc:"Contact us.",href:"/contact"}]}},m=function(e){var t=e.href,n=e.shellUrl,r=e.children,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,l);return n?(0,s.jsx)("a",d(d({href:"".concat(n).concat(t)},i),{},{children:r})):(0,s.jsx)(a.Link,d(d({to:t},i),{},{children:r}))};t.SharedNavBar=function(e){var t=e.user,n=e.claims,r=e.onLogin,l=e.onLogout,u=e.shellUrl,h=c((0,i.useState)(null),2),d=h[0],f=h[1],g=c((0,i.useState)(!1),2),v=g[0],y=g[1],w=c((0,i.useState)(!1),2),b=w[0],_=w[1],E=(0,a.useNavigate)(),S=(0,i.useRef)(null),k=(0,i.useRef)(null),T=function(){clearTimeout(S.current),clearTimeout(k.current),_(!1)},C=[v?"active":"",b?"is-closing":""].filter(Boolean).join(" "),x=d?p[d]:null;return(0,s.jsxs)("div",{onMouseLeave:function(){S.current=setTimeout(function(){_(!0),k.current=setTimeout(function(){y(!1),f(null),_(!1)},300)},200)},children:[(0,s.jsx)("header",{className:"top-bar",children:(0,s.jsxs)("div",{className:"top-bar-content",children:[(0,s.jsxs)("div",{className:"top-bar-left",children:[(0,s.jsxs)(m,{href:"/",shellUrl:u,className:"platform-logo-topbar hover:opacity-80 transition-opacity",children:["Platforma ",(0,s.jsx)("span",{className:"amc-highlight",children:"AMC"})]}),(0,s.jsx)("nav",{className:"top-nav-links",children:Object.keys(p).map(function(e){return(0,s.jsx)("div",{className:"nav-link-top ".concat(d===e?"active-hover":""),onMouseEnter:function(){return t=e,T(),f(t),void y(!0);var t},children:p[e].title},e)})})]}),(0,s.jsx)("div",{className:"user-status-container",children:t?null!==n&&void 0!==n&&n.admin?(0,s.jsxs)("div",{className:"admin-status-in",children:[(0,s.jsx)(m,{href:"/admin",shellUrl:u,className:"user-avatar-icon",title:"Admin Panel",children:(0,s.jsx)(o.AdminIcon,{})}),(0,s.jsx)("span",{className:"user-greeting",children:"Panel Administratora"}),(0,s.jsxs)("button",{onClick:l,className:"btn-base sign-out-btn",children:[(0,s.jsx)(o.SignOutIcon,{}),(0,s.jsx)("span",{children:"Wyloguj"})]})]}):(0,s.jsxs)("div",{className:"user-status-in",children:[(0,s.jsx)(m,{href:"/account",shellUrl:u,className:"user-avatar-icon",title:"Moje Konto",children:(0,s.jsx)(o.UserIcon,{})}),(0,s.jsxs)("span",{className:"user-greeting",children:["Witaj, ",t.displayName||"U\u017cytkowniku"]}),(0,s.jsxs)("button",{onClick:l,className:"btn-base sign-out-btn",children:[(0,s.jsx)(o.SignOutIcon,{}),(0,s.jsx)("span",{children:"Wyloguj"})]})]}):(0,s.jsx)("div",{className:"user-status-out",children:(0,s.jsxs)("button",{onClick:r,className:"btn-base sign-in-btn",children:[(0,s.jsx)(o.SignInIcon,{}),"Zaloguj si\u0119"]})})})]})}),(0,s.jsx)("div",{id:"mega-menu-panel",className:C,onMouseEnter:T,children:x&&(0,s.jsx)("div",{className:"mega-menu-content",children:(0,s.jsx)("div",{className:"mega-menu-grid",children:x.items.map(function(e,t){return(0,s.jsxs)("div",{onClick:function(){return t=e.href,T(),y(!1),f(null),void(u?window.location.href="".concat(u).concat(t):E(t));var t},className:"mega-menu-item",children:[(0,s.jsx)("div",{className:"item-icon",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"item-title",children:e.title}),(0,s.jsx)("div",{className:"item-desc",children:e.desc})]})]},t)})})})})]})}},627:(e,t,n)=>{var r=n(176),i=n(442);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=k.hasOwnProperty(t)?k[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!m.call(w,e)||!m.call(y,e)&&(v.test(e)?w[e]=!0:(y[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,C);k[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,C);k[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,C);k[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var H=Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}var K,W=Object.assign;function G(e){if(void 0===K)try{throw Error()}catch(g){var t=g.stack.trim().match(/\n( *(at )?)/);K=t&&t[1]||""}return"\n"+K+e}var Q=!1;function X(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&"string"===typeof d.stack){for(var i=d.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function Y(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1);case 11:return e=X(e.type.render,!1);case 1:return e=X(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case R:return"Fragment";case N:return"Portal";case O:return"Profiler";case P:return"StrictMode";case j:return"Suspense";case U:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return $(e(t))}catch(g){}}return null}function J(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function te(e){e._valueTracker||(e._valueTracker=function(e){var t=ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ne(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ee(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function re(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ae(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function oe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function se(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function le(e,t){se(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ue(e,t.type,n):t.hasOwnProperty("defaultValue")&&ue(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ue(e,t,n){"number"===t&&re(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var he=Array.isArray;function de(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(he(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function me(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ge(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var we,be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((we=we||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=we.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ee.hasOwnProperty(e)&&Ee[e]?(""+t).trim():t+"px"}function Te(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ee).forEach(function(e){Se.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ee[t]=Ee[e]})});var Ce=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Re=null,Pe=null,Oe=null;function De(e){if(e=Ii(e)){if("function"!==typeof Re)throw Error(a(280));var t=e.stateNode;t&&(t=Ni(t),Re(e.stateNode,e.type,t))}}function Le(e){Pe?Oe?Oe.push(e):Oe=[e]:Pe=e}function Me(){if(Pe){var e=Pe,t=Oe;if(Oe=Pe=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function je(e,t){return e(t)}function Ue(){}var Fe=!1;function ze(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return je(e,t,n)}finally{Fe=!1,(null!==Pe||null!==Oe)&&(Ue(),Me())}}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=Ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(p)try{var He={};Object.defineProperty(He,"passive",{get:function(){Be=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(f){Be=!1}function qe(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ke=!1,We=null,Ge=!1,Qe=null,Xe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,l){Ke=!1,We=null,qe.apply(Xe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if($e(e)!==e)throw Error(a(188))}function et(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?tt(e):null}function tt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=tt(e);if(null!==t)return t;e=e.sibling}return null}var nt=i.unstable_scheduleCallback,rt=i.unstable_cancelCallback,it=i.unstable_shouldYield,at=i.unstable_requestPaint,ot=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,lt=i.unstable_ImmediatePriority,ct=i.unstable_UserBlockingPriority,ut=i.unstable_NormalPriority,ht=i.unstable_LowPriority,dt=i.unstable_IdlePriority,ft=null,pt=null;var mt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(gt(e)/vt|0)|0},gt=Math.log,vt=Math.LN2;var yt=64,wt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _t(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=bt(s):0!==(a&=o)&&(r=bt(a))}else 0!==(o=n&~i)?r=bt(o):0!==a&&(r=bt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-mt(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kt(){var e=yt;return 0===(4194240&(yt<<=1))&&(yt=64),e}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-mt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function At(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,Rt,Pt,Ot,Dt,Lt=!1,Mt=[],jt=null,Ut=null,Ft=null,zt=new Map,Vt=new Map,Bt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function Kt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&Rt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Wt(e){var t=xi(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void Dt(e.priority,function(){Pt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&Rt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ae=r,n.target.dispatchEvent(r),Ae=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Xt(){Lt=!1,null!==jt&&Gt(jt)&&(jt=null),null!==Ut&&Gt(Ut)&&(Ut=null),null!==Ft&&Gt(Ft)&&(Ft=null),zt.forEach(Qt),Vt.forEach(Qt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xt)))}function $t(e){function t(t){return Yt(t,e)}if(0<Mt.length){Yt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Yt(jt,e),null!==Ut&&Yt(Ut,e),null!==Ft&&Yt(Ft,e),zt.forEach(t),Vt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Wt(n),null===n.blockedOn&&Bt.shift()}var Jt=I.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=It,a=Jt.transition;Jt.transition=null;try{It=1,nn(e,t,n,r)}finally{It=i,Jt.transition=a}}function tn(e,t,n,r){var i=It,a=Jt.transition;Jt.transition=null;try{It=4,nn(e,t,n,r)}finally{It=i,Jt.transition=a}}function nn(e,t,n,r){if(Zt){var i=an(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),qt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Kt(jt,e,t,n,r,i),!0;case"dragenter":return Ut=Kt(Ut,e,t,n,r,i),!0;case"mouseover":return Ft=Kt(Ft,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zt.set(a,Kt(zt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vt.set(a,Kt(Vt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==i;){var a=Ii(i);if(null!==a&&Nt(a),null===(a=an(e,t,n,r))&&Zr(e,t,r,rn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=xi(e=Ne(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function on(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case lt:return 1;case ct:return 4;case ut:case ht:return 16;case dt:return 536870912;default:return 16}default:return 16}}var sn=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in sn?sn.value:sn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn,gn,vn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wn=pn(yn),bn=W({},yn,{view:0,detail:0}),_n=pn(bn),En=W({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vn&&(vn&&"mousemove"===e.type?(mn=e.screenX-vn.screenX,gn=e.screenY-vn.screenY):gn=mn=0,vn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Sn=pn(En),kn=pn(W({},En,{dataTransfer:0})),Tn=pn(W({},bn,{relatedTarget:0})),Cn=pn(W({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=W({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=pn(xn),An=pn(W({},yn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pn[e])&&!!t[e]}function Dn(){return On}var Ln=W({},bn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=pn(Ln),jn=pn(W({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(W({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),Fn=pn(W({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=W({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vn=pn(zn),Bn=[9,13,27,32],Hn=p&&"CompositionEvent"in window,qn=null;p&&"documentMode"in document&&(qn=document.documentMode);var Kn=p&&"TextEvent"in window&&!qn,Wn=p&&(!Hn||qn&&8<qn&&11>=qn),Gn=String.fromCharCode(32),Qn=!1;function Xn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){Le(r),0<(t=ti(t,"onChange")).length&&(n=new wn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(ne(Ai(e)))return e}function ar(e,t){if("change"===e)return t}var or=!1;if(p){var sr;if(p){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}sr=lr}else sr=!1;or=sr&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",hr),nr=tr=null)}function hr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,Ne(e)),ze(rr,t)}}function dr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",hr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function vr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _r(){for(var e=window,t=re();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(b){n=!1}if(!n)break;t=re((e=t.contentWindow).document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sr(e){var t=_r(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&Er(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=wr(n,a);var o=wr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=p&&"documentMode"in document&&11>=document.documentMode,Tr=null,Cr=null,xr=null,Ir=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==Tr||Tr!==re(r)||("selectionStart"in(r=Tr)&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&vr(xr,r)||(xr=r,0<(r=ti(Cr,"onSelect")).length&&(t=new wn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Pr={},Or={};function Dr(e){if(Pr[e])return Pr[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Pr[e]=n[t];return e}p&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Lr=Dr("animationend"),Mr=Dr("animationiteration"),jr=Dr("animationstart"),Ur=Dr("transitionend"),Fr=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){Fr.set(e,t),l(t,[e])}for(var Br=0;Br<zr.length;Br++){var Hr=zr[Br];Vr(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}Vr(Lr,"onAnimationEnd"),Vr(Mr,"onAnimationIteration"),Vr(jr,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var u=We;Ke=!1,We=null,Ge||(Ge=!0,Qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Wr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Wr(i,s,c),a=l}}}if(Ge)throw e=Qe,Ge=!1,Qe=null,e}function Qr(e,t){var n=t[ki];void 0===n&&(n=t[ki]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Xr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Yr]){e[Yr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Kr.has(t)||Xr(t,!1,e),Xr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yr]||(t[Yr]=!0,Xr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(on(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=xi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}ze(function(){var r=a,i=Ne(n),o=[];e:{var s=Fr.get(e);if(void 0!==s){var l=wn,c=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=Tn;break;case"focusout":c="blur",l=Tn;break;case"beforeblur":case"afterblur":l=Tn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Lr:case Mr:case jr:l=Cn;break;case Ur:l=Fn;break;case"scroll":l=_n;break;case"wheel":l=Vn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&u.push(ei(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ae||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[Si])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Sn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:Ai(l),f=null==c?s:Ai(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,xi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=d;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)d=ni(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=ni(u),d=ni(d)}u=null}else u=null;null!==l&&ri(o,s,l,u,!1),null!==c&&null!==h&&ri(o,h,c,u,!0)}if("select"===(l=(s=r?Ai(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=ar;else if(Zn(s))if(or)g=mr;else{g=fr;var v=dr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=pr);switch(g&&(g=g(e,r))?er(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ue(s,"number",s.value)),v=r?Ai(r):window,e){case"focusin":(Zn(v)||"true"===v.contentEditable)&&(Tr=v,Cr=r,xr=null);break;case"focusout":xr=Cr=Tr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Ar(o,n,i);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Ar(o,n,i)}var y;if(Hn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?Xn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Wn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(y=un()):(ln="value"in(sn=i)?sn.value:sn.textContent,$n=!0)),0<(v=ti(r,w)).length&&(w=new An(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Yn(n))&&(w.data=y))),(y=Kn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Hn&&Xn(e,t)?(e=un(),cn=ln=sn=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new An("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Gr(o,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(ei(e,a,i)),null!=(a=Ve(e,t))&&r.push(ei(e,a,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ve(n,a))&&o.unshift(ei(n,l,s)):i||null!=(l=Ve(n,a))&&o.push(ei(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ii=/\r\n?/g,ai=/\u0000|\uFFFD/g;function oi(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(ai,"")}function si(e,t,n){if(t=oi(t),oi(e)!==t&&n)throw Error(a(425))}function li(){}var ci=null,ui=null;function hi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var di="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:di;function gi(e){setTimeout(function(){throw e})}function vi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function wi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),_i="__reactFiber$"+bi,Ei="__reactProps$"+bi,Si="__reactContainer$"+bi,ki="__reactEvents$"+bi,Ti="__reactListeners$"+bi,Ci="__reactHandles$"+bi;function xi(e){var t=e[_i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Si]||n[_i]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wi(e);null!==e;){if(n=e[_i])return n;e=wi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[_i]||e[Si])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ai(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ni(e){return e[Ei]||null}var Ri=[],Pi=-1;function Oi(e){return{current:e}}function Di(e){0>Pi||(e.current=Ri[Pi],Ri[Pi]=null,Pi--)}function Li(e,t){Pi++,Ri[Pi]=e.current,e.current=t}var Mi={},ji=Oi(Mi),Ui=Oi(!1),Fi=Mi;function zi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Di(Ui),Di(ji)}function Hi(e,t,n){if(ji.current!==Mi)throw Error(a(168));Li(ji,t),Li(Ui,n)}function qi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,J(e)||"Unknown",i));return W({},n,r)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Fi=ji.current,Li(ji,e),Li(Ui,Ui.current),!0}function Wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=qi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Di(Ui),Di(ji),Li(ji,e)):Di(Ui),Li(Ui,n)}var Gi=null,Qi=!1,Xi=!1;function Yi(e){null===Gi?Gi=[e]:Gi.push(e)}function $i(){if(!Xi&&null!==Gi){Xi=!0;var e=0,t=It;try{var n=Gi;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(u){throw null!==Gi&&(Gi=Gi.slice(e+1)),nt(lt,$i),u}finally{It=t,Xi=!1}}return null}var Ji=[],Zi=0,ea=null,ta=0,na=[],ra=0,ia=null,aa=1,oa="";function sa(e,t){Ji[Zi++]=ta,Ji[Zi++]=ea,ea=e,ta=t}function la(e,t,n){na[ra++]=aa,na[ra++]=oa,na[ra++]=ia,ia=e;var r=aa;e=oa;var i=32-mt(r)-1;r&=~(1<<i),n+=1;var a=32-mt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,aa=1<<32-mt(t)+i|n<<i|r,oa=a+e}else aa=1<<a|n<<i|r,oa=e}function ca(e){null!==e.return&&(sa(e,1),la(e,1,0))}function ua(e){for(;e===ea;)ea=Ji[--Zi],Ji[Zi]=null,ta=Ji[--Zi],Ji[Zi]=null;for(;e===ia;)ia=na[--ra],na[ra]=null,oa=na[--ra],na[ra]=null,aa=na[--ra],na[ra]=null}var ha=null,da=null,fa=!1,pa=null;function ma(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ha=e,da=yi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ha=e,da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ia?{id:aa,overflow:oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ha=e,da=null,!0);default:return!1}}function va(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ya(e){if(fa){var t=da;if(t){var n=t;if(!ga(e,t)){if(va(e))throw Error(a(418));t=yi(n.nextSibling);var r=ha;t&&ga(e,t)?ma(r,n):(e.flags=-4097&e.flags|2,fa=!1,ha=e)}}else{if(va(e))throw Error(a(418));e.flags=-4097&e.flags|2,fa=!1,ha=e}}}function wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ha=e}function ba(e){if(e!==ha)return!1;if(!fa)return wa(e),fa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hi(e.type,e.memoizedProps)),t&&(t=da)){if(va(e))throw _a(),Error(a(418));for(;t;)ma(e,t),t=yi(t.nextSibling)}if(wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){da=yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}da=null}}else da=ha?yi(e.stateNode.nextSibling):null;return!0}function _a(){for(var e=da;e;)e=yi(e.nextSibling)}function Ea(){da=ha=null,fa=!1}function Sa(e){null===pa?pa=[e]:pa.push(e)}var ka=I.ReactCurrentBatchConfig;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function Ia(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===R?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===z&&xa(a)===t.type)?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=qc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case N:return(t=Gc(t,e.mode,n)).return=e,t;case z:return d(e,(0,t._init)(t._payload),n)}if(he(t)||q(t))return(t=qc(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case N:return n.key===i?u(e,t,n,r):null;case z:return f(e,t,(i=n._init)(n._payload),r)}if(he(n)||q(n))return null!==i?null:h(e,t,n,r,null);Ca(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case z:return p(e,t,n,(0,r._init)(r._payload),i)}if(he(r)||q(r))return h(t,e=e.get(n)||null,r,i,null);Ca(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,s[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===s.length)return n(i,h),fa&&sa(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return fa&&sa(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),fa&&sa(i,m),c}function g(i,s,l,c){var u=q(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),s=o(w,s,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),fa&&sa(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return fa&&sa(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(i,e)}),fa&&sa(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===R&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case A:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===R){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===z&&xa(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=Ta(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===R?((a=qc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Hc(o.type,o.key,o.props,null,r.mode,l)).ref=Ta(r,a,o),l.return=r,r=l)}return s(r);case N:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Gc(o,r.mode,l)).return=r,r=a}return s(r);case z:return e(r,a,(u=o._init)(o._payload),l)}if(he(o))return m(r,a,o,l);if(q(o))return g(r,a,o,l);Ca(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Wc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Aa=Ia(!0),Na=Ia(!1),Ra=Oi(null),Pa=null,Oa=null,Da=null;function La(){Da=Oa=Pa=null}function Ma(e){var t=Ra.current;Di(Ra),e._currentValue=t}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ua(e,t){Pa=e,Da=Oa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(Da!==e)if(e={context:e,memoizedValue:t,next:null},null===Oa){if(null===Pa)throw Error(a(308));Oa=e,Pa.dependencies={lanes:0,firstContext:e}}else Oa=Oa.next=e;return t}var za=null;function Va(e){null===za?za=[e]:za.push(e)}function Ba(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Va(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ha(e,r)}function Ha(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qa=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ga(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ha(e,n)}return null===(i=r.interleaved)?(t.next=t,Va(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ha(e,n)}function Xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Ya(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var i=e.updateQueue;qa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=W({},h,d);break e;case 2:qa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Kl|=o,e.lanes=o,e.memoizedState=h}}function Ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Za={},eo=Oi(Za),to=Oi(Za),no=Oi(Za);function ro(e){if(e===Za)throw Error(a(174));return e}function io(e,t){switch(Li(no,t),Li(to,e),Li(eo,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ye(null,"");break;default:t=ye(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Di(eo),Li(eo,t)}function ao(){Di(eo),Di(to),Di(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=ye(t,e.type);t!==n&&(Li(to,e),Li(eo,n))}function so(e){to.current===e&&(Di(eo),Di(to))}var lo=Oi(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function ho(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=I.ReactCurrentDispatcher,po=I.ReactCurrentBatchConfig,mo=0,go=null,vo=null,yo=null,wo=!1,bo=!1,_o=0,Eo=0;function So(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(mo=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ls:cs,e=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(a(301));o+=1,yo=vo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=ss,t=null!==vo&&null!==vo.next,mo=0,yo=vo=go=null,wo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==_o;return _o=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===vo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var h=u.lane;if((mo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,go.lanes|=h,Kl|=h}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,gr(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Kl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);gr(o,t.memoizedState)||(Is=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=go,r=Io(),i=t(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,Is=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(a(349));0!==(30&mo)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Uo(e)}function Mo(e,t,n){return n(function(){jo(t)&&Uo(e)})}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch(b){return!0}}function Uo(e){var t=Ha(e,1);null!==t&&hc(t,e,1,-1)}function Fo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,go,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function Bo(e,t,n,r){var i=xo();go.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}go.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return Ho(2048,8,e,t)}function Wo(e,t){return Ho(4,2,e,t)}function Go(e,t){return Ho(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Qo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&mo)?(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n):(gr(n,t)||(n=kt(),go.lanes|=n,Kl|=n,e.baseState=!0),t)}function es(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{It=n,po.transition=r}}function ts(){return Io().memoizedState}function ns(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))as(t,n);else if(null!==(n=Ba(e,t,n,r))){hc(n,e,r,cc()),os(n,t,r)}}function rs(e,t,n){var r=uc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))as(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Va(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(d){}null!==(n=Ba(e,t,i,r))&&(hc(n,e,r,i=cc()),os(n,t,r))}}function is(e){var t=e.alternate;return e===go||null!==t&&t===go}function as(e,t){bo=wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var ss={readContext:Fa,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ls={readContext:Fa,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=es.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=xo();if(fa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ul)throw Error(a(349));0!==(30&mo)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ul.identifierPrefix;if(fa){var n=oa;t=":"+t+"R"+(n=(aa&~(1<<32-mt(aa)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Eo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Fa,useCallback:$o,useContext:Fa,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),vo.memoizedState,e)},useTransition:function(){return[No(Ao)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1},us={readContext:Fa,useCallback:$o,useContext:Fa,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===vo?t.memoizedState=e:Zo(t,vo.memoizedState,e)},useTransition:function(){return[Ro(Ao)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ts,unstable_isNewReconciler:!1};function hs(e,t){if(e&&e.defaultProps){for(var n in t=W({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:W({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),a=Ga(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Qa(e,a,i))&&(hc(t,e,i,r),Xa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),i=uc(e),a=Ga(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Qa(e,a,i))&&(hc(t,e,i,r),Xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),i=Ga(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qa(e,i,r))&&(hc(t,e,r,n),Xa(t,e,r))}};function ps(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!vr(n,r)||!vr(i,a))}function ms(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Fa(a):(i=Vi(t)?Fi:ji.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?zi(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function vs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ka(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Fa(a):(a=Vi(t)?Fi:ji.current,i.context=zi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ds(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fs.enqueueReplaceState(i,i.state,null),$a(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ys(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(_){i="\nError generating stack: "+_.message+"\n"+_.stack}return{value:e,source:t,stack:i,digest:null}}function ws(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function bs(e,t){try{console.error(t.value)}catch(g){setTimeout(function(){throw g})}}var _s="function"===typeof WeakMap?WeakMap:Map;function Es(e,t,n){(n=Ga(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),bs(0,t)},n}function Ss(e,t,n){(n=Ga(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){bs(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ks(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _s;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function Ts(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Cs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ga(-1,1)).tag=2,Qa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=I.ReactCurrentOwner,Is=!1;function As(e,t,n,r){t.child=null===e?Na(t,null,n,r):Aa(t,e.child,n,r)}function Ns(e,t,n,r,i){n=n.render;var a=t.ref;return Ua(t,i),r=To(e,t,n,r,a,i),n=Co(),null===e||Is?(fa&&n&&ca(t),t.flags|=1,As(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Rs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Vc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ps(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:vr)(o,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Bc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(vr(a,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Zs(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Ls(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(Bl,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Li(Bl,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Li(Bl,Vl),Vl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Li(Bl,Vl),Vl|=r;return As(e,t,i,n),t.child}function Ds(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ls(e,t,n,r,i){var a=Vi(n)?Fi:ji.current;return a=zi(t,a),Ua(t,i),n=To(e,t,n,r,a,i),r=Co(),null===e||Is?(fa&&r&&ca(t),t.flags|=1,As(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Ms(e,t,n,r,i){if(Vi(n)){var a=!0;Ki(t)}else a=!1;if(Ua(t,i),null===t.stateNode)Js(e,t),ms(t,n,r),vs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fa(c):c=zi(t,c=Vi(n)?Fi:ji.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&gs(t,o,r,c),qa=!1;var d=t.memoizedState;o.state=d,$a(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Ui.current||qa?("function"===typeof u&&(ds(t,n,u,r),l=t.memoizedState),(s=qa||ps(t,n,s,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Wa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:hs(t.type,s),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fa(l):l=zi(t,l=Vi(n)?Fi:ji.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&gs(t,o,r,l),qa=!1,d=t.memoizedState,o.state=d,$a(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||Ui.current||qa?("function"===typeof f&&(ds(t,n,f,r),p=t.memoizedState),(c=qa||ps(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,a,i)}function js(e,t,n,r,i,a){Ds(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Wi(t,n,!1),Zs(e,t,a);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,s,a)):As(e,t,s,a),t.memoizedState=r.state,i&&Wi(t,n,!0),t.child}function Us(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),io(e,t.containerInfo)}function Fs(e,t,n,r,i){return Ea(),Sa(i),t.flags|=256,As(e,t,n,r),t.child}var zs,Vs,Bs,Hs,qs={dehydrated:null,treeContext:null,retryLane:0};function Ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ws(e,t,n){var r,i=t.pendingProps,o=lo.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Li(lo,1&o),null===e)return ya(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Kc(l,i,0,null),e=qc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ks(n),t.memoizedState=qs,e):Gs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Qs(e,t,s,r=ws(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Kc({mode:"visible",children:r.children},i,0,null),(o=qc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Aa(t,e.child,null,s),t.child.memoizedState=Ks(s),t.memoizedState=qs,o);if(0===(1&t.mode))return Qs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Qs(e,t,s,r=ws(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),Is||l){if(null!==(r=Ul)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ha(e,i),hc(r,e,i,-1))}return kc(),Qs(e,t,s,r=ws(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,da=yi(i.nextSibling),ha=t,fa=!0,pa=null,null!==e&&(na[ra++]=aa,na[ra++]=oa,na[ra++]=ia,aa=e.id,oa=e.overflow,ia=t),t=Gs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Bc(r,s):(s=qc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ks(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=qs,i}return e=(s=e.child).sibling,i=Bc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Gs(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qs(e,t,n,r){return null!==r&&Sa(r),Aa(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Ys(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $s(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(As(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xs(e,n,t);else if(19===e.tag)Xs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Li(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ys(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ys(t,!0,n,null,a);break;case"together":Ys(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(ua(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Vi(t.type)&&Bi(),tl(t),null;case 3:return r=t.stateNode,ao(),Di(Ui),Di(ji),ho(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ba(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==pa&&(mc(pa),pa=null))),Vs(e,t),tl(t),null;case 5:so(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return tl(t),null}if(e=ro(eo.current),ba(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[_i]=t,r[Ei]=o,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)Qr(qr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":oe(r,o),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qr("invalid",r);break;case"textarea":pe(r,o),Qr("invalid",r)}for(var l in xe(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&si(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&si(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":te(r),ce(r,o,!0);break;case"textarea":te(r),ge(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ve(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[_i]=t,e[Ei]=r,zs(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ie(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)Qr(qr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":oe(e,r),i=ae(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=W({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":pe(e,r),i=fe(e,r),Qr("invalid",e)}for(o in xe(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?Te(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&be(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&_e(e,u):"number"===typeof u&&_e(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Qr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":te(e),ce(e,r,!1);break;case"textarea":te(e),ge(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?de(e,!!r.multiple,o,!1):null!=r.defaultValue&&de(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Hs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ro(no.current),ro(eo.current),ba(t)){if(r=t.stateNode,n=t.memoizedProps,r[_i]=t,(o=r.nodeValue!==n)&&null!==(e=ha))switch(e.tag){case 3:si(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&si(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_i]=t,t.stateNode=r}return tl(t),null;case 13:if(Di(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fa&&null!==da&&0!==(1&t.mode)&&0===(128&t.flags))_a(),Ea(),t.flags|=98560,o=!1;else if(o=ba(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[_i]=t}else Ea(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),o=!1}else null!==pa&&(mc(pa),pa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Hl&&(Hl=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return ao(),Vs(e,t),null===e&&$r(t.stateNode.containerInfo),tl(t),null;case 10:return Ma(t.type._context),tl(t),null;case 19:if(Di(lo),null===(o=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)el(o,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=co(e))){for(t.flags|=128,el(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Li(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&ot()>$l&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!fa)return tl(t),null}else 2*ot()-o.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ot(),t.sibling=null,n=lo.current,Li(lo,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return bc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function rl(e,t){switch(ua(t),t.tag){case 1:return Vi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Di(Ui),Di(ji),ho(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Di(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ea()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Di(lo),null;case 4:return ao(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vs=function(){},Bs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=ae(e,i),r=ae(e,r),o=[];break;case"select":i=W({},i,{value:void 0}),r=W({},r,{value:void 0}),o=[];break;case"textarea":i=fe(e,i),r=fe(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in xe(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var il=!1,al=!1,ol="function"===typeof WeakSet?WeakSet:Set,sl=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(b){Oc(e,t,b)}else n.current=null}function cl(e,t,n){try{n()}catch(b){Oc(e,t,b)}}var ul=!1;function hl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&cl(t,n,a)}i=i.next}while(i!==r)}}function dl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[_i],delete t[Ei],delete t[ki],delete t[Ti],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var wl=null,bl=!1;function _l(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(pt&&"function"===typeof pt.onCommitFiberUnmount)try{pt.onCommitFiberUnmount(ft,n)}catch(S){}switch(n.tag){case 5:al||ll(n,t);case 6:var r=wl,i=bl;wl=null,_l(e,t,n),bl=i,null!==(wl=r)&&(bl?(e=wl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(bl?(e=wl,n=n.stateNode,8===e.nodeType?vi(e.parentNode,n):1===e.nodeType&&vi(e,n),$t(e)):vi(wl,n.stateNode));break;case 4:r=wl,i=bl,wl=n.stateNode.containerInfo,bl=!0,_l(e,t,n),wl=r,bl=i;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&cl(n,t,o),i=i.next}while(i!==r)}_l(e,t,n);break;case 1:if(!al&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(S){Oc(n,t,S)}_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,_l(e,t,n),al=r):_l(e,t,n);break;default:_l(e,t,n)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,bl=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,bl=!0;break e}l=l.return}if(null===wl)throw Error(a(160));El(o,s,i),wl=null,bl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Oc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}function Tl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&r){try{hl(3,e,e.return),dl(3,e)}catch(h){Oc(e,e.return,h)}try{hl(5,e,e.return)}catch(h){Oc(e,e.return,h)}}break;case 1:kl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(kl(t,e),Cl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var i=e.stateNode;try{_e(i,"")}catch(h){Oc(e,e.return,h)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&se(i,o),Ie(l,s);var u=Ie(l,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?Te(i,f):"dangerouslySetInnerHTML"===d?be(i,f):"children"===d?_e(i,f):x(i,d,f,u)}switch(l){case"input":le(i,o);break;case"textarea":me(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?de(i,!!o.multiple,m,!1):p!==!!o.multiple&&(null!=o.defaultValue?de(i,!!o.multiple,o.defaultValue,!0):de(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ei]=o}catch(h){Oc(e,e.return,h)}}break;case 6:if(kl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(h){Oc(e,e.return,h)}}break;case 3:if(kl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(h){Oc(e,e.return,h)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Yl=ot())),4&r&&Sl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(al=(u=al)||d,kl(t,e),al=u):kl(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(sl=e,d=e.child;null!==d;){for(f=sl=d;null!==sl;){switch(m=(p=sl).child,p.tag){case 0:case 11:case 14:case 15:hl(4,p,p.return);break;case 1:ll(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(h){Oc(r,n,h)}}break;case 5:ll(p,p.return);break;case 22:if(null!==p.memoizedState){Nl(f);continue}}null!==m?(m.return=p,sl=m):Nl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ke("display",s))}catch(h){Oc(e,e.return,h)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){Oc(e,e.return,h)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kl(t,e),Cl(e),4&r&&Sl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(_e(i,""),r.flags&=-33),yl(e,gl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;vl(e,gl(e),o);break;default:throw Error(a(161))}}catch(ie){Oc(e,e.return,ie)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){sl=e,Il(e,t,n)}function Il(e,t,n){for(var r=0!==(1&e.mode);null!==sl;){var i=sl,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||il;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||al;s=il;var c=al;if(il=o,(al=l)&&!c)for(sl=i;null!==sl;)l=(o=sl).child,22===o.tag&&null!==o.memoizedState?Rl(i):null!==l?(l.return=o,sl=l):Rl(i);for(;null!==a;)sl=a,Il(a,t,n),a=a.sibling;sl=i,il=s,al=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,sl=a):Al(e)}}function Al(e){for(;null!==sl;){var t=sl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||dl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:hs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ja(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$t(d)}}}break;default:throw Error(a(163))}al||512&t.flags&&fl(t)}catch(f){Oc(t,t.return,f)}}if(t===e){sl=null;break}if(null!==(n=t.sibling)){n.return=t.return,sl=n;break}sl=t.return}}function Nl(e){for(;null!==sl;){var t=sl;if(t===e){sl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sl=n;break}sl=t.return}}function Rl(e){for(;null!==sl;){var t=sl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(ie){Oc(t,n,ie)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(ie){Oc(t,i,ie)}}var a=t.return;try{fl(t)}catch(ie){Oc(t,a,ie)}break;case 5:var o=t.return;try{fl(t)}catch(ie){Oc(t,o,ie)}}}catch(ie){Oc(t,t.return,ie)}if(t===e){sl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,sl=s;break}sl=t.return}}var Pl,Ol=Math.ceil,Dl=I.ReactCurrentDispatcher,Ll=I.ReactCurrentOwner,Ml=I.ReactCurrentBatchConfig,jl=0,Ul=null,Fl=null,zl=0,Vl=0,Bl=Oi(0),Hl=0,ql=null,Kl=0,Wl=0,Gl=0,Ql=null,Xl=null,Yl=0,$l=1/0,Jl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,ic=0,ac=0,oc=null,sc=-1,lc=0;function cc(){return 0!==(6&jl)?ot():-1!==sc?sc:sc=ot()}function uc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==zl?zl&-zl:null!==ka.transition?(0===lc&&(lc=kt()),lc):0!==(e=It)?e:e=void 0===(e=window.event)?16:on(e.type)}function hc(e,t,n,r){if(50<ac)throw ac=0,oc=null,Error(a(185));Ct(e,n,r),0!==(2&jl)&&e===Ul||(e===Ul&&(0===(2&jl)&&(Wl|=n),4===Hl&&gc(e,zl)),dc(e,r),1===n&&0===jl&&0===(1&t.mode)&&($l=ot()+500,Qi&&$i()))}function dc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-mt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Et(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=_t(e,e===Ul?zl:0);if(0===r)null!==n&&rt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&rt(n),1===t)0===e.tag?function(e){Qi=!0,Yi(e)}(vc.bind(null,e)):Yi(vc.bind(null,e)),mi(function(){0===(6&jl)&&$i()}),n=null;else{switch(At(r)){case 1:n=lt;break;case 4:n=ct;break;case 16:default:n=ut;break;case 536870912:n=dt}n=Uc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(sc=-1,lc=0,0!==(6&jl))throw Error(a(327));var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var r=_t(e,e===Ul?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Tc(e,r);else{t=r;var i=jl;jl|=2;var o=Sc();for(Ul===e&&zl===t||(Jl=null,$l=ot()+500,_c(e,t));;)try{xc();break}catch(S){Ec(e,S)}La(),Dl.current=o,jl=i,null!==Fl?t=0:(Ul=null,zl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(i=St(e))&&(r=i,t=pc(e,i))),1===t)throw n=ql,_c(e,0),gc(e,r),dc(e,ot()),n;if(6===t)gc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!gr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Tc(e,r))&&(0!==(o=St(e))&&(r=o,t=pc(e,o))),1===t))throw n=ql,_c(e,0),gc(e,r),dc(e,ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Nc(e,Xl,Jl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Yl+500-ot())){if(0!==_t(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=di(Nc.bind(null,e,Xl,Jl),t);break}Nc(e,Xl,Jl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-mt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=ot()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=di(Nc.bind(null,e,Xl,Jl),r);break}Nc(e,Xl,Jl);break;default:throw Error(a(329))}}}return dc(e,ot()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(_c(e,t).flags|=256),2!==(e=Tc(e,t))&&(t=Xl,Xl=n,null!==t&&mc(t)),e}function mc(e){null===Xl?Xl=e:Xl.push.apply(Xl,e)}function gc(e,t){for(t&=~Gl,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&jl))throw Error(a(327));Rc();var t=_t(e,0);if(0===(1&t))return dc(e,ot()),null;var n=Tc(e,t);if(0!==e.tag&&2===n){var r=St(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=ql,_c(e,0),gc(e,t),dc(e,ot()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Xl,Jl),dc(e,ot()),null}function yc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&($l=ot()+500,Qi&&$i())}}function wc(e){null!==rc&&0===rc.tag&&0===(6&jl)&&Rc();var t=jl;jl|=1;var n=Ml.transition,r=It;try{if(Ml.transition=null,It=1,e)return e()}finally{It=r,Ml.transition=n,0===(6&(jl=t))&&$i()}}function bc(){Vl=Bl.current,Di(Bl)}function _c(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ua(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:ao(),Di(Ui),Di(ji),ho();break;case 5:so(r);break;case 4:ao();break;case 13:case 19:Di(lo);break;case 10:Ma(r.type._context);break;case 22:case 23:bc()}n=n.return}if(Ul=e,Fl=e=Bc(e.current,null),zl=Vl=t,Hl=0,ql=null,Gl=Wl=Kl=0,Xl=Ql=null,null!==za){for(t=0;t<za.length;t++)if(null!==(r=(n=za[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}za=null}return e}function Ec(e,t){for(;;){var n=Fl;try{if(La(),fo.current=ss,wo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}wo=!1}if(mo=0,yo=vo=go=null,bo=!1,_o=0,Ll.current=null,null===n||null===n.return){Hl=1,ql=t,Fl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ts(s);if(null!==p){p.flags&=-257,Cs(p,s,l,0,t),1&p.mode&&ks(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ks(o,u,t),kc();break e}c=Error(a(426))}else if(fa&&1&l.mode){var v=Ts(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Cs(v,s,l,0,t),Sa(ys(c,l));break e}}o=c=ys(c,l),4!==Hl&&(Hl=2),null===Ql?Ql=[o]:Ql.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ya(o,Es(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===tc||!tc.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ya(o,Ss(o,l,t));break e}}o=o.return}while(null!==o)}Ac(n)}catch(b){t=b,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Sc(){var e=Dl.current;return Dl.current=ss,null===e?ss:e}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Ul||0===(268435455&Kl)&&0===(268435455&Wl)||gc(Ul,zl)}function Tc(e,t){var n=jl;jl|=2;var r=Sc();for(Ul===e&&zl===t||(Jl=null,_c(e,t));;)try{Cc();break}catch(u){Ec(e,u)}if(La(),jl=n,Dl.current=r,null!==Fl)throw Error(a(261));return Ul=null,zl=0,Hl}function Cc(){for(;null!==Fl;)Ic(Fl)}function xc(){for(;null!==Fl&&!it();)Ic(Fl)}function Ic(e){var t=Pl(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Fl=t,Ll.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Vl)))return void(Fl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Hl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Nc(e,t,n){var r=It,i=Ml.transition;try{Ml.transition=null,It=1,function(e,t,n,r){do{Rc()}while(null!==rc);if(0!==(6&jl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ul&&(Fl=Ul=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Uc(ut,function(){return Rc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var s=It;It=1;var l=jl;jl|=4,Ll.current=null,function(e,t){if(ci=Zt,Er(e=_r())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(B){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,sl=t;null!==sl;)if(e=(t=sl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,sl=e;else for(;null!==sl;){t=sl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:hs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(B){Oc(t,t.return,B)}if(null!==(e=t.sibling)){e.return=t.return,sl=e;break}sl=t.return}m=ul,ul=!1}(e,n),Tl(n,e),Sr(ui),Zt=!!ci,ui=ci=null,e.current=n,xl(n,e,i),at(),jl=l,It=s,Ml.transition=o}else e.current=n;if(nc&&(nc=!1,rc=e,ic=i),o=e.pendingLanes,0===o&&(tc=null),function(e){if(pt&&"function"===typeof pt.onCommitFiberRoot)try{pt.onCommitFiberRoot(ft,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),dc(e,ot()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&ic)&&0!==e.tag&&Rc(),o=e.pendingLanes,0!==(1&o)?e===oc?ac++:(ac=0,oc=e):ac=0,$i()}(e,t,n,r)}finally{Ml.transition=i,It=r}return null}function Rc(){if(null!==rc){var e=At(ic),t=Ml.transition,n=It;try{if(Ml.transition=null,It=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ic=0,0!==(6&jl))throw Error(a(331));var i=jl;for(jl|=4,sl=e.current;null!==sl;){var o=sl,s=o.child;if(0!==(16&sl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(sl=u;null!==sl;){var h=sl;switch(h.tag){case 0:case 11:case 15:hl(8,h,o)}var d=h.child;if(null!==d)d.return=h,sl=d;else for(;null!==sl;){var f=(h=sl).sibling,p=h.return;if(pl(h),h===u){sl=null;break}if(null!==f){f.return=p,sl=f;break}sl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}sl=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,sl=s;else e:for(;null!==sl;){if(0!==(2048&(o=sl).flags))switch(o.tag){case 0:case 11:case 15:hl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,sl=y;break e}sl=o.return}}var w=e.current;for(sl=w;null!==sl;){var b=(s=sl).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,sl=b;else e:for(s=w;null!==sl;){if(0!==(2048&(l=sl).flags))try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(E){Oc(l,l.return,E)}if(l===s){sl=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,sl=_;break e}sl=l.return}}if(jl=i,$i(),pt&&"function"===typeof pt.onPostCommitFiberRoot)try{pt.onPostCommitFiberRoot(ft,e)}catch(E){}r=!0}return r}finally{It=n,Ml.transition=t}}return!1}function Pc(e,t,n){e=Qa(e,t=Es(0,t=ys(n,t),1),1),t=cc(),null!==e&&(Ct(e,1,t),dc(e,t))}function Oc(e,t,n){if(3===e.tag)Pc(e,e,n);else for(;null!==t;){if(3===t.tag){Pc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Qa(t,e=Ss(t,e=ys(n,e),1),1),e=cc(),null!==t&&(Ct(t,1,e),dc(t,e));break}}t=t.return}}function Dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(zl&n)===n&&(4===Hl||3===Hl&&(130023424&zl)===zl&&500>ot()-Yl?_c(e,0):Gl|=n),dc(e,t)}function Lc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=wt,0===(130023424&(wt<<=1))&&(wt=4194304)));var n=cc();null!==(e=Ha(e,t))&&(Ct(e,t,n),dc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Lc(e,n)}function Uc(e,t){return nt(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Fc(e,t,n,r)}function Vc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Vc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case R:return qc(n.children,i,o,t);case P:s=8,i|=8;break;case O:return(e=zc(12,n,t,2|i)).elementType=O,e.lanes=o,e;case j:return(e=zc(13,n,t,i)).elementType=j,e.lanes=o,e;case U:return(e=zc(19,n,t,i)).elementType=U,e.lanes=o,e;case V:return Kc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case D:s=10;break e;case L:s=9;break e;case M:s=11;break e;case F:s=14;break e;case z:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function Wc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xc(e,t,n,r,i,a,o,s,l){return e=new Qc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=zc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(a),e}function Yc(e){if(!e)return Mi;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Vi(n))return qi(e,n,t)}return t}function $c(e,t,n,r,i,a,o,s,l){return(e=Xc(n,r,!0,e,0,a,0,s,l)).context=Yc(null),n=e.current,(a=Ga(r=cc(),i=uc(n))).callback=void 0!==t&&null!==t?t:null,Qa(n,a,i),e.current.lanes=i,Ct(e,i,r),dc(e,r),e}function Jc(e,t,n,r){var i=t.current,a=cc(),o=uc(i);return n=Yc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ga(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qa(i,t,o))&&(hc(e,i,o,a),Xa(e,i,o)),o}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Pl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Is=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Us(t),Ea();break;case 5:oo(t);break;case 1:Vi(t.type)&&Ki(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Li(Ra,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Li(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ws(e,t,n):(Li(lo,1&lo.current),null!==(e=Zs(e,t,n))?e.sibling:null);Li(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $s(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Li(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n)}return Zs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,fa&&0!==(1048576&t.flags)&&la(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var i=zi(t,ji.current);Ua(t,n),i=To(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vi(r)?(o=!0,Ki(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ka(t),i.updater=fs,t.stateNode=i,i._reactInternals=t,vs(t,r,e,n),t=js(null,t,r,!0,o,n)):(t.tag=0,fa&&o&&ca(t),As(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===F)return 14}return 2}(r),e=hs(r,e),i){case 0:t=Ls(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=Ns(null,t,r,e,n);break e;case 14:t=Rs(null,t,r,hs(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 3:e:{if(Us(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Wa(e,t),$a(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n,i=ys(Error(a(423)),t));break e}if(r!==i){t=Fs(e,t,r,n,i=ys(Error(a(424)),t));break e}for(da=yi(t.stateNode.containerInfo.firstChild),ha=t,fa=!0,pa=null,n=Na(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ea(),r===i){t=Zs(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ya(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,hi(r,i)?s=null:null!==o&&hi(r,o)&&(t.flags|=32),Ds(e,t),As(e,t,s,n),t.child;case 6:return null===e&&ya(t),null;case 13:return Ws(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Aa(t,null,r,n):As(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Li(Ra,r._currentValue),r._currentValue=s,null!==o)if(gr(o.value,s)){if(o.children===i.children&&!Ui.current){t=Zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ga(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ja(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ja(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}As(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ua(t,n),r=r(i=Fa(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return i=hs(r=t.type,t.pendingProps),Rs(e,t,r,i=hs(r.type,i),n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hs(r,i),Js(e,t),t.tag=1,Vi(r)?(e=!0,Ki(t)):e=!1,Ua(t,n),ms(t,r,i),vs(t,r,i,n),js(null,t,r,!0,e,n);case 19:return $s(e,t,n);case 22:return Os(e,t,n)}throw Error(a(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function iu(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(){}function lu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Zc(o);s.call(e)}}Jc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Zc(o);a.call(e)}}var o=$c(t,r,e,0,null,!1,0,"",su);return e._reactRootContainer=o,e[Si]=o.current,$r(8===e.nodeType?e.parentNode:e),wc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Zc(l);s.call(e)}}var l=Xc(e,0,!1,null,0,!1,0,"",su);return e._reactRootContainer=l,e[Si]=l.current,$r(8===e.nodeType?e.parentNode:e),wc(function(){Jc(t,l,n,r)}),l}(n,t,e,i,r);return Zc(o)}iu.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jc(e,t,null,null)},iu.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc(function(){Jc(null,e,null,null)}),t[Si]=null}},iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Wt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bt(t.pendingLanes);0!==n&&(xt(t,1|n),dc(t,ot()),0===(6&jl)&&($l=ot()+500,$i()))}break;case 13:wc(function(){var t=Ha(e,1);if(null!==t){var n=cc();hc(t,e,1,n)}}),tu(e,1)}},Rt=function(e){if(13===e.tag){var t=Ha(e,134217728);if(null!==t)hc(t,e,134217728,cc());tu(e,134217728)}},Pt=function(e){if(13===e.tag){var t=uc(e),n=Ha(e,t);if(null!==n)hc(n,e,t,cc());tu(e,t)}},Ot=function(){return It},Dt=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},Re=function(e,t,n){switch(t){case"input":if(le(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ni(r);if(!i)throw Error(a(90));ne(r),le(r,i)}}}break;case"textarea":me(e,n);break;case"select":null!=(t=n.value)&&de(e,!!n.multiple,t,!1)}},je=yc,Ue=wc;var cu={usingClientEntryPoint:!1,Events:[Ii,Ai,Ni,Le,Me,yc]},uu={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=et(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{ft=du.inject(hu),pt=du}catch(f){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(a(299));var n=!1,r="",i=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Xc(e,1,!1,null,0,n,0,r,i),e[Si]=t.current,$r(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=et(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,o,s),e[Si]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iu(t)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(wc(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Si]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},656:(e,t,n)=>{var r=n(176),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},688:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>O,g:()=>P,u:()=>s,Uj:()=>o,Fy:()=>v,tD:()=>z,bD:()=>L,hp:()=>F,T9:()=>d,yU:()=>h,XA:()=>f,mS:()=>l,Ku:()=>H,ZQ:()=>_,sr:()=>T,zJ:()=>m,c1:()=>k,lT:()=>x,zW:()=>N,jZ:()=>E,lV:()=>C,nr:()=>I,Ov:()=>A,gE:()=>g,Am:()=>j,I9:()=>U,P1:()=>b,eX:()=>R});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;s||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==l)throw new a;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(u){console.error("base64Decode failed: ",u)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(u){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(u){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(u))}},h=e=>{const t=(e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function m(e){return e.endsWith(".cloudworkstations.dev")}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}const y={};let w=!1;function b(e,t){if("undefined"===typeof window||"undefined"===typeof document||!m(window.location.host)||y[e]===t||y[e]||w)return;function n(e){return"__firebase__banner__".concat(e)}y[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(y))y[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function S(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(u){return!1}}function k(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(u){return!1}}function R(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new P(n,a,t)}}const D=/\{\$([^}]+)}/g;function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(M(n)&&M(a)){if(!L(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M(e){return null!==e&&"object"===typeof e}function j(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function U(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function F(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(u){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(u){"undefined"!==typeof console&&console.error&&console.error(u)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B(){}function H(e){return e&&e._delegate?e._delegate:e}},746:(e,t,n)=>{n.d(t,{h1:()=>s,uA:()=>i});var r=n(688);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(u){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(r)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(u){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(u){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===a?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},788:(e,t,n)=>{n.d(t,{Oe:()=>jt,F0:()=>ft,iM:()=>yt,Nu:()=>Oe,hg:()=>st,x9:()=>ot,CI:()=>lt});var r=n(365),i=n(688),a=n(984);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var s=n(746);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,h=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new a.Vy("@firebase/auth");function f(e){if(d.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function g(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function v(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return h.create(e,...n)}function w(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||b(t)}function E(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(E()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class C{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A=new k(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,r){return P(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},o={};r&&("GET"===t?o=r:a={body:JSON.stringify(r)});const s=(0,i.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},a);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),C.fetch()(await D(e,e.config.apiHost,n,s),c)})}async function P(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new M(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw j(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw j(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,s,o);p(e,s)}}catch(u){if(u instanceof i.g)throw u;p(e,"network-request-failed",{message:String(u)})}}async function O(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await R(e,t,n,r,i);return"mfaPendingCredential"in a&&p(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function D(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?T(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(I.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function L(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),A.get())})}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function U(e){return void 0!==e&&void 0!==e.enterprise}class F{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z(e,t){return R(e,"GET","/v2/recaptchaConfig",N(e,t))}async function V(e,t){return R(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(u){}}function H(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(u){return f("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function K(e){const t=q(e);return w(t,"internal-error"),w("undefined"!==typeof t.exp,"internal-error"),w("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(u){throw u instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(u)&&e.auth.currentUser===e&&await e.auth.signOut(),u}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(u){return void((null===u||void 0===u?void 0:u.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,r=await e.getIdToken(),i=await W(e,V(n,{idToken:r}));w(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Y(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Q(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Y(e){return e.map(e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w("undefined"!==typeof e.idToken,"internal-error"),w("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){w(0!==e.length,"internal-error");const t=K(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(w(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await P(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,o=await D(e,r,"/v1/token","key=".concat(a)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),C.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new $;return n&&(w("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(w("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(w("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return b("not implemented")}}function J(e,t){w("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return w(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),a=q(r);w(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:B(H(a.auth_time)),issuedAtTime:B(H(a.iat)),expirationTime:B(H(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(v(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:S}=t;w(y&&S,e,"internal-error");const k=$.fromJSON(this.name,S);w("string"===typeof y,e,"internal-error"),J(u,e.name),J(h,e.name),w("boolean"===typeof b,e,"internal-error"),w("boolean"===typeof _,e,"internal-error"),J(d,e.name),J(f,e.name),J(p,e.name),J(m,e.name),J(g,e.name),J(v,e.name);const T=new Z({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new $;r.updateFromServerResponse(t);const i=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];w(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new $;o.updateFromIdToken(n);const s=new Z({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Q(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const ee=new Map;function te(e){_(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function ie(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ae{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,i),this.fullPersistenceKey=ie("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await V(this.auth,{idToken:e}).catch(()=>{});return t?Z._fromGetAccountInfoResponse(this.auth,t,e):null}return Z._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ae(te(re),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||te(re);const a=ie(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await V(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Z._fromGetAccountInfoResponse(e,r,t)}else n=Z._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new ae(i,e,n)):new ae(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(he(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(se(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fe(t))return"Blackberry";if(pe(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ue(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return me(e)||de(e)||pe(e)||fe(e)||/windows phone/i.test(e)||he(e)}function ve(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t="".concat(oe((0,i.ZQ)()),"-").concat(e);break;default:t=e}const a=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(a)}class ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(u){r(u)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(u){t.reverse();for(const n of t)try{n()}catch(ce){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===u||void 0===u?void 0:u.message})}}}class we{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class be{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ae.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(u){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await V(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==r||!(null===o||void 0===o?void 0:o.user)||(i=o.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(u){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(u){if((null===u||void 0===u?void 0:u.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(v(this));const t=e?(0,i.Ku)(e):null;return t&&w(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(v(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(v(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(te(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return R(e,"GET","/v2/passwordPolicy",N(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new we(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return R(e,"POST","/v2/accounts:revokeToken",N(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;w(t,this,"argument-error"),this.redirectPersistenceManager=await ae.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(w(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function _e(e){return(0,i.Ku)(e)}class Ee{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Se={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ke(e){return Se.loadJS(e)}function Te(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ce{constructor(){this.enterprise=new xe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ie="NO_RECAPTCHA";class Ae{constructor(e){this.type="recaptcha-enterprise",this.auth=_e(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;U(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ie)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ce).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{z(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new F(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&U(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Se.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ke(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ne(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Ae(e);let o;if(i)o=Ie;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Re(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ne(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ne(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Ne(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Ne(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ne(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Pe(e){const t=_e(e),n=await z(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new F(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ae(t).verify()}}function Oe(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;p(e,"already-initialized")}return n.initialize({options:t})}class De{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}async function Le(e,t){return R(e,"POST","/v1/accounts:signUp",t)}async function Me(e,t){return O(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}class je extends De{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new je(e,t,"password")}static _fromEmailAndCode(e,t){return new je(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Re(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Me,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Le,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ue(e,t){return O(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class Fe extends De{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Fe(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ue(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ue(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ue(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function ze(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}const Ve={USER_NOT_FOUND:"user-not-found"};class Be extends De{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Be({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Be({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await O(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ve)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Be({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class He{constructor(e){var t,n,r,a,o,s;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);w(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=l.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new He(t)}catch(n){return null}}}class qe{constructor(){this.providerId=qe.PROVIDER_ID}static credential(e,t){return je._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=He.parseLink(t);return w(n,"argument-error"),je._fromEmailAndCode(e,n.code,n.tenantId)}}qe.PROVIDER_ID="password",qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ke{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class We extends Ke{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ge extends We{constructor(){super("facebook.com")}static credential(e){return Fe._fromParams({providerId:Ge.PROVIDER_ID,signInMethod:Ge.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ge.credentialFromTaggedObject(e)}static credentialFromError(e){return Ge.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ge.credential(t.oauthAccessToken)}catch(n){return null}}}Ge.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ge.PROVIDER_ID="facebook.com";class Qe extends We{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fe._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qe.credentialFromTaggedObject(e)}static credentialFromError(e){return Qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qe.credential(n,r)}catch(i){return null}}}Qe.GOOGLE_SIGN_IN_METHOD="google.com",Qe.PROVIDER_ID="google.com";class Xe extends We{constructor(){super("github.com")}static credential(e){return Fe._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xe.credential(t.oauthAccessToken)}catch(n){return null}}}Xe.GITHUB_SIGN_IN_METHOD="github.com",Xe.PROVIDER_ID="github.com";class Ye extends We{constructor(){super("twitter.com")}static credential(e,t){return Fe._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ye.credential(n,r)}catch(i){return null}}}Ye.TWITTER_SIGN_IN_METHOD="twitter.com",Ye.PROVIDER_ID="twitter.com";class $e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Z._fromIdTokenResponse(e,n,r),a=Je(n);return new $e({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Je(n);return new $e({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Je(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ze extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ze(e,t,n,r)}}function et(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ze._fromErrorAndOperation(e,n,t,r);throw n})}async function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $e._forOperation(e,"link",r)}async function nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(v(i));const a="reauthenticate";try{const r=await W(e,et(i,a,t,e),n);w(r.idToken,i,"internal-error");const o=q(r.idToken);w(o,i,"internal-error");const{sub:s}=o;return w(e.uid===s,i,"user-mismatch"),$e._forOperation(e,a,r)}catch(u){throw(null===u||void 0===u?void 0:u.code)==="auth/".concat("user-not-found")&&p(i,"user-mismatch"),u}}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(v(e));const i="signIn",a=await et(e,i,t),o=await $e._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(o.user),o}async function it(e,t){return rt(_e(e),t)}async function at(e){const t=_e(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ot(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(v(e)):it((0,i.Ku)(e),qe.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&at(e),t})}function st(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function lt(e){return(0,i.Ku)(e).signOut()}function ct(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}new WeakMap;const ut="__sak";class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ut,"1"),this.storage.removeItem(ut),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dt extends ht{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dt.type="LOCAL";const ft=dt;function pt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function mt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class gt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=mt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return pt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=mt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=mt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=pt(n);const i=setInterval(()=>{const e=pt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}gt.type="COOKIE";class vt extends ht{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vt.type="SESSION";const yt=vt;class wt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new wt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wt.receivers=[];class _t{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=bt("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Et(){return window}function St(){return"undefined"!==typeof Et().WorkerGlobalScope&&"function"===typeof Et().importScripts}const kt="firebaseLocalStorageDb",Tt="firebaseLocalStorage",Ct="fbase_key";class xt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function It(e,t){return e.transaction([Tt],t?"readwrite":"readonly").objectStore(Tt)}function At(){const e=indexedDB.open(kt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Tt,{keyPath:Ct})}catch(u){n(u)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Tt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(kt);return new xt(e).toPromise()}(),t(await At()))})})}async function Nt(e,t,n){const r=It(e,!0).put({[Ct]:t,value:n});return new xt(r).toPromise()}function Rt(e,t){const n=It(e,!0).delete(t);return new xt(n).toPromise()}class Pt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await At()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(u){if(t++>3)throw u;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return St()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wt._getInstance(St()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new _t(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await At();return await Nt(e,ut,"1"),await Rt(e,ut),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=It(e,!1).get(t),r=await new xt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=It(e,!1).getAll();return new xt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pt.type="LOCAL";function Ot(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}Te("rcb"),new k(3e4,6e4);const Dt="recaptcha";async function Lt(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Pe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){w("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Re(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Dt,e,"argument-error");return ct(e,await Mt(e,t,n))}return ct(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{w("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;w(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Re(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Dt,e,"argument-error");return Ot(e,await Mt(e,t,n))}return Ot(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Re(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Dt,e,"argument-error");return ze(e,await Mt(e,t,n))}return ze(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Mt(e,t,n){w(n.type===Dt,e,"argument-error");const r=await n.verify();w("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class jt{constructor(e){this.providerId=jt.PROVIDER_ID,this.auth=_e(e)}verifyPhoneNumber(e,t){return Lt(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Be._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jt.credentialFromTaggedObject(t)}static credentialFromError(e){return jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Be._fromTokenResponse(n,r):null}}jt.PROVIDER_ID="phone",jt.PHONE_SIGN_IN_METHOD="phone";class Ut extends De{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ue(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ue(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ue(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ft(e){return rt(e.auth,new Ut(e),e.bypassAuthState)}function zt(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),nt(n,new Ut(e),e.bypassAuthState)}async function Vt(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),tt(n,new Ut(e),e.bypassAuthState)}class Bt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(u){this.reject(u)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Vt;case"reauthViaPopup":case"reauthViaRedirect":return zt;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ht=new k(2e3,1e4);class qt extends Bt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qt.currentPopupAction&&qt.currentPopupAction.cancel(),qt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return w(e,this.auth,"internal-error"),e}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const e=bt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(m(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ht.get())};e()}}qt.currentPopupAction=null;new Map;new k(3e4,6e4);new k(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);encodeURIComponent("fac");var Kt="@firebase/auth",Wt="1.10.7";class Gt{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge");var Qt;!function(e){Se=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Qt="Browser",(0,r.om)(new s.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;w(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Qt,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ve(Qt)},c=new be(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(te);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new s.uA("auth-internal",e=>(e=>new Gt(e))(_e(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Kt,Wt,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qt)),(0,r.KO)(Kt,Wt,"esm2017")},810:(e,t,n)=>{n.d(t,{j2:()=>c,kA:()=>u,Cn:()=>d,IG:()=>h});var r=n(365);(0,r.KO)("firebase","11.9.1","app");var i=n(788),a=n(593),o=n(986),s=n(538);const l=(0,r.Wp)({apiKey:"AIzaSyDlzqRZiN6i3nFvpLBj642LLggQaRxW6E4",authDomain:"amc-platform-b2c.web.app",projectId:"amc-platform-b2c",storageBucket:"amc-platform-b2c.firebasestorage.app",messagingSenderId:"703667374408",appId:"1:703667374408:web:8e52a3b527dc8058da4b7d",measurementId:"G-R1B3G3VBVS"}),c=(0,i.Nu)(l,{persistence:[i.F0,i.iM]}),u=(0,a.aU)(l),h=(0,o.c7)(l),d=(0,s.Uz)(l)},812:(e,t,n)=>{e.exports=n(656)},882:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>s})},984:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},986:(e,t,n)=>{n.d(t,{c7:()=>Ee,KR:()=>_e,D:()=>be});var r=n(365),i=n(688),a=n(746);const o="firebasestorage.googleapis.com",s="storageBucket";class l extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),"Firebase Storage: ".concat(t," (").concat(d(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var c,h;function d(e){return"storage/"+e}function f(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m(){return new l(c.CANCELED,"User canceled the upload/download.")}function g(){return new l(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(e){return new l(c.INVALID_ARGUMENT,e)}function y(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}function w(e,t){return new l(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function b(e){throw new l(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class _{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_.makeFromUrl(e,t)}catch(u){return new _(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===o?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let o=0;o<u.length;o++){const t=u[o],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new _(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class E{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function S(e){return"string"===typeof e||e instanceof String}function k(e){return T()&&e instanceof Blob}function T(){return"undefined"!==typeof Blob}function C(e,t,n,r){if(r<t)throw v("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw v("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function x(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function I(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function A(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(h||(h={}));class N{constructor(e,t,n,r,i,a,o,s,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new R(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===h.NO_ERROR,i=n.getStatus();if(!t||A(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===h.ABORT;return void e(!1,new R(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new R(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(u){r(u)}else if(null!==i){const e=f();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():m())}else{r(p())}};this.canceled_?t(0,new R(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){a&&clearTimeout(a)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout(()=>{o=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class R{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function P(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function O(){const e=P();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(T())return new Blob(n);throw new l(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function D(e){if("undefined"===typeof atob)throw t="base-64",new l(c.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const L="raw",M="base64",j="base64url",U="data_url";class F{constructor(e,t){this.data=e,this.contentType=t||null}}function z(e,t){switch(e){case L:return new F(V(t));case M:case j:return new F(B(e,t));case U:return new F(function(e){const t=new H(e);return t.base64?B(M,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(u){throw w(U,"Malformed data URL.")}return V(t)}(t.rest)}(t),new H(t).contentType)}throw f()}function V(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function B(e,t){switch(e){case M:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case j:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw w(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=D(t)}catch(u){if(u.message.includes("polyfill"))throw u;throw w(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class H{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(U,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class q{constructor(e,t){let n=0,r="";k(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(k(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new q(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new q(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(T()){const e=t.map(e=>e instanceof q?e.data_:e);return new q(O.apply(null,e))}{const e=t.map(e=>S(e)?z(L,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new q(r,!0)}}uploadData(){return this.data_}}function K(e){let t;try{t=JSON.parse(e)}catch(u){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function W(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function G(e,t){return t}class Q{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||G}}let X=null;function Y(){if(X)return X;const e=[];e.push(new Q("bucket")),e.push(new Q("generation")),e.push(new Q("metageneration")),e.push(new Q("name","fullPath",!0));const t=new Q("name");t.xform=function(e,t){return function(e){return!S(e)||e.length<2?e:W(e)}(t)},e.push(t);const n=new Q("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Q("timeCreated")),e.push(new Q("updated")),e.push(new Q("md5Hash",null,!0)),e.push(new Q("cacheControl",null,!0)),e.push(new Q("contentDisposition",null,!0)),e.push(new Q("contentEncoding",null,!0)),e.push(new Q("contentLanguage",null,!0)),e.push(new Q("contentType",null,!0)),e.push(new Q("metadata","customMetadata",!0)),X=e,X}function $(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new _(n,r);return t._makeStorageReference(i)}})}(r,e),r}function J(e,t,n){const r=K(t);if(null===r)return null;return $(e,r,n)}function Z(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ee{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function te(e){if(!e)throw f()}function ne(e,t){return function(n,r){const i=J(e,r,t);return te(null!==i),i}}function re(e){return function(t,n){let r;var i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new l(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new l(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new l(c.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new l(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ie(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ae(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;const l=ie(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Z(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",h=q.getBlob(c,r,u);if(null===h)throw g();const d={name:l.fullPath},f=x(a,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ee(f,"POST",ne(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=re(t),m}let oe=null;class se{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,a){if(this.sent_)throw b("cannot .send() more than once");if((0,i.zJ)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(u){return-1}}getResponse(){if(!this.sent_)throw b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class le extends se{initXhr(){this.xhr_.responseType="text"}}function ce(){return oe?oe():new le}class ue{constructor(e,t){this._service=e,this._location=t instanceof _?t:_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ue(e,t)}get root(){const e=new _(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _(this._location.bucket,e);return new ue(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function he(e,t,n){e._throwIfRoot("uploadBytes");const r=ae(e.storage,e._location,Y(),new q(t,!0),n);return e.storage.makeRequestWithTokens(r,ce).then(t=>({metadata:t,ref:e}))}function de(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _(e._location.bucket,n);return new ue(e.storage,r)}function fe(e,t){if(e instanceof ge){const n=e;if(null==n._bucket)throw new l(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s+"' property when initializing the app?");const r=new ue(n,n._bucket);return null!=t?fe(r,t):r}return void 0!==t?de(e,t):e}function pe(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ge)return new ue(e,t);throw v("To use ref(service, url), the first argument must be a Storage instance.")}return fe(e,t)}function me(e,t){const n=null===t||void 0===t?void 0:t[s];return null==n?null:_.makeFromBucketSpec(n,e)}class ge{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=o,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_.makeFromBucketSpec(r,this._host):me(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_.makeFromBucketSpec(this._url,e):this._bucket=me(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ue(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new E(y());{const a=function(e,t,n,r,i,a){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=I(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new N(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ve="@firebase/storage",ye="0.13.13",we="storage";function be(e,t,n){return he(e=(0,i.Ku)(e),t,n)}function _e(e,t){return pe(e=(0,i.Ku)(e),t)}function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,we).getImmediate({identifier:t}),a=(0,i.yU)("storage");return a&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const a=(0,i.zJ)(t);a&&((0,i.gE)("https://".concat(e.host,"/b")),(0,i.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:(0,i.Fy)(o,e.app.options.projectId))}(e,t,n,r)}(n,...a),n}function Se(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ge(i,a,o,n,r.MF)}(0,r.om)(new a.uA(we,Se,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(ve,ye,""),(0,r.KO)(ve,ye,"esm2017")},989:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(627)},991:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(u){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(176),i=n(454),a=n(571),o=n(204),s=n(788);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=n(882);let u={data:""},h=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||u,d=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,f=/\/\*[^]*?\*\/|  +/g,p=/\n+/g,m=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":r+="f"==a[1]?m(o,a):a+"{"+m(o,"k"==a[1]?"":t)+"}":"object"==typeof o?r+=m(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=m.p?m.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},g={},v=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+v(e[n]);return t}return e},y=(e,t,n,r,i)=>{let a=v(e),o=g[a]||(g[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!g[o]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=d.exec(e.replace(f,""));)t[4]?r.shift():t[3]?(n=t[3].replace(p," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(p," ").trim();return r[0]})(e);g[o]=m(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&g.g?g.g:null;return n&&(g.g=g[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(g[o],t,r,s),o};function w(e){let t=this||{},n=e.call?e(t.p):e;return y(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":m(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,h(t.target),t.g,t.o,t.k)}w.bind({g:1});let b,_,E,S=w.bind({k:1});function k(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:_&&_()},s),n.o=/ *go\d+/.test(l),s.className=w.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),E&&c[0]&&E(s),b(c,s)}return t?t(i):i}}var T,C,x,I,A,N,R,P,O,D,L,M,j,U,F,z,V=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,B=(()=>{let e=0;return()=>(++e).toString()})(),H=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),q=(e,t)=>{switch(t.type){case 0:return(0,c.A)((0,c.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return(0,c.A)((0,c.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,c.A)((0,c.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return q(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return(0,c.A)((0,c.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,c.A)((0,c.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,c.A)((0,c.A)({},e),{},{toasts:[]}):(0,c.A)((0,c.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,c.A)((0,c.A)({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return(0,c.A)((0,c.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,c.A)((0,c.A)({},e),{},{pauseDuration:e.pauseDuration+i}))})}},K=[],W={toasts:[],pausedAt:void 0},G=e=>{W=q(W,e),K.forEach(e=>{e(W)})},Q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},X=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,c.A)((0,c.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||B()})}(t,e,n);return G({type:2,toast:r}),r.id},Y=(e,t)=>X("blank")(e,t);Y.error=X("error"),Y.success=X("success"),Y.loading=X("loading"),Y.custom=X("custom"),Y.dismiss=e=>{G({type:3,toastId:e})},Y.remove=e=>G({type:4,toastId:e}),Y.promise=(e,t,n)=>{let r=Y.loading(t.loading,(0,c.A)((0,c.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?V(t.success,e):void 0;return i?Y.success(i,(0,c.A)((0,c.A)({id:r},n),null==n?void 0:n.success)):Y.dismiss(r),e}).catch(e=>{let i=t.error?V(t.error,e):void 0;i?Y.error(i,(0,c.A)((0,c.A)({id:r},n),null==n?void 0:n.error)):Y.dismiss(r)}),e};var $=(e,t)=>{G({type:1,toast:{id:e,height:t}})},J=()=>{G({type:5,time:Date.now()})},Z=new Map,ee=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(W),i=(0,r.useRef)(W);(0,r.useEffect)(()=>(i.current!==W&&n(W),K.push(n),()=>{let e=K.indexOf(n);e>-1&&K.splice(e,1)}),[]);let a=t.toasts.map(t=>{var n,r,i;return(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Q[t.type],style:(0,c.A)((0,c.A)((0,c.A)({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return(0,c.A)((0,c.A)({},t),{},{toasts:a})}(e);(0,r.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Y.dismiss(t.id),n);t.visible&&Y.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let i=(0,r.useCallback)(()=>{n&&G({type:6,time:Date.now()})},[n]),a=(0,r.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=n||{},o=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return(0,r.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Z.has(e))return;let n=setTimeout(()=>{Z.delete(e),G({type:4,toastId:e})},t);Z.set(e,n)}(e.id,e.removeDelay);else{let t=Z.get(e.id);t&&(clearTimeout(t),Z.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:$,startPause:J,endPause:i,calculateOffset:a}}},te=S(T||(T=l(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),ne=S(C||(C=l(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),re=S(x||(x=l(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ie=k("div")(I||(I=l(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",te,ne,e=>e.secondary||"#fff",re),ae=S(A||(A=l(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),oe=k("div")(N||(N=l(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ae),se=S(R||(R=l(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),le=S(P||(P=l(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ce=k("div")(O||(O=l(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",se,le,e=>e.secondary||"#fff"),ue=k("div")(D||(D=l(["\n  position: absolute;\n"]))),he=k("div")(L||(L=l(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),de=S(M||(M=l(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),fe=k("div")(j||(j=l(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),de),pe=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:a}=t;return void 0!==n?"string"==typeof n?r.createElement(fe,null,n):n:"blank"===i?null:r.createElement(he,null,r.createElement(oe,(0,c.A)({},a)),"loading"!==i&&r.createElement(ue,null,"error"===i?r.createElement(ie,(0,c.A)({},a)):r.createElement(ce,(0,c.A)({},a))))},me=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),ge=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),ve=k("div")(U||(U=l(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ye=k("div")(F||(F=l(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),we=r.memo(e=>{let{toast:t,position:n,style:i,children:a}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=H()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[me(n),ge(n)];return{animation:t?"".concat(S(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(S(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(pe,{toast:t}),l=r.createElement(ye,(0,c.A)({},t.ariaProps),V(t.message,t));return r.createElement(ve,{className:t.className,style:(0,c.A)((0,c.A)((0,c.A)({},o),i),t.style)},"function"==typeof a?a({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))});!function(e,t,n,r){m.p=t,b=e,_=n,E=r}(r.createElement);var be=e=>{let{id:t,className:n,style:i,onHeightUpdate:a,children:o}=e,s=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:s,className:n,style:i},o)},_e=w(z||(z=l(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Ee=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:a,children:o,containerStyle:s,containerClassName:l}=e,{toasts:u,handlers:h}=ee(i);return r.createElement("div",{id:"_rht_toaster",style:(0,c.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},s),className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(e=>{let i=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,c.A)((0,c.A)({left:0,right:0,display:"flex",position:"absolute",transition:H()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,h.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return r.createElement(be,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?_e:"",style:s},"custom"===e.type?V(e.message,e):o?o(e):r.createElement(we,{toast:e,position:i}))}))},Se=Y,ke=n(152),Te=n(376),Ce=n(810),xe=n(812);const Ie=(0,r.createContext)(null),Ae=()=>{const e=(0,r.useContext)(Ie);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ne=e=>{let{children:t}=e;const n=(0,r.useCallback)(function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"){case"success":Se.success(e);break;case"error":Se.error(e);break;default:Se(e)}},[]);return(0,xe.jsx)(Ie.Provider,{value:{showToast:n},children:t})};var Re=n(593);const Pe=(0,r.createContext)(),Oe=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),{user:s}=(0,ke.useAuth)();(0,r.useEffect)(()=>{if(!s)return i([]),void o(!1);o(!0);const e=(0,Re.P)((0,Re.rJ)(Ce.kA,"analyses"),(0,Re._M)("userId","==",s.uid),(0,Re.My)("createdAt","desc")),t=(0,Re.aQ)(e,e=>{const t=e.docs.map(e=>(0,c.A)({id:e.id},e.data()));i(t),o(!1)},e=>{console.error("Error fetching user analyses:",e),o(!1)});return()=>t()},[s]);const l={userCreatedAnalyses:n,isLoadingAnalyses:a};return(0,xe.jsx)(Pe.Provider,{value:l,children:t})},De=e=>{let{message:t,type:n="success",duration:i=5e3,onClose:a}=e;const[o,s]=(0,r.useState)(!1),l=(0,r.useCallback)(()=>{s(!1),setTimeout(()=>{a()},300)},[a]);(0,r.useEffect)(()=>{s(!0);const e=setTimeout(()=>{l()},i);return()=>clearTimeout(e)},[i,l]);const u={position:"relative",width:"350px",margin:"0 0 10px 0",padding:"16px",borderRadius:"8px",display:"flex",alignItems:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,transition:"opacity 0.3s ease-in-out, transform 0.3s ease-in-out",opacity:o?1:0,transform:o?"translateX(0)":"translateX(20px)",color:"white",cursor:"pointer"},h={success:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z",error:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z",info:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"};return(0,xe.jsxs)("div",{style:(0,c.A)((0,c.A)({},u),{success:{backgroundColor:"#28a745"},error:{backgroundColor:"#dc3545"},info:{backgroundColor:"#17a2b8"}}[n]),onClick:l,children:[(0,xe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",style:{width:"24px",height:"24px",marginRight:"12px",flexShrink:0},children:(0,xe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:h[n]||h.info})}),(0,xe.jsx)("span",{children:t}),(0,xe.jsx)("button",{onClick:e=>{e.stopPropagation(),l()},style:{background:"none",border:"none",color:"white",marginLeft:"auto",paddingLeft:"16px",fontSize:"1.2rem",cursor:"pointer"},children:"\xd7"})]})},Le=e=>{let{onNavigateToDashboard:t}=e;const[n,i]=(0,r.useState)([]),{currentUser:a}=(0,ke.useAuth)();(0,r.useEffect)(()=>{if(!a)return void i([]);const e=(0,Re.P)((0,Re.rJ)(Ce.kA,"notifications"),(0,Re._M)("userId","==",a.uid),(0,Re._M)("read","==",!1)),t=(0,Re.aQ)(e,e=>{const t=[];e.docChanges().forEach(e=>{"added"===e.type&&t.push((0,c.A)({id:e.doc.id},e.doc.data()))}),t.length>0&&i(e=>[...e,...t])});return()=>t()},[a]);const o=(0,r.useCallback)(e=>{const t=(0,Re.H9)(Ce.kA,"notifications",e);(0,Re.mZ)(t,{read:!0}).catch(e=>console.error("Failed to mark notification as read:",e)),i(t=>t.filter(t=>t.id!==e))},[]),s=(0,r.useCallback)(e=>{e.analysisId&&t&&t({mode:"monitor_status",analysisId:e.analysisId,analysisName:e.message.split('"')[1]||"Analysis"}),o(e.id)},[t,o]);return(0,xe.jsx)("div",{style:{position:"fixed",top:"80px",right:"20px",zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"flex-end"},children:n.map(e=>(0,xe.jsx)("div",{onClick:()=>s(e),children:(0,xe.jsx)(De,{message:e.message,type:e.type||"info",duration:1e4,onClose:()=>o(e.id)})},e.id))})},Me={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let je;const Ue=new Uint8Array(16);function Fe(){if(!je&&(je="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!je))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return je(Ue)}const ze=[];for(let lt=0;lt<256;++lt)ze.push((lt+256).toString(16).slice(1));function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ze[e[t+0]]+ze[e[t+1]]+ze[e[t+2]]+ze[e[t+3]]+"-"+ze[e[t+4]]+ze[e[t+5]]+"-"+ze[e[t+6]]+ze[e[t+7]]+"-"+ze[e[t+8]]+ze[e[t+9]]+"-"+ze[e[t+10]]+ze[e[t+11]]+ze[e[t+12]]+ze[e[t+13]]+ze[e[t+14]]+ze[e[t+15]]}const Be=function(e,t,n){if(Me.randomUUID&&!t&&!e)return Me.randomUUID();const r=(e=e||{}).random||(e.rng||Fe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Ve(r)},He=e=>{let{userAnalyses:t,activeAnalysisId:n,onSelectAnalysis:i,topics:a,activeTopicId:o,onSelectTopic:s,onTopicSubmit:l,onNavigateToLanding:c,isReadyForTopic:u}=e;const[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1);return(0,xe.jsxs)("aside",{className:"w-full md:w-64 lg:w-80 p-4 space-y-4 shrink-0 flex flex-col bg-gray-800 text-gray-300",children:[(0,xe.jsxs)("div",{className:"flex-grow overflow-y-auto pr-2",children:[(0,xe.jsx)("h2",{className:"text-lg font-semibold mb-2 px-2",children:"Moje Analizy"}),(0,xe.jsx)("nav",{children:(0,xe.jsx)("ul",{children:t.length>0?t.map(e=>(0,xe.jsx)("li",{children:(0,xe.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),i(e.id)},className:"sidebar-item block px-4 py-2 text-sm font-medium rounded-md truncate ".concat(n===e.id?"active bg-gray-700 text-white":"hover:bg-gray-700"),title:e.analysisName,children:e.analysisName})},e.id)):(0,xe.jsx)("li",{className:"px-4 py-2 text-sm text-gray-400",children:"Brak analiz."})})}),(0,xe.jsx)("hr",{className:"my-4 border-gray-700"}),(0,xe.jsx)("h2",{className:"text-lg font-semibold mb-2 px-2",children:"Podaj Temat Analizy"}),(0,xe.jsx)("nav",{children:(0,xe.jsx)("ul",{children:a.length>0?a.map(e=>(0,xe.jsx)("li",{children:(0,xe.jsxs)("a",{href:"#",onClick:t=>{t.preventDefault(),s(e)},className:"sidebar-item block px-4 py-2 text-sm font-medium rounded-md truncate ".concat(o===e.id?"active bg-blue-600 text-white":"hover:bg-gray-700"),title:e.topicDisplayName,children:[e.topicDisplayName,"analyzing"===e.status&&(0,xe.jsx)("span",{className:"text-xs text-yellow-400 ml-2",children:"(Analizuj\u0119...)"}),"submitted"===e.status&&(0,xe.jsx)("span",{className:"text-xs text-yellow-400 ml-2",children:"(W kolejce...)"})]})},e.id)):u&&(0,xe.jsx)("li",{className:"px-4 py-2 text-sm text-gray-400",children:"Brak temat\xf3w."})})}),u&&(0,xe.jsx)("div",{className:"mt-4 px-2",children:f?(0,xe.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&(l(h.trim()),d(""),p(!1))},children:[(0,xe.jsx)("input",{type:"text",value:h,onChange:e=>d(e.target.value),placeholder:"Nazwa nowego tematu...",className:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),(0,xe.jsxs)("div",{className:"flex justify-end space-x-2 mt-2",children:[(0,xe.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-3 py-1 text-xs rounded bg-gray-600 hover:bg-gray-500",children:"Anuluj"}),(0,xe.jsx)("button",{type:"submit",className:"px-3 py-1 text-xs rounded bg-blue-600 hover:bg-blue-500",disabled:!h.trim(),children:"Dodaj"})]})]}):(0,xe.jsx)("button",{onClick:()=>p(!0),className:"w-full text-left px-4 py-2 text-sm font-medium rounded-md hover:bg-gray-700 text-blue-400",children:"+ Utw\xf3rz Nowy Temat"})})]}),(0,xe.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-700",children:(0,xe.jsx)("button",{className:"bottom-button w-full py-2.5 px-4 rounded-md text-sm font-medium bg-gray-600 hover:bg-gray-500 text-white",onClick:c,children:"Analizuj Nowy Plik"})})]})},qe=e=>{let{blockData:t,isActive:n}=e;if(!t)return null;const r="initial-analysis"===t.id,i=e=>({__html:e||""});return(0,xe.jsxs)("div",{id:t.id,className:"analysis-block ".concat(n?"active":""),children:[!r&&(0,xe.jsxs)("h2",{className:"analysis-question-title text-xl md:text-2xl font-semibold mb-4",children:["Pytanie: ",t.question&&t.question.length>65?t.question.substring(0,62)+"...":t.question]}),(0,xe.jsxs)("div",{className:"mb-6",children:[(0,xe.jsx)("h3",{className:"unified-analysis-heading text-lg md:text-xl font-semibold mb-3",children:t.findingsHeading||"Brak danych"}),(0,xe.jsx)("div",{className:"text-base md:text-lg leading-relaxed",dangerouslySetInnerHTML:i(t.findingsContent)})]}),(0,xe.jsxs)("div",{className:"mb-6",children:[(0,xe.jsx)("h3",{className:"unified-analysis-heading text-lg md:text-xl font-semibold mb-3",children:"Proces My\u015blowy"}),(0,xe.jsx)("div",{className:"text-base md:text-lg leading-relaxed",dangerouslySetInnerHTML:i(t.thoughtProcessContent)})]}),(0,xe.jsxs)("div",{className:"mb-6",children:[(0,xe.jsx)("h3",{className:"unified-analysis-heading text-lg md:text-xl font-semibold mb-3",children:"Sugestie Dalszych Pyta\u0144"}),(0,xe.jsx)("ul",{className:"space-y-2 question-suggestions-list text-base md:text-lg leading-relaxed",children:t.newSuggestionsContent&&t.newSuggestionsContent.map((e,t)=>(0,xe.jsx)("li",{className:"pl-4",dangerouslySetInnerHTML:i(e)},t))})]})]})},Ke=e=>{let{blocks:t,currentIndex:n}=e;if(!t||0===t.length)return(0,xe.jsx)("div",{className:"analysis-content-area text-center p-8 text-gray-400",children:"Oczekiwanie na dane analizy..."});const r=t[Math.max(0,Math.min(n,t.length-1))];return(0,xe.jsx)("div",{className:"analysis-content-area",children:r?(0,xe.jsx)(qe,{blockData:r,isActive:!0},r.id):(0,xe.jsx)("div",{className:"text-center p-8 text-gray-400",children:"Wybierz blok analizy."})})},We=e=>{let{messages:t,onSendMessage:n,isSending:i}=e;const[a,o]=(0,r.useState)(""),s=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]),(0,r.useEffect)(()=>{l.current&&(l.current.style.height="auto",l.current.style.height=l.current.scrollHeight+"px")},[a]);const c=()=>{a.trim()&&!i&&(n(a.trim()),o(""))};return(0,xe.jsxs)("div",{className:"chat-container mt-6 flex flex-col h-[400px] bg-gray-700/50 rounded-lg p-4",children:[(0,xe.jsxs)("div",{className:"chat-messages flex-1 overflow-y-auto mb-4 pr-2",children:[t.map((e,t)=>(0,xe.jsx)("div",{className:"message mb-3 flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,xe.jsx)("div",{className:"p-3 rounded-lg max-w-lg ".concat("user"===e.sender?"bg-blue-600 text-white":"bg-gray-600 text-gray-200"),children:(0,xe.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:e.text})})},e.id||t)),i&&(0,xe.jsx)("div",{className:"message mb-3 flex justify-start",children:(0,xe.jsx)("div",{className:"p-3 rounded-lg max-w-lg bg-gray-600 text-gray-200",children:(0,xe.jsxs)("p",{className:"thinking-indicator",children:[(0,xe.jsx)("span",{children:"."}),(0,xe.jsx)("span",{children:"."}),(0,xe.jsx)("span",{children:"."})]})})}),(0,xe.jsx)("div",{ref:s})]}),(0,xe.jsxs)("div",{className:"chat-input grid grid-cols-[1fr_auto] items-center gap-x-6 px-4 py-3",children:[(0,xe.jsx)("textarea",{ref:l,className:"bg-gray-800/70 text-gray-200 rounded-lg p-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ease-in-out placeholder-gray-400 overflow-y-auto",placeholder:"Zadaj pytanie dotycz\u0105ce analizy...",value:a,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c())},rows:1,disabled:i,style:{minHeight:"48px",maxHeight:"200px"}}),(0,xe.jsx)("button",{onClick:c,disabled:i||!a.trim(),className:"h-12 w-12 flex items-center justify-center bg-blue-600 text-white rounded-full disabled:bg-gray-500 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors shrink-0",children:i?(0,xe.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,xe.jsx)("svg",{className:"w-6 h-6 transform rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,xe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})};var Ge=n(538);const Qe={requestAnalysis:(0,Ge.Qg)(Ce.Cn,"requestAnalysis"),getAnalysesList:(0,Ge.Qg)(Ce.Cn,"getAnalysesList"),getAnalysisTopicDetail:(0,Ge.Qg)(Ce.Cn,"getAnalysisTopicDetail"),chatOnTopic:(0,Ge.Qg)(Ce.Cn,"chatOnTopic")},Xe=e=>{let{message:t,isActive:n,duration:i=3e3,onClose:a}=e;return(0,r.useEffect)(()=>{let e;return n&&a&&(e=setTimeout(()=>{a()},i)),()=>clearTimeout(e)},[n,i,a]),n&&t?(0,xe.jsx)("div",{className:"fixed top-5 left-1/2 -translate-x-1/2 bg-gray-700 text-white py-3 px-5 rounded-md z-[2000] shadow-lg text-sm",children:t}):null},Ye=function(e){let t,n,r,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?("initial"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initial")?(t="initial-analysis-block",n=e.questionAsked||o||"Analiza Pocz\u0105tkowa",r=e.initialFindings||"<p>Brak szczeg\xf3\u0142owych wniosk\xf3w.</p>",i=e.thoughtProcess||"<p>Brak opisu procesu my\u015blowego.</p>",a=e.questionSuggestions||[]):(t="chat-analysis-block-".concat(Date.now()),n=e.questionAsked||"Odpowied\u017a na pytanie",r=e.detailedFindings||"<p>Brak szczeg\xf3\u0142owych wniosk\xf3w.</p>",i=e.specificThoughtProcess||"<p>Brak opisu procesu my\u015blowego.</p>",a=e.followUpSuggestions||[]),{id:t,titleForBlock:n,question:n,findingsHeading:"Wynik",findingsContent:r,thoughtProcessContent:i,newSuggestionsContent:a}):null},$e=()=>{const{analysisId:e}=(0,a.g)(),t=(0,a.Zp)(),{user:n}=(0,ke.useAuth)(),{showToast:i}=Ae(),[o,s]=(0,r.useState)(null),[l,u]=(0,r.useState)([]),[h,d]=(0,r.useState)([]),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[v,y]=(0,r.useState)([]),[w,b]=(0,r.useState)(0),[_,E]=(0,r.useState)("loading"),[S,k]=(0,r.useState)("\u0141adowanie..."),[T,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!n)return;const r=(0,Re.P)((0,Re.rJ)(Ce.kA,"analyses"),(0,Re._M)("userId","==",n.uid),(0,Re.My)("createdAt","desc")),a=(0,Re.aQ)(r,n=>{const r=n.docs.map(e=>(0,c.A)({id:e.id},e.data()));u(r),!e&&r.length>0?t("/dashboard/".concat(r[0].id)):e||0!==r.length||(E("no_analyses"),k("Nie masz jeszcze \u017cadnych analiz. Zacznij od dodania pliku!"))},e=>{E("error"),k("B\u0142\u0105d serwera podczas \u0142adowania listy analiz."),i("B\u0142\u0105d \u0142adowania listy analiz: ".concat(e.message),"error")});return()=>a()},[n,e,t,i]),(0,r.useEffect)(()=>{if(!n||!e)return void(n||t("/"));const r=(0,Re.H9)(Ce.kA,"analyses",e),i=(0,Re.aQ)(r,e=>{if(e.exists()&&e.data().userId===n.uid){const t=(0,c.A)({id:e.id},e.data());s(t);const n=t.status||"completed";E(n),"ready_for_topic_analysis"===n||"completed"===n||n.startsWith("error")?n.startsWith("error")&&k("Wyst\u0105pi\u0142 b\u0142\u0105d: ".concat(t.errorMessage||"Nieznany b\u0142\u0105d przetwarzania")):k("Twoja analiza jest przetwarzana... Status: ".concat(n.replace(/_/g," ")))}else E("error"),k("Analiza nie znaleziona lub brak dost\u0119pu.")});return()=>i()},[e,n,t]),(0,r.useEffect)(()=>{if(!e)return;const t=(0,Re.rJ)(Ce.kA,"analyses",e,"topics"),n=(0,Re.P)(t,(0,Re.My)("createdAt","asc")),r=(0,Re.aQ)(n,e=>{const t=e.docs.map(e=>(0,c.A)({id:e.id},e.data()));d(t),p(e=>{if(e){const n=t.find(t=>t.id===e.id);return n||null}return t.length>0?t[0]:null})},e=>{i("Nie uda\u0142o si\u0119 za\u0142adowa\u0107 temat\xf3w.","error")});return()=>r()},[e,i]),(0,r.useEffect)(()=>{if(!f||!e)return y([]),void g([]);const t=f.initialAnalysisResult?[Ye(f.initialAnalysisResult,"initial",f.topicDisplayName)]:[],n=(0,Re.rJ)(Ce.kA,"analyses",e,"topics",f.id,"chatHistory"),r=(0,Re.P)(n,(0,Re.My)("timestamp","asc")),i=(0,Re.aQ)(r,e=>{const n=e.docs,r=n.map(e=>({sender:"user"===e.data().role?"user":"ai",text:e.data().parts[0].text,id:e.id})),i=n.filter(e=>{const t=e.data();return"model"===t.role&&t.detailedAnalysisBlock&&Object.keys(t.detailedAnalysisBlock).length>0}).map(e=>Ye(e.data().detailedAnalysisBlock,"chat")),a=[...t,...i],o=v.length;y(a),g(r),o>0&&o<a.length||a.length>0&&w>=a.length?b(a.length-1):0===o&&a.length>0&&b(0)});return()=>i()},[f,e]);const x=(0,r.useCallback)(async t=>{if(!t.trim()||!e)return;const n=Be(),r=(0,Re.H9)(Ce.kA,"analyses",e,"topics",n);try{await(0,Re.BN)(r,{topicDisplayName:t,status:"submitted",createdAt:(0,Re.O5)(),isDefault:!1}),i('Temat "'.concat(t,'" zosta\u0142 utworzony.'),"info")}catch(a){i("B\u0142\u0105d tworzenia tematu: ".concat(a.message),"error")}},[e,i]),I=(0,r.useCallback)(async t=>{if(e&&f){C(!0);try{await Qe.chatOnTopic({analysisId:e,topicId:f.id,userMessageText:t})}catch(n){i("B\u0142\u0105d odpowiedzi AI: ".concat(n.message),"error")}finally{C(!1)}}},[e,f,i]);return(0,xe.jsxs)("div",{className:"flex h-screen bg-gray-900 text-white font-sans",children:[(0,xe.jsx)(He,{userAnalyses:l,activeAnalysisId:e,onSelectAnalysis:e=>t("/dashboard/".concat(e)),topics:h,activeTopicId:null===f||void 0===f?void 0:f.id,onSelectTopic:p,onTopicSubmit:x,onNavigateToLanding:()=>t("/"),isReadyForTopic:"ready_for_topic_analysis"===_||"completed"===_}),(0,xe.jsx)("main",{className:"flex-1 flex flex-col overflow-hidden",children:(0,xe.jsx)("div",{className:"main-content-bg flex-grow overflow-y-auto p-6 md:p-8",children:(()=>{var e;return _.startsWith("error")||_.startsWith("error")?(0,xe.jsx)(Xe,{isActive:!0,message:S,type:"error"}):"ready_for_topic_analysis"!==_&&"completed"!==_?(0,xe.jsx)(Xe,{isActive:!0,message:S}):f?(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsxs)("div",{className:"title-and-navigation-container",children:[(0,xe.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:(null===(e=v[w])||void 0===e?void 0:e.titleForBlock)||(null===f||void 0===f?void 0:f.topicDisplayName)||"Analiza"}),v.length>1&&(0,xe.jsxs)("div",{className:"analysis-navigation-arrows",children:[(0,xe.jsx)("button",{className:"nav-arrow",onClick:()=>b(e=>Math.max(0,e-1)),disabled:0===w,children:"<"}),(0,xe.jsx)("button",{className:"nav-arrow",onClick:()=>b(e=>Math.min(v.length-1,e+1)),disabled:w>=v.length-1,children:">"})]})]}),v.length>0?(0,xe.jsx)(Ke,{blocks:v,currentIndex:w}):(0,xe.jsx)(Xe,{isActive:!0,message:"Oczekiwanie na pierwsz\u0105 analiz\u0119 dla tego tematu...",type:"info"}),(0,xe.jsx)(We,{messages:m,onSendMessage:I,isSending:T},f.id)]}):(0,xe.jsx)(Xe,{isActive:!0,message:"Wybierz temat z listy lub utw\xf3rz nowy, aby rozpocz\u0105\u0107 analiz\u0119.",type:"info"})})()})})]})};var Je=n(986);const Ze=()=>(0,xe.jsx)("span",{className:"spinner","aria-hidden":"true"}),et=e=>{let{id:t,onClick:n,label:r,variant:i="primary",disabled:a=!1,isLoading:o=!1,loadingText:s="\u0141adowanie...",iconSvgPath:l,iconViewBox:c="0 0 24 24",children:u,className:h="",isFileInputLabel:d=!1,htmlFor:f,type:p="button"}=e;let m="";switch(i){case"primary":m=o||a?"btn-primary-disabled":"btn-primary";break;case"secondary":m="btn-secondary";break;case"tertiary":m="btn-tertiary";break;case"file-input":m=o||a?"btn-primary-disabled file-input-label":"btn-primary file-input-label";break;default:m="btn-primary"}const g=(0,xe.jsxs)(xe.Fragment,{children:[o&&(0,xe.jsx)(Ze,{}),!o&&u,!o&&!u&&l&&(0,xe.jsx)("svg",{className:"btn-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:c,strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",children:(0,xe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:l})}),(0,xe.jsx)("span",{className:"button-text-label",children:o?s:r})]});return d?(0,xe.jsx)("label",{htmlFor:f,id:t,className:"".concat("btn"," ").concat(m," ").concat(a&&!o&&"primary"!==i&&"file-input"!==i?"opacity-50 cursor-not-allowed":""," ").concat(h),onClick:a||o?void 0:n,role:"button",tabIndex:a?-1:0,onKeyDown:e=>{a||o||"Enter"!==e.key&&" "!==e.key||null===n||void 0===n||n()},children:g}):(0,xe.jsx)("button",{id:t,type:p,onClick:n,disabled:a||o,className:"".concat("btn"," ").concat(m," ").concat(h),children:g})},tt=e=>{let{isOpen:t,onClose:n}=e;const[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)("info"),[d,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&(a(""),s(""),c(""),f(!1))},[t]);return t?(0,xe.jsx)("div",{className:"modal-overlay ".concat(t?"active":""),onClick:n,children:(0,xe.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,xe.jsxs)("div",{className:"modal-header",children:[(0,xe.jsx)("h2",{className:"modal-title",children:"Po\u0142\u0105cz z Witness Digital Twin"}),(0,xe.jsx)("button",{onClick:n,className:"modal-close-btn","aria-label":"Close modal",disabled:d,children:"\xd7"})]}),(0,xe.jsxs)("div",{className:"modal-body",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("label",{htmlFor:"witnessIdInput",className:"form-label",children:"ID Systemu Witness"}),(0,xe.jsx)("input",{type:"text",id:"witnessIdInput",className:"form-input",placeholder:"Wprowad\u017a ID systemu",value:i,onChange:e=>a(e.target.value),disabled:d})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("label",{htmlFor:"accessCodeInput",className:"form-label",children:"Kod Dost\u0119pu"}),(0,xe.jsx)("input",{type:"password",id:"accessCodeInput",className:"form-input",placeholder:"Wprowad\u017a kod dost\u0119pu",value:o,onChange:e=>s(e.target.value),disabled:d})]}),l&&(0,xe.jsx)("div",{id:"modalStatusMessage",className:"status-message status-".concat(u),children:l})]}),(0,xe.jsxs)("div",{className:"modal-footer",children:[(0,xe.jsx)(et,{label:"Anuluj",variant:"tertiary",onClick:n,disabled:d}),(0,xe.jsx)(et,{label:"Po\u0142\u0105cz",variant:"primary",onClick:async()=>{if(!i.trim()||!o.trim())return c("Prosz\u0119 wype\u0142ni\u0107 oba pola."),void h("error");f(!0),c("");try{await new Promise(e=>setTimeout(e,2e3));!1?(c("Pomy\u015blnie po\u0142\u0105czono z Witness Digital Twin!"),h("success"),setTimeout(()=>{n()},1500)):(c("Nie znaleziono Digital Twin o podanym ID lub kod jest nieprawid\u0142owy."),h("error"))}catch(e){c("B\u0142\u0105d po\u0142\u0105czenia: ".concat(e.message||"Nieznany b\u0142\u0105d.")),h("error")}finally{f(!1)}},isLoading:d,loadingText:"\u0141\u0105czenie...",disabled:d})]})]})}):null},nt=e=>{let{isOpen:t,onClose:n,onSubmit:i,initialName:a="",showMessage:o}=e;const[s,l]=(0,r.useState)(a),[c,u]=(0,r.useState)(""),h=(0,r.useRef)(null),{userCreatedAnalyses:d}=(0,r.useContext)(Pe);(0,r.useEffect)(()=>{t&&(l(a),u(""),setTimeout(()=>{h.current&&h.current.focus()},100))},[t,a]);const f=e=>{if(!e.trim())return"Prosz\u0119 poda\u0107 nazw\u0119 analizy.";const t=e.trim().toLowerCase();return d&&d.some(e=>e.analysisName&&e.analysisName.toLowerCase()===t)?"Analiza o tej nazwie ju\u017c istnieje. Prosz\u0119 wybra\u0107 inn\u0105 nazw\u0119.":""},p=()=>{const e=f(s);if(e)return u(e),void(o&&o(e,"error"));i(s.trim()),l(""),u(""),n()};return t?(0,xe.jsx)("div",{className:"modal active",children:(0,xe.jsxs)("div",{className:"modal-content",children:[(0,xe.jsx)("h2",{className:"modal-title",children:"Nazwa Analizy"}),(0,xe.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"Podaj nazw\u0119 dla tej analizy, aby \u0142atwiej j\u0105 p\xf3\u017aniej zidentyfikowa\u0107."}),(0,xe.jsxs)("div",{className:"relative",children:[(0,xe.jsx)("input",{ref:h,type:"text",value:s,onChange:e=>{const t=e.target.value;l(t),c&&u(f(t))},onBlur:()=>u(f(s)),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())},className:"modal-input ".concat(c?"border-red-500":""),placeholder:"Np. Analiza sprzeda\u017cy Q1"}),c&&(0,xe.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c})]}),(0,xe.jsxs)("div",{className:"modal-buttons",children:[(0,xe.jsx)("button",{onClick:n,className:"modal-button modal-button-secondary",children:"Anuluj"}),(0,xe.jsx)("button",{onClick:p,className:"modal-button modal-button-primary",disabled:!s.trim(),children:"Rozpocznij Analiz\u0119"})]})]})}):null},rt=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)("info"),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)("Wybierz plik z danymi"),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!1),[b,_]=(0,r.useState)(""),E=(0,r.useRef)(null),{user:S}=(0,ke.useAuth)(),k=(0,a.Zp)(),{showToast:T}=Ae();(0,r.useEffect)(()=>{const e=setTimeout(()=>{v(!0)},300);return()=>clearTimeout(e)},[]);const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";i(e),s(t)},x=!S||l;return(0,xe.jsxs)("div",{className:"new-landing-page-body-wrapper",children:[(0,xe.jsxs)("div",{className:"analyzer-card",children:[(0,xe.jsx)("div",{className:"analyzer-card-header",children:(0,xe.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/csv-data-analyzer-e3207.firebasestorage.app/o/Twinn%20Agent%20AI.png?alt=media&token=08be442b-f6fb-4a00-9993-1fd3be2ddab7",alt:"Twinn Agent AI - Twinn Witness Logo",className:"header-logo-img ".concat(g?"logo-visible":"logo-hidden"),onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/300x75/334155/CBD5E1?text=Logo+Error",e.target.alt="B\u0142\u0105d \u0142adowania logo"}})}),(0,xe.jsx)("p",{className:"analyzer-subtitle",children:"Zwi\u0119ksz efektywno\u015b\u0107 z Agent Lean AI. Analizuj dane lub przegl\u0105daj gotowe raporty."}),(0,xe.jsx)("input",{type:"file",id:"csvFileInput",accept:".csv",style:{display:"none"},ref:E,onChange:e=>{const n=e.target.files[0];if(n){t(n);const e=n.name.length>25?"".concat(n.name.substring(0,22),"..."):n.name;f(e),T("Wybrano plik: ".concat(n.name),"success"),_(n.name.replace(/\.[^/.]+$/,"")),m("analyze-cue"),setTimeout(()=>m(""),1400)}else t(null),f("Wybierz plik z danymi"),_("");E.current&&(E.current.value="")},disabled:x}),(0,xe.jsx)(et,{isFileInputLabel:!0,htmlFor:"csvFileInput",id:"fileSelectBtn",label:d,variant:"file-input",iconSvgPath:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M3 10.5a2.25 2.25 0 002.25 2.25c1.004 0 1.875-.694 2.148-1.683A5.25 5.25 0 0112 6.75c2.118 0 3.906 1.226 4.602 3.017.273.989 1.144 1.683 2.148 1.683A2.25 2.25 0 0021 10.5M3 16.5v-6M21 16.5v-6",disabled:x}),(0,xe.jsx)(et,{id:"analyzeFileBtn",label:"Analizuj Plik",variant:"primary",iconSvgPath:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75",onClick:()=>{S?e?w(!0):T("Prosz\u0119 wybra\u0107 plik z danymi.","error"):T("Prosz\u0119 si\u0119 zalogowa\u0107, aby rozpocz\u0105\u0107 analiz\u0119.","error")},disabled:!e||x,isLoading:l,loadingText:"Przetwarzam...",className:p}),(0,xe.jsx)("div",{id:"statusMessagesContainer",children:n&&(0,xe.jsx)("div",{className:"status-message status-".concat(o),children:n})}),(0,xe.jsx)("div",{className:"separator",children:"LUB"}),(0,xe.jsx)(et,{id:"browseAnalysesBtn",label:"Przegl\u0105daj Analizy",variant:"secondary",iconSvgPath:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776",onClick:()=>{S?k("/dashboard"):T("Prosz\u0119 si\u0119 zalogowa\u0107, aby przegl\u0105da\u0107 analizy.","error")},disabled:x}),(0,xe.jsx)(et,{id:"witnessBtn",label:"Po\u0142\u0105cz z Witness Digital Twin",variant:"tertiary",iconSvgPath:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244",onClick:()=>{h(!0)},disabled:x})]}),(0,xe.jsx)("p",{className:"footer-text",children:"\xa9 2024-2025 Advanced Manufacturing Consulting. Wszelkie prawa zastrze\u017cone."}),(0,xe.jsx)(tt,{isOpen:u,onClose:()=>h(!1)}),(0,xe.jsx)(nt,{isOpen:y,onClose:()=>w(!1),onSubmit:async t=>{if(w(!1),!e||!S)return void T("B\u0142\u0105d: Plik lub u\u017cytkownik nie jest ju\u017c dost\u0119pny.","error");c(!0);const n=Be(),r=e.name,i=S.uid;try{C("Krok 1/2: Wysy\u0142anie pliku ".concat(r,"..."),"info");const o="raw_csvs/".concat(i,"/").concat(n,"/").concat(r),s=(0,Je.KR)(Ce.IG,o);await(0,Je.D)(s,e),C('Krok 2/2: Inicjowanie analizy "'.concat(t,'"...'),"info");const l=await Qe.requestAnalysis({analysisId:n,originalFileName:r,analysisName:t,userId:i});var a;if(!l.data.success)throw new Error((null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.message)||"Nie uda\u0142o si\u0119 zainicjowa\u0107 analizy.");C("Analiza rozpocz\u0119ta! Przekierowuj\u0119 do pulpitu...","success"),setTimeout(()=>{k("/dashboard/".concat(l.data.analysisId))},1500)}catch(o){C("B\u0142\u0105d krytyczny: ".concat(o.message||"Nie uda\u0142o si\u0119 rozpocz\u0105\u0107 procesu."),"error"),T("Error: ".concat(o.message),"error"),c(!1)}},initialName:b,showMessage:T})]})},it=()=>{const{user:e,loading:t}=(0,ke.useAuth)();return t?(0,xe.jsx)("div",{style:{textAlign:"center",paddingTop:"5rem"},children:"Loading User Session..."}):(0,xe.jsx)(ot,{})},at=e=>{let{onLoginClick:t,onLogout:n}=e;const{user:r,claims:i}=(0,ke.useAuth)();return(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)(Te.c8,{user:r,claims:i,onLogin:t,onLogout:n,shellUrl:"https://amc-platform-b2c.web.app"}),(0,xe.jsx)(a.sv,{})]})},ot=()=>{const[e,t]=(0,r.useState)(!1),{login:n,mfaRequired:i,mfaHint:o,resolveMfa:l,loading:c}=(0,ke.useAuth)(),u=(0,a.Zp)(),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),m=e=>{u("/dashboard/".concat(e.analysisId))},g=()=>{u("/")};return(0,xe.jsxs)(xe.Fragment,{children:[(0,xe.jsx)(Te.zC,{isOpen:e,onClose:()=>t(!1),onLoginSubmit:async(e,r)=>{d(null);const i=await n(e,r);i.success?t(!1):i.mfa||d(i.error||"Login failed.")},onMfaSubmit:async e=>{p(null);const n=await l(e);n.success?t(!1):p(n.error||"Invalid MFA code.")},isMfa:i,mfaHint:o,loginError:h,mfaError:f,isLoading:c}),(0,xe.jsx)(Le,{onNavigateToDashboard:m}),(0,xe.jsx)("main",{children:(0,xe.jsxs)(a.BV,{children:[(0,xe.jsx)(a.qh,{path:"/dashboard",element:(0,xe.jsx)($e,{onNavigateToLanding:g})}),(0,xe.jsx)(a.qh,{path:"/dashboard/:analysisId",element:(0,xe.jsx)($e,{onNavigateToLanding:g})}),(0,xe.jsx)(a.qh,{element:(0,xe.jsx)(at,{onLoginClick:()=>t(!0),onLogout:async()=>{await(0,s.CI)(Ce.j2)}}),children:(0,xe.jsx)(a.qh,{path:"/",element:(0,xe.jsx)(rt,{onStartAnalysis:m})})})]})})]})};const st=function(){return(0,xe.jsx)(ke.AuthProvider,{children:(0,xe.jsxs)(Ne,{children:[(0,xe.jsx)(Ee,{position:"bottom-right",toastOptions:{style:{background:"var(--bg-modal)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},success:{iconTheme:{primary:"#22C55E",secondary:"var(--text-primary)"}},error:{iconTheme:{primary:"#EF4444",secondary:"var(--text-primary)"}}}}),(0,xe.jsx)(Oe,{children:(0,xe.jsx)(o.BrowserRouter,{children:(0,xe.jsx)(it,{})})})]})})};i.createRoot(document.getElementById("root")).render((0,xe.jsx)(r.StrictMode,{children:(0,xe.jsx)(r.Suspense,{fallback:(0,xe.jsx)("div",{children:"Loading..."}),children:(0,xe.jsx)(st,{})})}))})();
//# sourceMappingURL=main.aaa50c5d.js.map